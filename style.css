:root {
    /* --- ИЗМЕНЕНО: (Задание 4) ПАЛИТРА С ТЕМНЫМ UI --- */
    --color-background: #B6BECB; /* Ваш светлый фон */
    /* ИЗМЕНЕНО: (Задание 4) --color-sidebar стал темным */
    --color-sidebar: #3D4654;    /* Темно-серый/сланец */
    /* --- ИЗМЕНЕНО: (ЗАПРОС) Розовый заменен на оранжевый --- */
    --color-primary: #F5A623;    /* Оранжевый акцент (бывший розовый) */
    --color-secondary: #00A878;  /* Темный зеленый (для контраста) */
    --color-text: #282A36;       /* Темный текст */
    --color-card: #FFFFFF;       /* Белые карточки */
    --color-border: #E6E6E6;     /* Светлая граница */
    
    /* ДОБАВЛЕНО: (Задание 4) Дополнительные цвета для темного UI */
    --color-text-light: #F8F8F2; /* Светлый текст (почти белый) */
    --color-border-dark: #5A6678; /* Темная граница (для hover и фона баланса) */
    
    --mobile-nav-height: 60px; 
    /* --- ИЗМЕНЕНО: (ЗАПРОС) Хедер стал выше --- */
    --mobile-header-height: 70px; 
    
    --color-blue: #4A90E2;       /* Более стандартный синий */
    --color-orange: #F5A623;     /* Золотой/Оранжевый */
    
    /* Дополнительные цвета для Mines */
    --color-mine-closed: #E0E0E0; /* Светло-серая ячейка */
    --color-mine-safe: var(--color-secondary); /* Темно-зеленый */
    --color-mine-bomb: #FF5555;   /* Красный */
    --color-mines-panel: #FDFDFD; /* Светлая панель */
    /* --- КОНЕЦ ИЗМЕНЕНИЙ ПАЛИТРЫ --- */
    
    --mobile-bet-button-width: 30px; 
    --mines-bet-input-padding: 2px;
    --bet-input-gap: 2px; 
    
    --mobile-header-padding-x: 15px;
    
    /* ИЗМЕНЕHЕНО: (Задание 4) Баланс на темном фоне */
    --balance-info-bg: var(--color-border-dark); /* Фон баланса (темный) */
    --balance-info-color: var(--color-secondary); /* Цвет суммы (оставим зеленым) */
    
    --dice-input-height: 50px;
    
    /* ДОБАВЛЕНО: (Задание 1) Настройка скорости анимации выигрыша */
    --hot-win-duration: 3s; /* << МЕНЯЙ ЗДЕСЬ (5s = 5 секунд) */
}

/* Общие стили и сброс */
html {
    overflow-x: hidden; 
}
* {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
    font-family: Arial, sans-serif;
}

/* --- ИЗМЕНЕНО: (Задание 2) Фон с новым, более четким SVG-паттерном лапок --- */
body {
    /* ИЗМЕНЕНО: (Запрос 1) Добавлен градиентный фон */
    background-color: var(--color-background); /* Fallback (чистый светлый фон) */
    
    /* --- ИЗМЕНЕНО: (ЗАДАНИЕ) Более выраженный градиент (Сверху Вниз) --- */
    background-image: 
        linear-gradient(
            to bottom, /* Сверху вниз */
            #E0E5ED, /* Заметно светлее (сверху) */
            var(--color-background) 30%, /* #B6BECB (центр) */
            #8A96AE 100% /* Заметно темнее (снизу) */
        );
    
    background-attachment: fixed; /* Градиент не скроллится */
    /* --- КОНЕЦ ИЗМЕНЕНИЯ --- */
    

    color: var(--color-text);
    min-height: 100vh;
    overflow-x: hidden; 
}
/* --- КОНЕЦ ИЗМЕНЕНИЙ ФОНА --- */

/* --- ДОБАВЛЕНО: (ЗАПРОС 3) Стили экрана загрузки --- */
#loader-overlay {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: var(--color-sidebar); /* Темный фон, как у сайдбара */
    z-index: 9999;
    display: flex;
    justify-content: center;
    align-items: center;
    /* Плавное исчезновение */
    transition: opacity 0.5s ease;
    opacity: 1;
}

#loader-bar {
    width: 0%; /* JS будет анимировать это */
    height: 4px;
    background-color: var(--color-orange); /* ИЗМЕНЕНО: (Запрос 4) Золотой */
    border-radius: 2px;
    box-shadow: 0 0 10px var(--color-orange); /* ИЗМЕНЕНО: (Запрос 4) Золотой */
    /* Плавное движение полоски */
    transition: width 0.4s ease;
}
/* --- КОНЕЦ СТИЛЕЙ ЗАГРУЗКИ --- */


/* 1. Контейнер Приложения */
.app-container {
    display: flex;
    min-height: 100vh;
    /* ИЗМЕНЕНО: (Запрос v2.1) Всегда колонка, для 100% ширины хедера */
    flex-direction: column; 
}

/* ИЗМЕНЕНО: (Запрос 2/3) .hidden-on-mobile теперь всегда скрыт */
.hidden-on-mobile {
    display: none !important; 
}

/* --- ИЗМЕНЕНО: (ЗАПРОС) Новый layout хедера --- */
.mobile-header {
    display: flex; 
    justify-content: space-between; /* Лого слева, баланс справа */
    align-items: flex-end; /* Выравнивание по низу */
    width: 100%;
    height: var(--mobile-header-height); /* Стало 70px */
    padding: 5px 10px; 
    background-color: var(--color-sidebar); 
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    margin-bottom: 10px; 
    gap: 10px;
}

/* 2. Боковая Навигация (Сайдбар) - УДАЛЕНО */
/* ... */

/* 3. Основная Область Контента */
.content-area {
    flex-grow: 1;
    /* УБРАНО: padding-top: var(--mobile-header-height); (т.к. хедер статичный) */
    /* ИЗМЕНЕНО: (Запрос 2) Отступ снизу для фикс. навигации */
    padding-bottom: 80px; 
    padding-left: 10px;
    padding-right: 10px;
    overflow-y: auto;
    min-width: 0; 
}

/* --- ИЗМЕНЕНО: (ЗАПРОС) Обновлены стили логотипа в хедере --- */
.logo {
    font-size: 1.8em;
    font-weight: bold;
    text-align: center;
    margin-bottom: 0; 
    display: flex;
    align-items: flex-end; /* Выравнивание по низу */
    justify-content: flex-start; 
    gap: 10px; 
    cursor: pointer; 
    flex-shrink: 0; 
}

/* ДОБАВЛЕНО: (Задание 3) Стили для картинки логотипа */
.logo-image {
    height: 3.0em; 
    width: auto;
    image-rendering: -webkit-optimize-contrast;
    image-rendering: crisp-edges;
}

/* ИЗМЕНЕНО: (Задание 3) Стили для текста логотипа */
.logo-text {
    line-height: 1;
    font-size: 1.5em; 
    font-family: cursive; 
    text-shadow: 2px 2px 0px rgba(0, 0, 0, 0.1); 
    position: relative;
    
    /* --- ДОБАВЛЕНО: (ЗАПРОС 1) Анимация текста --- */
    background: linear-gradient(
        90deg, 
        var(--color-orange), 
        var(--color-text-light), 
        var(--color-orange)
    );
    -webkit-background-clip: text;
    background-clip: text;
    color: transparent;
    background-size: 200% auto;
    animation: gold-shimmer 4s linear infinite;

    /* --- ИЗМЕНЕНО: (ЗАПРОС) Сброс transform --- */
    transform: translate(0px, 0px); 
}
/* --- КОНЕЦ ИЗМЕНЕНИЙ ЛОГОТИПА --- */


/* .nav-links { ... } УДАЛЕНО */
/* .nav-item { ... } УДАЛЕНО */


.page-section { 
    max-width: 1000px; 
    margin: 0 auto; /* Центрируем контент */
}
.full-width-lobby {
    max-width: none; 
    padding: 0 10px; 
}
/* --- ИСПРАВЛЕНИЕ: Проблема специфичности CSS --- */
.hidden { 
    display: none !important; 
}
/* --- КОНЕЦ ИСПРАВЛЕНИЯ --- */

/* --- ИЗМЕНЕНО: (ЗАПРОС) Стилизация баланса в хедере --- */
.profile-balance-box {
    background-color: var(--balance-info-bg);
    padding: 6px 12px; 
    border-radius: 10px;
    border: 1px solid var(--color-border-dark);
    display: flex;
    flex-direction: column;
    align-items: center; 
    gap: 4px;
    cursor: pointer;
    transition: all 0.2s ease;
    position: relative;
    overflow: hidden;
    /* ИЗМЕНЕНО: Убраны margin-left/right auto для прижатия вправо */
    flex-shrink: 0; 
    flex-grow: 0;
    min-width: 120px; 
    text-align: center;
    margin-bottom: 0; 
}
.profile-balance-box:hover {
    background-color: #6A788C;
    border-color: var(--color-secondary);
    /* ИЗМЕНЕНО: (ЗАПРОС 3) Убрано движение при наведении */
    transform: none; 
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
}

/* ИЗМЕНЕНО: (Запрос 2) Убираем иконку пользователя */
.profile-balance-box::after {
    content: none;
}

/* ИЗМЕНЕНО: (ЗАПРОС) Убираем лапку из хедера */
.profile-balance-box::before {
    content: none;
}


.profile-name {
    font-weight: bold;
    color: var(--color-text-light); 
    font-size: 0.9em;
    line-height: 1.1;
    position: relative;
    z-index: 1;
    /* --- ДОБАВЛЕНО: (ЗАПРОС) Обводка --- */
    -webkit-text-stroke: 0.5px #000;
    paint-order: stroke fill;
}

.profile-balance-box .balance {
    /* --- ИЗМЕНЕНО: (ЗАПРОС) Цвет и обводка --- */
    color: var(--color-text-light) !important; /* Белый */
    -webkit-text-stroke: 0.5px #000;
    paint-order: stroke fill;
    /* --- */
    font-size: 1.1em;
    font-weight: bold;
    line-height: 1.1;
    position: relative;
    z-index: 1;
}
/* --- УДАЛЕНО: (ЗАПРОС) Стили для кнопок в хедере --- */
/* .header-actions { ... } */
/* .header-action-button { ... } */
/* --- КОНЕЦ УДАЛЕНИЯ --- */


/* Кнопки и Формы */
.primary-button {
    background-color: var(--color-primary);
    color: white; /* Белый текст на оранжевом */
    padding: 12px 25px;
    border: none;
    border-radius: 6px;
    font-size: 1em;
    font-weight: bold;
    cursor: pointer;
    transition: background-color 0.2s, opacity 0.2s;
}

.secondary-button {
    background-color: var(--color-secondary);
    color: #FFFFFF; /* Белый текст на зеленом */
}


/* --- СТИЛИ ДЛЯ ЛОББИ --- */

/* ИЗМЕНЕНО: (Запрос 3) Корректировка хедера лобби */
.lobby-header { 
    margin-bottom: 25px; 
    padding: 0 15px;
    /* Убираем flex, т.к. там остался 1 элемент */
    display: block; 
    text-align: center; /* Центрируем заголовок "Список игр" */
} 

/* ДОБАВЛЕНО: (Запрос 3) Стилизация заголовка "Список игр" */
.game-list-title {
    font-size: 1.8em;
    font-weight: 800;
    color: var(--color-text);
    margin-bottom: 15px;
    position: relative;
    display: inline-block; /* Для ::after */
    padding-bottom: 5px;
    /* ИЗМЕНЕНО: (Запрос) Центрирование по умолчанию */
    text-align: center;
    /* ИЗМЕНЕНО: (Запрос) Сброс inline-style */
    width: auto; 
}

/* ДОБАВЛЕНО: (Запрос 3) Декоративное подчеркивание */
.game-list-title::after {
    content: '';
    position: absolute;
    bottom: 0;
    left: 0;
    /* ИЗМЕНЕНО: (Запрос) Ширина 100% и черный цвет по умолчанию */
    width: 100%; 
    height: 4px;
    background-color: var(--color-text); 
    border-radius: 2px;
    /* ИЗМЕНЕНО: (Запрос) Сброс inline-style */
    display: block;
    margin: 0;
    transform: none;
}

.game-cards-list {
    display: grid; 
    /* ИЗМЕНЕНО: 2 колонки, как в скриншоте-примере */
    grid-template-columns: repeat(2, 1fr); 
    gap: 15px;
    padding: 0 15px;
    /* ДОБАВЛЕНО: Ограничим макс. ширину, чтобы на десктопе не было слишком широко */
    max-width: 800px;
    margin: 0 auto; /* Центрируем грид */
}

/* ДОБАВЛЕНО: (Задание 2) Обёртка для карточки и названия */
.lobby-game-wrapper {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 10px; /* Отступ между картой и названием */
}


/* ИЗМЕНЕНО: (Задание 2, 3) Новый стиль для кнопок (замена .game-card-frame) */
.lobby-game-card {
    /* Основной контейнер кнопки */
    display: flex;
    /* ИЗМЕНЕНО: (Задание 2) Убрано flex-direction и justify-content */
    align-items: center;
    justify-content: center; /* Центрируем (хотя кот позиционируется абсолютно) */
    
    /* --- ИЗМЕНЕНО: (ЗАПРОС 2) Анимированная рамка --- */
    border: 3px solid transparent;
    background-image: 
        /* 1. Внутренний фон (старый) */
        linear-gradient(145deg, var(--color-card), var(--color-background)),
        /* 2. Фон рамки (анимированный градиент) */
        linear-gradient(90deg, var(--color-orange), var(--color-text-light), var(--color-orange));
    
    background-origin: padding-box, border-box;
    background-clip: padding-box, border-box;
    
    background-size: 100% 100%, 200% auto;
    animation: gold-shimmer-border 4s linear infinite;
    /* --- КОНЕЦ ИЗМЕНЕНИЯ --- */
    
    /* (Req 3) Более округлые */
    border-radius: 20px; 
    
    /* ИЗМЕНЕНО: (Эстетика) Мягкая тень, чтобы кнопки выделялись */
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.15);
    transition: transform 0.3s ease, box-shadow 0.3s ease;
    
    /* (Req 3) Меньше */
    padding: 10px;
    height: 140px; /* Новая высота */
    width: 100%; /* (Задание 2) Растягиваем на всю ширину wrapper'а */
    
    /* Сброс стилей кнопки */
    cursor: pointer;
    text-align: left;
    position: relative; /* Для позиционирования кота и лапки */
    overflow: hidden; /* Чтобы кот не вылезал */
}

/* ДОБАВЛЕНО: (Эстетика) Декоративный элемент "Лапка" */
.lobby-game-card::after {
    content: '';
    position: absolute;
    top: 0;
    right: 0;
    
    /* --- ИЗМЕНЕНО: (ЗАПРОС 1a) Уголок с градиентом --- */
    width: 45px; /* Размер уголка */
    height: 45px; /* Размер уголка */
    /* Тот же анимированный фон, что и у рамки */
    background: linear-gradient(90deg, var(--color-orange), var(--color-text-light), var(--color-orange));
    background-size: 200% auto;
    animation: gold-shimmer-border 4s linear infinite;
    
    border-top-right-radius: 18px; /* Скругление (совпадает с родителем) */
    z-index: 10;
    
    /* Обрезаем квадрат в треугольник */
    clip-path: polygon(100% 0, 0 0, 100% 100%);
    /* --- КОНЕЦ ИЗМЕНЕНИЯ --- */
}

/* ДОБАВЛЕНО: (Эстетика) На уголке лапки ставим "пятнышко" */
.lobby-game-card::before {
    content: none; /* ИЗМЕНЕНО: (Запрос 2) Убрали лапку */
    position: absolute;
    top: 3px;
    right: 3px;
    font-size: 1.2em;
    line-height: 1;
    z-index: 11;
    color: var(--color-text); 
    transition: color 0.3s;
}


.lobby-game-card:hover {
    transform: translateY(-5px);
    /* ИЗМЕНЕНО: (ЗАПРОС 2) Glow стал золотым */
    box-shadow: 
        0 8px 20px rgba(0, 0, 0, 0.2),
        0 0 20px var(--color-orange); /* Золотой Glow */
    /* border-color: var(--color-primary); <-- Удалено */
}

.lobby-game-card:active {
    transform: scale(0.97) translateY(1px);
    box-shadow: none; 
}

/* ДОБАВЛЕНО: (Задание 2) Стили для кота */
.game-card-cat {
    height: 120px; /* Меньше, чем 140px (высота кнопки) */
    width: auto;
    object-fit: contain;
    position: absolute;
    top: -10px; /* Слегка высовывается */
    
    /* ИЗМЕНЕНО: (Запрос 1) Позиционирование от левой границы */
    left: 0; 
    transform: translateX(0);
    
    transition: transform 0.3s ease;
    z-index: 1;
}

.lobby-game-card:hover .game-card-cat {
    /* ИЗМЕНЕНО: (Задание 3) Убран transformX */
    transform: scale(1.08); /* Чуть больший зум при наведении */
}

/* ДОБАВЛЕНО: (Задание 2) Стили для панельки */
.game-card-panel {
    background-color: var(--color-sidebar); /* Темный фон, как у сайдбара */
    border-radius: 12px; /* (Req 3) Скруглено */
    padding: 8px 15px;
    text-align: center;
    z-index: 5; /* Поверх кота */
    
    /* ИЗМЕНЕНО: (Задание 2) Убрано абсолютное позиционирование */
    width: 90%; /* Ширина относительно .lobby-game-wrapper */
    margin: 0 auto; /* Центрирование */
    cursor: pointer; /* <-- ДОБАВЛЕНО: (Запрос 1) */
}

/* ДОБАВЛЕНО: (Задание 2) Стили для заголовка на панельке */
.game-card-title {
    font-size: 1.2em;
    font-weight: 800;
    color: var(--color-text-light); /* Светлый текст на темной панельке */
}


/* --- СТИЛИ ДЛЯ ИГРЫ DICE --- */

.dice-game-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 0; 
    max-width: 500px; 
    margin: 0 auto;
    width: 100%; 
    margin-top: 15px; /* ИЗМЕНЕНО: Добавлен отступ сверху */
}

.dice-calculator-box {
    display: flex;
    flex-direction: column;
    align-items: center; 
    justify-content: center;
    width: 100%;
    /* ИЗМЕНЕНО: (ЗАДАНИЕ 2) Новый отступ */
    margin: 10px 0; 
    padding: 15px;
    background-color: var(--color-mines-panel); 
    border-radius: 8px;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
}

.dice-calculator-box .calc-item {
    text-align: center;
    padding: 0; 
    width: 100%;
}

.calc-label {
    font-size: 0.85em;
    color: var(--color-text);
    margin-bottom: 5px;
}

#dice-profit-display {
    display: block;
    font-size: 2.2em; 
    font-weight: 800;
    color: var(--color-text); 
}
.profit-amount.zero {
    color: var(--color-text); 
}


/* ИЗМЕНЕНО: (ЗАДАНИЕ 3) .dice-controls стал прозрачным контейнером */
.dice-controls {
    width: 100%;
    /* background-color: var(--color-sidebar); <-- УБРАН ФОН */
    padding: 0; /* <-- УБРАН PADDING */
    /* border-radius: 8px; <-- УБРАН BORDER-RADIUS */
    margin-bottom: 0; 
}

/* ИЗМЕНЕНО: (ЗАДАНИЕ 2, 3) gap теперь отвечает за отступ МЕЖДУ панелями */
.dice-input-row {
    display: flex;
    gap: 10px; /* <-- Отступ МЕЖДУ панелями "Ставка" и "Шанс" */
    margin-bottom: 0; 
}

/* ИЗМЕНЕНО: (ЗАДАНИЕ 3) .dice-input-group ТЕПЕРЬ является панелью */
.dice-input-group {
    flex: 1; 
    display: flex;
    flex-direction: column;
    /* ДОБАВЛЕНО: (ЗАДАНИЕ 3) Стили перенесены с .dice-controls */
    background-color: var(--color-sidebar);
    padding: 10px;
    border-radius: 8px;
    min-width: 0; /* <-- ИСПРАВЛЕНИЕ: Предотвращает переполнение flex-box */
}

/* --- ИЗМЕНЕНО: (Запрос) Стили для <label> --- */
.dice-input-group label {
    font-size: 0.9em;
    color: var(--color-text-light); /* ИЗМЕНЕНО: Стал светлым (почти белым) */
    margin-bottom: 5px;
    font-weight: bold; /* ДОБАВЛЕНО: Жирный шрифт */
}
/* --- КОНЕЦ ИЗМЕНЕНИЙ --- */

.dice-input-group input[type="number"] {
    width: 100%;
    padding: 10px;
    border: 1px solid var(--color-border);
    border-radius: 6px; 
    background-color: #FFFFFF; /* Белый фон инпута */
    color: var(--color-text);
    font-size: 1.1em;
    text-align: center;
    margin-bottom: 10px; 
    height: 40px; 
}

/* --- ИЗМЕНЕНО: (ЗАДАНИЕ) Старые .bet-actions заменены на .bet-actions-grid --- */
.dice-input-group .bet-actions-grid {
    display: grid;
    grid-template-columns: 1fr 1fr; /* 2x2 сетка */
    gap: 5px; /* Отступ между кнопками */
}

/* Кнопки в новой сетке */
.dice-input-group .bet-actions-grid button {
    flex: 1; 
    padding: 10px 5px; /* Увеличили высоту кнопок */
    background-color: var(--color-border-dark);
    color: var(--color-text-light);
    border: 1px solid var(--color-border-dark);
    border-radius: 4px;
    font-weight: normal;
    font-size: 0.9em; /* Слегка увеличили шрифт */
    cursor: pointer;
    transition: background-color 0.2s;
}

.dice-input-group .bet-actions-grid button:hover {
    background-color: #6A788C;
}
/* --- КОНЕЦ ИЗМЕНЕНИЙ (ЗАДАНИЕ) --- */


/* ИЗМЕНЕНО: (ЗАДАНИЕ 2) Блок вынесен из .dice-controls, отступы изменены */
.dice-roll-area {
    width: 100%; /* ДОБАВЛЕНО: (ЗАДАНИЕ 2) */
    margin-top: 10px;
    padding-top: 0;
    border-top: none;
}
/* --- ИЗМЕНЕНО: (Запрос) Стили для диапазона --- */
.roll-range-display {
    display: flex;
    justify-content: space-between;
    font-size: 0.9em;
    /* ИЗМЕНЕНО: (ЗАДАНИЕ 2) Цвет текста теперь темный, т.к. фон светлый */
    color: var(--color-text); 
    margin-bottom: 10px;
    font-weight: bold; /* ДОБАВЛЕНО: Жирный шрифт */
    opacity: 0.8; /* ДОБАВЛЕНО: (ЗАДАНИЕ 2) */
}
/* --- КОНЕЦ ИЗМЕНЕНИЙ --- */

.dice-buttons {
    display: flex;
    justify-content: space-between;
    gap: 10px;
    width: 100%;
    margin-bottom: 0; /* ИЗМЕНЕНО: (ЗАДАНИЕ 2) Убран отступ */
}
/* --- ИЗМЕНЕНО: (Задание 1) Новый стиль кнопок "Меньше" / "Больше" --- */
.dice-buttons .roll-button {
    flex-grow: 1;
    padding: 15px 0;
    font-size: 1.2em;
    font-weight: bold;
    border-radius: 8px;
    cursor: pointer;
    
    /* Новый градиент и тень */
    background: linear-gradient(145deg, #FFFFFF, #E9E9E9);
    color: var(--color-text); /* Темный текст */
    border: 1px solid #CCCCCC;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    
    transition: all 0.2s ease;
}

.dice-buttons .roll-button:hover {
    background: linear-gradient(145deg, #F9F9F9, #E0E0E0);
    box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
    transform: translateY(-2px);
}

.dice-buttons .roll-button:active {
    background: linear-gradient(145deg, #E0E0E0, #F0F0F0);
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    transform: translateY(1px);
}
/* --- УДАЛЕНЫ СТАРЫЕ СТИЛИ ID #roll-under / #roll-over --- */
/* --- КОНЕЦ ИЗМЕНЕНИЙ (Задание 1) --- */

/* --- ИЗМЕНЕНО: (Запрос) Стили для статус-бара --- */
.dice-status-bar {
    text-align: center;
    /* ИЗМЕНЕНО: (ЗАДАНИЕ 2) Цвет текста теперь темный */
    color: var(--color-text); 
    min-height: 20px;
    font-size: 0.9em;
    font-weight: bold; /* ДОБАВЛЕНО: Жирный шрифт */
    /* ДОБАВЛЕНО: (ЗАДАНИЕ 3) Отступ сверху, чтобы отодвинуть от кнопок */
    margin-top: 10px;
    
    /* ДОБАВЛЕНО: (ЗАДАНИЕ 3) Стили по умолчанию для прямоугольника */
    padding: 10px;
    border-radius: 6px;
    display: none; /* Прямоугольник скрыт, пока нет класса .win или .loss */
}

/* ДОБАВЛЕНО: (ЗАДАНИЕ 3) Стили для прямоугольника ВЫИГРЫША */
.dice-status-bar.win {
    display: block; /* Показываем */
    background-color: var(--color-secondary); /* Зеленый */
    color: var(--color-text-light); /* Белый текст */
    box-shadow: 0 0 10px rgba(0, 168, 120, 0.5);
}

/* ДОБАВЛЕНО: (ЗАДАНИЕ 3) Стили для прямоугольника ПРОИГРЫША */
.dice-status-bar.loss {
    display: block; /* Показываем */
    background-color: var(--color-mine-bomb); /* Красный */
    color: var(--color-text-light); /* Белый текст */
    box-shadow: 0 0 10px rgba(255, 85, 85, 0.7);
}
/* --- КОНЕЦ ИЗМЕНЕНИЙ --- */

.dice-result-log {
    width: 100%;
    text-align: center;
    padding: 20px 0;
    margin-top: 10px;
    margin-bottom: 10px; /* ДОБАВЛЕНО: (Задание 4) */
    
    background-color: var(--color-border-dark); /* ИЗМЕНЕНО: (Задание 3) */
    border-radius: 8px;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
}

#dice-result-number {
    display: inline-block;
    font-size: 3.5em; 
    font-weight: 900;
    letter-spacing: 5px;
    color: var(--color-text-light); /* ИЗМЕНЕНО: (Задание 4) Текст стал светлым */
    transition: color 0.3s;
}

#dice-result-number.win {
    color: var(--color-secondary);
    text-shadow: 0 0 15px rgba(0, 168, 120, 0.5); 
}

/* --- ИЗМЕНЕНО: (ЗАПРОС 3) Цвет проигрыша --- */
#dice-result-number.loss {
    color: var(--color-mine-bomb); /* <-- ИЗМЕНЕНО */
    text-shadow: 0 0 15px rgba(255, 85, 85, 0.7); /* <-- ИЗМЕНЕНО */
}


/* --- СТИЛИ ДЛЯ ИГРЫ MINES --- */

/* ИЗМЕНЕНО: (ЗАДАНИЕ 1) Контейнер теперь всегда в колонку */
.mines-game-container {
    display: flex;
    flex-direction: column; /* Всегда в колонку */
    align-items: center; /* Центрируем по горизонтали */
    gap: 15px;
    padding: 0 10px;
    max-width: 500px; /* Ограничиваем ширину, как в Dice */
    margin: 0 auto; /* Центрируем */
}

/* ИЗМЕНЕНО: (ЗАДАНИЕ 1) Панель теперь внизу */
.mines-controls-panel {
    flex: 0 0 auto; /* Убираем flex-basis */
    width: 100%; /* На всю ширину контейнера */
    background-color: var(--color-sidebar); /* ИЗМЕНЕНО: (Задание 2) */
    padding: 15px;
    border-radius: 8px;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
    order: 3; /* 1. Сетка, 2. Статус, 3. Панель */
}

/* --- ИЗМЕНЕНО: (Запрос) Стили для <label> --- */
.mines-controls label {
    display: block;
    margin-bottom: 5px;
    font-size: 0.9em;
    color: var(--color-text-light); /* ИЗМЕНЕНО: Стал светлым */
    font-weight: bold; /* ДОБАВЛЕНО: Жирный шрифт */
}

/* ДОБАВЛЕНО: Отступ для новой метки "Количество бомб" */
.mines-controls label[for="mines-count-input"] {
    margin-top: 15px;
}

.mines-controls input[type="number"] {
    width: 100%;
    padding: 10px;
    border: 1px solid var(--color-border);
    border-radius: 6px;
    background-color: #FFFFFF; /* Белый инпут */
    color: var(--color-text);
    font-size: 1.1em;
    text-align: center;
}

/* ИЗМЕНЕНО: Убираем отступ снизу у группы ставок */
.mines-controls .mines-input-group {
    margin-bottom: 0;
}

.bet-input-group {
    display: flex;
    gap: var(--bet-input-gap); 
    margin-bottom: 15px;
}

/* --- ИСПРАВЛЕНИЕ 1 --- */
.bet-input-group input {
    flex-grow: 1;
    min-width: 0; /* <-- ДОБАВЛЕНО: Позволяет инпуту сжиматься (Mines, Crash, Coin) */
}

.bet-actions {
    display: flex;
    gap: var(--bet-input-gap);
    flex-shrink: 0;
}

/* --- ИСПРАВЛЕНИЕ 2: Разделил правила --- */

/* Стили для кнопок "1/2" и "x2" (Десктоп) */
.bet-actions button {
    width: 45px; 
    flex-shrink: 0; /* Не сжиматься */
    padding: 10px 5px;
    background-color: var(--color-sidebar);
    color: var(--color-text-light);
    border: 1px solid var(--color-border-dark);
    border-radius: 6px;
    cursor: pointer;
    font-weight: bold;
    font-size: 1em;
    transition: background-color 0.2s;
    height: 100%;
}

/* Стили для кнопок "Мин" и "Макс" (Десктоп) */
.mines-controls .bet-actions-secondary button,
#coin-bet-controls .bet-actions-secondary button {
    /* Копируем стили */
    padding: 10px 5px;
    background-color: var(--color-sidebar); 
    color: var(--color-text-light); 
    border: 1px solid var(--color-border-dark); 
    border-radius: 6px;
    cursor: pointer;
    font-weight: bold;
    font-size: 1em;
    transition: background-color 0.2s;
    height: 100%;
    
    /* Добавляем Layout */
    flex: 1; 
    width: auto; 
    flex-shrink: 0;
}

/* Общий Hover-эффект для всех кнопок */
.bet-actions button:hover,
.mines-controls .bet-actions-secondary button:hover,
#coin-bet-controls .bet-actions-secondary button:hover {
    background-color: var(--color-border-dark); 
}

/* --- КОНЕЦ ИСПРАВЛЕНИЯ 2 --- */


/* --- ДОБАВЛЕНО: (Задание 3) Стили для контейнера кнопок Мин/Макс --- */
.mines-controls .bet-actions-secondary,
#coin-bet-controls .bet-actions-secondary {
    display: flex;
    gap: var(--bet-input-gap);
    margin-top: var(--bet-input-gap); /* Отступ сверху */
}

/* --- ДОБАВЛЕНО: Стили для нового селектора мин --- */
.mines-count-selector {
    display: flex;
    gap: 5px; /* Промежуток между кнопками и инпутом */
    margin-bottom: 15px;
    width: 100%;
}

.mines-count-btn {
    flex: 1; /* Кнопки занимают равное пространство */
    padding: 10px 5px;
    font-size: 0.9em;
    font-weight: bold;
    color: var(--color-text);
    background-color: #FFFFFF; /* Белый фон */
    border: 1px solid var(--color-border);
    border-radius: 6px;
    cursor: pointer;
    transition: all 0.2s ease;
}

.mines-count-btn:hover {
    background-color: #f0f0f0;
}

.mines-count-btn.active {
    background-color: var(--color-secondary);
    color: #FFFFFF;
    border-color: var(--color-secondary);
}

/* Стилизация инпута для мин */
.mines-count-selector #mines-count-input {
    flex-basis: 70px; /* Фиксированная ширина */
    flex-grow: 0;
    flex-shrink: 0;
    padding: 10px;
    border: 1px solid var(--color-border);
    border-radius: 6px;
    background-color: #f0f2f5; /* Светло-серый фон */
    color: var(--color-text);
    font-size: 1.1em;
    text-align: center;
    font-weight: bold;
}
/* --- КОНЕЦ СТИЛЕЙ СЕЛЕКТОРА МИН --- */


.mines-stats-panel {
    border-top: 1px solid var(--color-border);
    padding-top: 15px;
    margin-top: 15px;
}

.mines-stats-panel p {
    margin-bottom: 5px;
}

/* --- ИЗМЕНЕНО: (Запрос) Стили для stat-label --- */
.stat-label {
    font-size: 0.9em;
    color: var(--color-text-light); /* ИЗМЕНЕНО: (Задание 2) */
    font-weight: bold; /* ДОБАВЛЕНО: Жирный шрифт */
}
/* --- КОНЕЦ ИЗМЕНЕНИЙ --- */

.stat-value {
    font-size: 1.5em;
    font-weight: bold;
    color: var(--color-secondary);
    margin-bottom: 15px;
}


.mines-action-buttons {
    margin-top: 20px;
    display: flex;
    flex-direction: column;
    gap: 10px;
}
.mines-action-buttons button.full-width {
    width: 100%;
}

/* --- ИЗМЕНЕНО: (ЗАПРОС 2) Разделены стили кнопок --- */
#mines-start-button {
    background-color: var(--balance-info-bg); /* Темно-серый */
    color: #FFFFFF; /* Белый текст */
}

#mines-cashout-button {
    background-color: var(--color-secondary); /* Зеленый */
    color: #FFFFFF; /* Белый текст */
}


.mines-grid-wrapper {
    width: 100%;
    max-width: 450px;
    margin-bottom: 0; /* ИЗМЕНЕНО: (ЗАДАНИЕ 1) Убран отступ */
    padding-top: 10px; 
    order: 1; /* 1. Сетка */
}

.mines-grid {
    display: grid; 
    grid-template-columns: repeat(5, 1fr); 
    grid-gap: 5px;
    width: 100%;
    aspect-ratio: 1 / 1;
}

.mine-cell {
    background-color: var(--color-mine-closed);
    border-radius: 8px;
    display: flex;
    justify-content: center;
    align-items: center;
    font-size: 1.5em;
    font-weight: bold;
    cursor: pointer;
    user-select: none;
    aspect-ratio: 1 / 1;
    transition: background-color 0.1s, transform 0.1s;
    /* ДОБАВЛЕНО: (Задача 3) Отступ для иконки бомбы */
    padding: 10%;
}

.mine-cell.closed:hover {
    background-color: #CCCCCC; 
}

.mine-cell.safe {
    background-color: var(--color-mine-safe);
    color: #FFFFFF; /* Белый текст */
    box-shadow: 0 0 10px rgba(0, 168, 120, 0.5); 
    font-size: 1.8em;
    /* --- ДОБАВЛЕНО: (Задание 1) Отступ для иконки рыбки --- */
    padding: 10%; /* Даем место для картинки (10% с каждой стороны) */
}

/* --- ДОБАВЛЕНО: (Задание 1) Стили для иконки рыбки --- */
.mine-cell-icon {
    width: 100%;
    height: 100%;
    object-fit: contain;
    /* Анимация появления */
    animation: bounceIn 0.3s ease;
}
/* --- */


.mine-cell.bomb {
    background-color: var(--color-mine-bomb);
    color: #FFFFFF; /* Белый текст */
    box-shadow: 0 0 10px rgba(255, 85, 85, 0.7); 
    font-size: 1.8em;
}

/* --- ИЗМЕНЕНО: (ЗАДАНИЕ 1) Статус-бар теперь между сеткой и панелью --- */
.mines-status-bar {
    text-align: center;
    color: var(--color-text); 
    min-height: 20px;
    font-size: 0.9em;
    font-weight: bold;
    margin-top: 0; /* ИЗМЕНЕНО: Убран margin-top */
    margin-bottom: 0; /* ИЗМЕНЕНО: Убран margin-bottom */
    
    /* Стили по умолчанию для прямоугольника (как в Dice) */
    padding: 10px;
    border-radius: 6px;
    display: none; /* Скрыт, пока нет .win/.loss */
    width: 100%;
    max-width: 500px; /* Как у Dice */
    margin-left: auto;
    margin-right: auto;
    order: 2; /* 2. Статус-бар */
}

.mines-status-bar.win {
    display: block;
    background-color: var(--color-secondary);
    color: var(--color-text-light);
    box-shadow: 0 0 10px rgba(0, 168, 120, 0.5);
}

.mines-status-bar.loss {
    display: block;
    background-color: var(--color-mine-bomb);
    color: var(--color-text-light);
    box-shadow: 0 0 10px rgba(255, 85, 85, 0.7);
}
/* --- КОНЕЦ ИЗМЕНЕНИЙ --- */

/* --- Стилизация ползунка --- */
input[type=range] {
    -webkit-appearance: none;
    width: 100%;
    margin: 10px 0;
}
input[type=range]:focus {
    outline: none;
}
input[type=range]::-webkit-slider-runnable-track {
    width: 100%;
    height: 8.4px;
    cursor: pointer;
    background: #E0E0E0; 
    border-radius: 4.2px;
    border: 1px solid var(--color-border);
}

input[type=range]::-webkit-slider-thumb {
    -webkit-appearance: none;
    height: 18px;
    width: 18px;
    border-radius: 50%;
    background: var(--color-secondary);
    cursor: pointer;
    margin-top: -5.3px; 
    box-shadow: 0 0 5px var(--color-secondary);
}
/* --- СТИЛИ ДЛЯ ИГРЫ CRASH --- */

/* ИЗМЕНЕНО: (ЗАДАНИЕ 3) Контейнер теперь всегда в колонку */
.crash-game-container {
    display: flex;
    flex-direction: column; /* Всегда в колонку */
    align-items: center; /* Центрируем */
    gap: 15px;
    padding: 0 10px;
    max-width: 800px; /* Ограничиваем ширину (шире, чем Dice/Mines) */
    margin: 0 auto; /* Центрируем */
}
.crash-graph-wrapper {
    flex-grow: 1;
    height: 400px; 
    /* ИЗМЕНЕНИЕ: Цвет фона как у сайдбара */
    background-color: var(--color-sidebar);
    border-radius: 8px;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
    position: relative;
    overflow: hidden;
    display: flex;
    justify-content: center;
    align-items: center;
    /* ИЗМЕНЕНО: (ЗАДАНИЕ 3) На всю ширину, т.к. в колонке */
    width: 100%;
    order: 1; /* 1. График */
}

#crash-canvas {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
}

#crash-multiplier-display {
    position: absolute; 
    top: 50%; 
    left: 50%; 
    transform: translate(-50%, -50%); 
    font-size: 4.5em;
    font-weight: 900;
    color: var(--color-text); /* Темный */
    z-index: 10;
    text-shadow: 0 0 15px rgba(0, 0, 0, 0.1);
    transition: color 0.3s ease;
}

.crash-multiplier-saved {
    position: absolute;
    top: 10px; 
    left: 10px; 
    font-size: 2em; 
    font-weight: bold;
    color: var(--color-secondary); 
    z-index: 10; 
}

#crash-multiplier-display.win {
    color: var(--color-secondary);
    text-shadow: 0 0 15px rgba(0, 168, 120, 0.5); 
}
/* (ЗАПРОС 3) - В CRASH УЖЕ ИСПОЛЬЗОВАЛСЯ КРАСНЫЙ, МЕНЯТЬ НЕ НУЖНО */
#crash-multiplier-display.loss {
    color: #FF5555; 
    text-shadow: 0 0 15px rgba(255, 85, 85, 0.7); 
}

/* --- ИЗМЕНЕНО: (Запрос) Панель Crash --- */
.crash-controls-panel {
    flex: 0 0 auto; /* ИЗМЕНЕНО: (ЗАДАНИЕ 3) Убран flex-basis */
    width: 100%; /* ИЗМЕНЕНО: (ЗАДАНИЕ 3) На всю ширину */
    max-width: 500px; /* ИЗМЕНЕНО: (ЗАДАНИЕ 3) Ограничиваем ширину, как у Dice */
    background-color: var(--color-sidebar); /* ИЗМЕНЕНО: Стал темным */
    padding: 15px;
    border-radius: 8px;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
    order: 3; /* 3. Панель */
}

/* --- ИЗМЕНЕНО: (Запрос) Стили для <label> --- */
.crash-controls label {
    display: block;
    margin-bottom: 5px;
    font-size: 0.9em;
    color: var(--color-text-light); /* ИЗМЕНЕНО: Стал светлым */
    font-weight: bold; /* ДОБАВЛЕНО: Жирный шрифт */
}
/* --- КОНЕЦ ИЗМЕНЕНИЙ --- */

.crash-controls input[type="number"] {
    width: 100%;
    padding: 10px;
    border: 1px solid var(--color-border);
    border-radius: 6px;
    background-color: #FFFFFF;
    color: var(--color-text);
    font-size: 1.1em;
    text-align: center;
}

/* --- ИЗМЕНЕНО: (ЗАДАНИЕ 1) Стили для Авто-вывода (Новый layout) --- */

.crash-auto-bet-wrapper {
    display: flex;
    gap: 10px; /* Отступ между "Авто" и "Ставка" */
    margin-bottom: 15px; /* Общий отступ снизу */
}

.auto-cashout-group {
    flex: 0 0 100px; /* Фиксированная ширина блока "Авто" */
}
.auto-cashout-group label {
    margin-bottom: 5px;
}
.auto-cashout-input-wrapper {
    display: flex;
    align-items: center;
    gap: 8px; /* Отступ между инпутом и тумблером */
}
.auto-cashout-input-wrapper input[type="number"] {
    flex-grow: 1; /* Инпут занимает место */
    padding: 10px 5px; /* Меньше паддинг */
    font-size: 1em;
    min-width: 0; /* Для flex */
}
.bet-input-group.crash-bet-group {
    flex-grow: 1; /* Группа ставки занимает оставшееся место */
    margin-bottom: 0; /* Сброс отступа */
}
/* --- КОНЕЦ ИЗМЕНЕНИЙ (ЗАДАНИЕ 1) --- */


/* Стилизация чекбокса как тумблера */
.toggle-checkbox {
    display: none; /* Скрываем стандартный чекбокс */
}
.toggle-label {
    position: relative;
    display: inline-block;
    width: 44px; /* Ширина тумблера */
    height: 24px; /* Высота тумблера */
    background-color: var(--color-border-dark);
    border-radius: 12px;
    cursor: pointer;
    transition: background-color 0.2s;
    flex-shrink: 0; /* ИЗМЕНЕНО: (ЗАДАНИЕ 1) */
}
/* Кружок-переключатель */
.toggle-label::after {
    content: '';
    position: absolute;
    width: 20px;
    height: 20px;
    border-radius: 50%;
    background-color: white;
    top: 2px;
    left: 2px;
    transition: transform 0.2s;
}
/* Активное состояние */
.toggle-checkbox:checked + .toggle-label {
    background-color: var(--color-secondary); /* Зеленый */
}
.toggle-checkbox:checked + .toggle-label::after {
    /* ИЗМЕНЕНО: (ЗАДАНИЕ 2) Сдвиг 20px (44 - 20 - 2 - 2) */
    transform: translateX(20px); 
}
/* Отключенное состояние */
.auto-cashout-input-wrapper.disabled {
    opacity: 0.5;
    pointer-events: none;
}
.bet-input-group.disabled {
    opacity: 0.5;
    pointer-events: none;
}
/* --- КОНЕЦ СТИЛЕЙ АВТО-ВЫВОДА --- */


.crash-action-buttons {
    margin-top: 20px;
    display: flex;
    flex-direction: column;
    gap: 10px;
}
.crash-action-buttons button.full-width {
    width: 100%;
}

.crash-action-buttons .blue-button {
    background-color: var(--color-blue);
    border: 1px solid var(--color-blue);
    color: #FFFFFF; /* Белый текст */
}
.crash-action-buttons .blue-button:hover {
    background-color: #3a7bc8; 
}


#crash-start-button {
    background-color: var(--color-orange);
    color: #FFFFFF; 
}
#crash-cashout-button {
    background-color: var(--color-secondary);
    color: #FFFFFF; 
}

/* --- ИЗМЕНЕНО: (ЗАДАНИЕ 3) Стили для статус-бара --- */
.crash-status-bar {
    text-align: center;
    color: var(--color-text); 
    min-height: 20px;
    font-size: 0.9em;
    font-weight: bold;
    margin-top: 0; /* ИЗМЕНЕНО: (ЗАДАНИЕ 3) Убран отступ */
    
    /* Стили по умолчанию для прямоугольника (как в Dice) */
    padding: 10px;
    border-radius: 6px;
    display: none; /* Скрыт, пока нет .win/.loss */
    
    width: 100%; /* ИЗМЕНЕНО: (ЗАДАНИЕ 3) На всю ширину */
    max-width: 500px; /* ИЗМЕНЕНО: (ЗАДАНИЕ 3) Ограничиваем ширину */
    order: 2; /* 2. Статус-бар */
}

.crash-status-bar.win {
    display: block;
    background-color: var(--color-secondary);
    color: var(--color-text-light);
    box-shadow: 0 0 10px rgba(0, 168, 120, 0.5);
}

.crash-status-bar.loss {
    display: block;
    background-color: var(--color-mine-bomb);
    color: var(--color-text-light);
    box-shadow: 0 0 10px rgba(255, 85, 85, 0.7);
}
/* --- КОНЕЦ ИЗМЕНЕНИЙ --- */

/* --- СТИЛИ ДЛЯ ИГРЫ COINFLIP --- */

.coin-game-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 0 10px;
    max-width: 500px; /* Ограничиваем ширину */
    margin: 0 auto;
    width: 100%;
}

.coin-multipliers-bar {
    display: flex;
    width: 100%;
    overflow-x: auto;
    overflow-y: hidden;
    padding: 5px;
    margin-bottom: 20px;
    /* Скрытие скроллбара (эстетика) */
    scrollbar-width: none; /* Firefox */
}
.coin-multipliers-bar::-webkit-scrollbar {
    display: none; /* Chrome/Safari */
}

.coin-multiplier-item {
    flex-shrink: 0;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    background-color: var(--color-sidebar);
    border: 2px solid var(--color-border-dark);
    color: var(--color-text-light);
    border-radius: 8px;
    padding: 8px 12px;
    margin-right: 8px;
    min-width: 70px;
    text-align: center;
    transition: all 0.3s ease;
}

.coin-multiplier-item .level {
    font-size: 0.8em;
    opacity: 0.7;
}

.coin-multiplier-item .value {
    font-size: 1.2em;
    font-weight: bold;
    color: var(--color-orange);
}

.coin-multiplier-item.active {
    background-color: var(--color-orange);
    border-color: var(--color-orange);
    box-shadow: 0 0 15px rgba(245, 166, 35, 0.7);
}
.coin-multiplier-item.active .value {
    color: #FFFFFF;
}

.coin-display-wrapper {
    position: relative; /* Для позиционирования фона */
    width: 200px; /* Ширина монетки */
    height: 200px; /* Высота монетки */
    margin-bottom: 20px;
    perspective: 1000px; /* Для 3D-эффекта */
    display: flex; /* Для центрирования монетки внутри фона */
    justify-content: center;
    align-items: center;
    background: radial-gradient(circle at center, #2e3b4a 0%, #1a222c 100%); /* Градиентный фон */
    border-radius: 50%; /* Круглый фон */
    box-shadow: 0 0 20px rgba(0, 0, 0, 0.5), inset 0 0 15px rgba(255, 255, 255, 0.1); /* Тень и внутренняя тень */
    padding: 15px; /* Отступ внутри фона до монетки */
    box-sizing: content-box; /* Чтобы padding не влиял на width/height */
    /* Добавляем декоративный ободок */
    border: 3px solid rgba(255, 255, 255, 0.1);
}

/* Эффект свечения вокруг монетки */
.coin-display-wrapper::before {
    content: '';
    position: absolute;
    top: -5px;
    left: -5px;
    right: -5px;
    bottom: -5px;
    border-radius: 50%;
    border: 5px solid transparent;
    background: linear-gradient(45deg, #f5a623, #f5d635, #f5a623) border-box; /* Золотой градиент */
    -webkit-mask: linear-gradient(#fff 0 0) padding-box, linear-gradient(#fff 0 0);
    -webkit-mask-composite: xor;
    mask-composite: exclude;
    z-index: -1; /* За монетой */
    opacity: 0.8; /* Небольшая прозрачность */
    filter: blur(5px); /* Размытие для эффекта свечения */
    animation: pulse-glow 3s infinite alternate; /* Анимация пульсации */
}

/* Анимация пульсации для свечения */
@keyframes pulse-glow {
    0% { transform: scale(1); opacity: 0.8; }
    100% { transform: scale(1.03); opacity: 1; }
}

/* Чтобы сама монетка была немного меньше, чем фон */
.coin-flipper {
    width: 170px; /* Монетка чуть меньше фона */
    height: 170px;
    position: relative;
    transform-style: preserve-3d;
    transform: rotateY(0deg);
}

.coin-flipper {
    width: 100%;
    height: 100%;
    position: relative;
    transform-style: preserve-3d;
    /* Изначально показываем "Орла" (front) */
    transform: rotateY(0deg); 
}

/* Анимации, которые добавляет JS */
.coin-flipper.flip-orel {
    /* 3 полных оборота = 1080 градусов */
    transition: transform 1.5s cubic-bezier(0.2, 0.8, 0.3, 1);
    transform: rotateY(1080deg); 
}
.coin-flipper.flip-reshka {
    /* 3.5 оборота = 1260 градусов */
    transition: transform 1.5s cubic-bezier(0.2, 0.8, 0.3, 1);
    transform: rotateY(1260deg);
}


.coin-flipper .coin-front,
.coin-flipper .coin-back {
    position: absolute;
    width: 100%;
    height: 100%;
    backface-visibility: hidden; /* Скрываем обратную сторону */
    display: flex;
    justify-content: center;
    align-items: center;
}

.coin-flipper .coin-front img,
.coin-flipper .coin-back img {
    width: 100%;
    height: 100%;
    object-fit: contain;
}

.coin-flipper .coin-front {
    /* "Орел" - лицевая сторона (0 градусов) */
    transform: rotateY(0deg);
}

.coin-flipper .coin-back {
    /* "Решка" - обратная сторона (180 градусов) */
    transform: rotateY(180deg);
}

/* --- ИЗМЕНЕНО: (ЗАДАНИЕ 2) Стили для статус-бара --- */
.coin-status-bar {
    text-align: center;
    color: var(--color-text);
    min-height: 20px;
    font-size: 0.9em;
    font-weight: bold;
    margin-top: 10px;
    margin-bottom: 15px;
    
    /* Стили по умолчанию для прямоугольника (как в Dice) */
    padding: 10px;
    border-radius: 6px;
    display: none; /* Скрыт, пока нет .win/.loss */
    
    /* ИЗМЕНЕНО: (ЗАДАНИЕ 2) На всю ширину панели */
    width: 100%;
}

.coin-status-bar.win {
    display: block;
    background-color: var(--color-secondary);
    color: var(--color-text-light);
    box-shadow: 0 0 10px rgba(0, 168, 120, 0.5);
}

.coin-status-bar.loss {
    display: block;
    background-color: var(--color-mine-bomb);
    color: var(--color-text-light);
    box-shadow: 0 0 10px rgba(255, 85, 85, 0.7);
}
/* --- КОНЕЦ ИЗМЕНЕНИЙ --- */

.coin-controls-panel {
    width: 100%;
    background-color: var(--color-sidebar);
    padding: 15px;
    border-radius: 8px;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
}

/* ИЗМЕНЕНО: (ЗАДАНИЕ 2) Кнопка "Начать игру" */
#coin-start-button {
    /* Использует .primary-button */
    margin-bottom: 15px; /* Отступ до инпута ставки */
    background-color: var(--color-orange);
    color: #FFFFFF;
    width: 100%; /* На всю ширину */
}

.coin-choice-buttons {
    display: flex;
    gap: 10px;
    margin-bottom: 15px;
}

.coin-choice-button {
    flex: 1;
    padding: 15px 10px;
    font-size: 1.2em;
    font-weight: bold;
    border: 2px solid var(--color-border-dark);
    background-color: var(--color-border-dark);
    color: var(--color-text-light);
    border-radius: 6px;
    cursor: pointer;
    transition: all 0.2s ease;
}
.coin-choice-button:hover {
    background-color: #6A788C;
    border-color: #6A788C;
}

/* Стили для кэшаут кнопки (уже есть в .primary-button) */
#coin-cashout-button {
    margin-bottom: 15px;
    background-color: var(--color-secondary);
    color: #FFFFFF;
}

/* Стили для .coin-bet-controls (используют общие .bet-input-group) */
/* --- ИЗМЕНЕНО: (Запрос) Стили для <label> --- */
/* ИСПОЛЬЗУЕМ ID для повышения приоритета */
#coin-bet-controls label {
    display: block;
    margin-bottom: 5px;
    font-size: 0.9em;
    color: var(--color-text-light); /* ИЗМЕНЕНО: Стал светлым */
    font-weight: bold; /* ДОБАВЛЕНО: Жирный шрифт */
}
/* --- КОНЕЦ ИЗМЕНЕНИЙ --- */

.coin-bet-controls .bet-input-group {
    display: flex; /* Делаем инпут и кнопки в одной строке */
    gap: 8px; /* Расстояние между элементами */
    margin-bottom: 15px; /* Отступ снизу */
}
/* --- ИСПРАВЛЕНИЕ 4 --- */
#coin-bet-controls input[type="number"] { /* <-- Используем ID */
    flex-grow: 1; /* Инпут занимает все доступное место */
    padding: 10px;
    border: 1px solid var(--color-border);
    border-radius: 6px;
    background-color: #FFFFFF;
    color: var(--color-text);
    font-size: 1.1em;
    text-align: center;
    height: 40px; /* <-- Высота инпута */
    min-width: 0; /* <-- Позволяет сжиматься (чинит "x2") */
}


/* --- Адаптация Coinflip --- */
@media (max-width: 768px) {
    .coin-game-container {
        padding: 0;
    }
    
    .coin-display-wrapper {
        width: 150px;
        height: 150px;
    }
    
    .coin-controls-panel {
        padding: 10px;
    }
    
    .coin-choice-button {
        padding: 12px 8px;
        font-size: 1.1em;
    }
}


/* --- СТИЛИ ДЛЯ АВТОРИЗАЦИИ --- */
.auth-container {
    max-width: 400px;
    margin: 0 auto;
    padding: 30px;
    background-color: var(--color-sidebar); /* ИЗМЕНЕНО: (Задание 4) Фон стал темным */
    border-radius: 10px;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
    text-align: center;
}

.auth-container h2 {
    color: var(--color-text-light); /* ИЗМЕНЕНО: (Запрос) Белый */
    margin-bottom: 25px;
}
.form-group {
    margin-bottom: 15px;
    text-align: left;
}

/* --- ИЗМЕНЕНО: (Запрос 2) --- */
.form-group label {
    display: block;
    margin-bottom: 5px;
    font-size: 0.9em;
    color: var(--color-text-light); /* ИЗМЕНЕНО: Стал светлым */
    font-weight: bold; /* ДОБАВЛЕНО: Жирный шрифт */
}
/* --- КОНЕЦ ИЗМЕНЕНИЙ --- */

.form-group input {
    width: 100%;
    padding: 10px;
    border: 1px solid var(--color-border-dark); /* ИЗМЕНЕНО: (Задание 4) */
    border-radius: 6px;
    background-color: #FFFFFF; /* (Оставлено) Белый инпут */
    color: var(--color-text);
    font-size: 1em;
}

.auth-button {
    background-color: var(--color-primary);
    color: white;
    padding: 10px 20px;
    border: none;
    border-radius: 6px;
    font-size: 1.1em;
    font-weight: bold;
    cursor: pointer;
    transition: background-color 0.2s;
    width: 100%;
    margin-top: 10px;
}

.auth-button:hover {
    background-color: #d9901f; /* ИЗМЕНЕНО: (Запрос) Убран розовый */
}

/* ИЗМЕНЕНИЯ ПО ЗАПРОСУ (Кнопки Войти/Регистрация) */
#auth .auth-container .auth-button {
    background-color: var(--color-border); /* Светло-серый */
    color: var(--color-text); /* Темный текст для читаемости */
}

#auth .auth-container .auth-button:hover {
    background-color: #CCCCCC; /* Темнее серый при наведении */
}
/* КОНЕЦ ИЗМЕНЕНИЙ ПО ЗАПРОСУ */


.switch-auth {
    margin-top: 20px;
    font-size: 0.9em;
    color: var(--color-text-light); /* ИЗМЕНЕНО: (Задание 4) */
}

.switch-auth a {
    color: var(--color-secondary);
    text-decoration: none;
}
.switch-auth a:hover {
    text-decoration: underline;
}

/* --- СТИЛИ БЛОКИРОВКИ UI --- */

/* --- ИЗМЕНЕНО: (ЗАПРОС) Скрытие баланса и кнопок при выходе --- */
.user-logged-out .mobile-header .profile-balance-box {
    display: none !important;
}
/* ИЗМЕНЕНО: (ЗАПРОС) Удален .header-actions */

.user-logged-out .mobile-header {
    justify-content: center; /* Центрируем логотип, когда остальное скрыто */
}
/* ИЗМЕНЕНО: (Задание 3) Выравнивание для flex */
.user-logged-out .mobile-header .logo {
    margin-left: 0;
    text-align: center;
    justify-content: center; /* Центрируем, если пользователь вышел */
}

/* --- СТИЛИ ДЛЯ МОДАЛЬНОНОГО ОКНА ПОЛЬЗОВАТЕЛЯ (СТАРОЕ) --- */
/* --- УДАЛЕНО: Все стили .user-modal-overlay и .user-modal-content УДАЛЕНЫ --- */
/* (Оставлены только стили .wallet-modal-content, которые используют тот же оверлей) */


/* --- ДОБАВЛЕНО: СТИЛИ ДЛЯ МОДАЛЬНОГО ОКНА КОШЕЛЬКА (НОВОЕ) --- */

/* Используем тот же ID оверлея, но стилизуем контент отдельно */
/* ИЗМЕНЕНО: ID оверлея теперь только для кошелька */
.user-modal-overlay {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: rgba(182, 190, 203, 0.6); 
    backdrop-filter: blur(5px);
    -webkit-backdrop-filter: blur(5px); 
    z-index: 2000;
    display: flex;
    justify-content: center;
    align-items: center;
    opacity: 1;
    transition: opacity 0.3s ease;
}

.user-modal-overlay.hidden {
    opacity: 0;
    pointer-events: none;
}

.wallet-modal-content {
    /* Эффект матового стекла */
    background-color: rgba(40, 42, 54, 0.85); /* --color-text, полупрозрачный */
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    
    border: 1px solid rgba(255, 255, 255, 0.1); /* Легкая обводка */
    
    /* Размеры и позиционирование (темный фон, как в скриншоте) */
    background-color: #3D4654; /* Почти черный фон, как на скриншоте */
    padding: 20px;
    border-radius: 12px; /* Более скругленные углы */
    box-shadow: 0 5px 20px rgba(0, 0, 0, 0.5); /* Более сильная тень */
    text-align: left; /* Сброс text-align: center от .user-modal-content */
    width: 95%;
    max-width: 420px; /* Чуть шире */
    
    /* ДОБАВЛЕНО: Плавное появление (если нужно) */
    /* transform: translateY(20px); */
    /* transition: opacity 0.3s ease, transform 0.3s ease; */
}
/* .user-modal-overlay:not(.hidden) .wallet-modal-content { */
    /* transform: translateY(0); */
/* } */


/* 1. Заголовок и крестик */
.wallet-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 20px;
}
.wallet-header h3 {
    color: var(--color-text-light); /* Белый */
    font-size: 1.5em;
    margin-bottom: 0; /* Сброс margin */
}
.wallet-modal-close {
    font-size: 2.2em;
    color: #888;
    background: none;
    border: none;
    cursor: pointer;
    line-height: 1;
    padding: 0;
    transition: color 0.2s;
}
.wallet-modal-close:hover {
    color: #FFF;
}

/* 2. Вкладки */
.wallet-tabs {
    display: flex;
    gap: 20px;
    margin-bottom: 25px;
    border-bottom: 1px solid var(--color-border-dark);
}
.wallet-tab {
    background: none;
    border: none;
    color: #888; /* Неактивный */
    font-size: 1.1em;
    font-weight: bold;
    padding: 10px 0;
    cursor: pointer;
    position: relative;
    transition: color 0.2s;
}
.wallet-tab:hover {
    color: #BBB;
}
.wallet-tab.active {
    color: var(--color-text-light); /* Активный (белый) */
}
/* Оранжевая полоска */
.wallet-tab.active::after {
    content: '';
    position: absolute;
    bottom: -1px; /* Накладывается на border-bottom родителя */
    left: 0;
    width: 100%;
    height: 3px;
    background-color: var(--color-orange);
    border-radius: 2px;
    /* Свечение */
    box-shadow: 0 0 10px var(--color-orange);
}

/* Контент вкладок (скрываем неактивные) */
.wallet-tab-content {
    display: none;
}
.wallet-tab-content.active {
    display: block;
}

/* 3. Кнопки платежей */
.wallet-methods {
    display: flex;
    gap: 10px;
    margin-bottom: 25px;
    overflow-x: auto; /* На случай, если не влезут */
}
.wallet-method-button {
    background-color: #2E3035; /* Темно-серый фон кнопок */
    border: 1px solid #2E3035;
    border-radius: 8px;
    padding: 10px;
    cursor: pointer;
    transition: all 0.2s ease;
    flex: 1 1 0; /* Равномерное распределение */
    min-width: 80px; /* Мин. ширина */
}
.wallet-method-button:hover {
    border-color: #555;
}
.wallet-method-button.active {
    border-color: var(--color-orange);
    box-shadow: 0 0 10px rgba(245, 166, 35, 0.5);
}
.wallet-method-button img {
    width: 100%;
    height: 40px; /* Фикс. высота */
    object-fit: contain; /* Сохраняем пропорции */
}

/* 4. Поля ввода (используем .form-group из auth) */
.wallet-form {
    display: flex;
    flex-direction: column;
    gap: 15px;
    margin-bottom: 25px;
}
/* Наследуем .form-group label и .form-group input */
.wallet-form .form-group {
    margin-bottom: 0; /* Сброс margin */
}
.wallet-form .form-group input {
    background-color: #2E3035; /* Фон инпута */
    border: 1px solid var(--color-border-dark);
    color: var(--color-text-light);
}
.wallet-form .form-group input:focus {
    border-color: var(--color-orange);
    box-shadow: none;
}
/* Стили для placeholder */
.wallet-form .form-group input::placeholder {
    color: #777;
}


/* 5. Кнопка "Перейти к оплате" / "Вывести" */
#wallet-deposit-button,
#wallet-withdrawal-button {
    width: 100%;
    margin-top: 0;
}

/* 6. История пополнений / выводов */
.wallet-history-container {
    margin-top: 30px;
    border-top: 1px solid var(--color-border-dark);
    padding-top: 20px;
}
.wallet-history-container h4 {
    color: #AAA;
    font-size: 1em;
    font-weight: bold;
    margin-bottom: 15px;
}
/* Используем .per-game-history-list для списка */
#deposit-history-list,
#withdrawal-history-list {
    max-height: 200px; /* Ограничиваем высоту */
    background-color: transparent; /* Убираем фон (он уже есть у модалки) */
    border: none;
    box-shadow: none;
    padding: 0; /* Сброс отступов */
}
/* Корректируем ячейки для истории пополнений/выводов */
#deposit-history-list .history-cell.user,
#withdrawal-history-list .history-cell.user { /* Дата */
    flex-basis: 40%;
    opacity: 0.7;
    font-weight: normal;
}
#deposit-history-list .history-cell.bet,
#withdrawal-history-list .history-cell.bet { /* Сумма */
    flex-basis: 30%;
    text-align: right;
    font-weight: bold;
    color: var(--color-text-light);
    opacity: 1;
}
#deposit-history-list .history-cell.payout,
#withdrawal-history-list .history-cell.payout { /* Статус */
    flex-basis: 30%;
    text-align: right;
    font-weight: bold;
}
/* --- КОНЕЦ СТИЛЕЙ КОШЕЛЬКА --- */

/* --- ДОБАВЛЕНО: Стили модального окна хэша --- */
.hash-modal-content {
    background-color: #3D4654; /* Темный фон */
    padding: 20px;
    border-radius: 12px;
    box-shadow: 0 5px 20px rgba(0, 0, 0, 0.5);
    width: 95%;
    max-width: 500px; /* Шире, чем кошелек, для длинных строк */
    color: var(--color-text-light);
}

.hash-details-list {
    display: flex;
    flex-direction: column;
    gap: 12px;
    margin-bottom: 20px;
}
.hash-detail-item {
    display: flex;
    flex-direction: column;
}
.hash-detail-item label {
    font-size: 0.85em;
    color: var(--color-text-light);
    opacity: 0.7;
    margin-bottom: 5px;
}
.hash-value-box {
    background-color: #2E3035; /* Очень темный фон */
    border: 1px solid var(--color-border-dark);
    border-radius: 6px;
    padding: 10px;
    font-family: 'Courier New', Courier, monospace; /* Моноширинный шрифт */
    font-size: 0.9em;
    color: var(--color-text-light);
    word-break: break-all; /* Перенос длинных строк */
}

.hash-divider {
    border: none;
    height: 1px;
    background-color: var(--color-border-dark);
    margin: 20px 0;
}

.hash-game-details {
    display: grid;
    grid-template-columns: 1fr 1fr; /* 2 колонки */
    gap: 15px;
    margin-bottom: 25px;
}
.hash-game-item {
    display: flex;
    flex-direction: column;
}
.hash-game-item label {
    font-size: 0.9em;
    color: var(--color-text-light);
    opacity: 0.7;
    margin-bottom: 4px;
}
.hash-game-item span {
    font-size: 1.1em;
    font-weight: bold;
    color: var(--color-text-light);
}

/* Статус верификации */
.hash-verify-area {
    margin-top: 15px;
}
#hash-verify-status {
    text-align: center;
    font-size: 0.9em;
    margin-top: 15px;
    font-weight: bold;
    min-height: 1.2em;
    word-break: break-all;
}
#hash-verify-status.success {
    color: var(--color-secondary);
}
#hash-verify-status.error {
    color: var(--color-mine-bomb);
}
/* --- КОНЕЦ СТИЛЕЙ ХЭША --- */


/* --- СТИЛИ ДЛЯ СТРАНИЦЫ БОНУСОВ --- */

/* ДОБАВЛЕНО: (Задание 1) Темный фон для отображения бонуса */
.bonus-display-box {
    padding: 30px 20px;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 10px;
    /* ИЗМЕНЕНО: (Задание 1) Цвет панельки */
    background-color: #3D4654; 
    border-radius: 8px;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
}

/* ИЗМЕНЕНО: (Задание 5) Стили для бонусного котика */
.bonus-display-box .bonus-icon {
    /* font-size: 3.5em; (Задание 5) Больше не нужно для <img> */
    height: 120px; /* (Задание 5) Устанавливаем высоту для картинки */
    width: auto;
    object-fit: contain;
    animation: floatCat 4s infinite ease-in-out; /* (Задание 5) Новая анимация */
}

.bonus-display-box #bonus-amount-display {
    font-size: 2.8em;
    font-weight: 900;
    color: var(--color-secondary); 
    line-height: 1.1;
}

.bonus-display-box #bonus-amount-display .currency {
    font-size: 0.5em;
    font-weight: normal;
    color: var(--color-text-light); /* ИЗМЕНЕНО: (Задание 4) */
}

/* --- ИЗМЕНЕНО: (Запрос) Стили для текста бонуса --- */
.bonus-display-box #bonus-page-text {
    font-size: 1.1em;
    color: var(--color-text-light); /* ИЗМЕНЕНО: (Задание 4) */
    font-weight: bold; /* ДОБАВЛЕНО: Жирный шрифт */
}
/* --- КОНЕЦ ИЗМЕНЕНИЙ --- */

.bonus-controls-box {
    padding: 20px;
    margin-top: 15px; 
    /* ИЗМЕНЕНО: (Задание 1) Меняем цвет на #3D4654 */
    background-color: #3D4654; 
    border-radius: 8px;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
}
#bonus-status {
    margin-top: 15px; 
    /* #bonus-status использует .dice-status-bar, который уже изменен */
}

#claim-bonus-button {
    background-color: var(--color-secondary);
    color: #FFFFFF; 
}
#claim-bonus-button:hover {
    background-color: #008f66; 
}

#claim-bonus-button:disabled {
    background-color: var(--color-border);
    color: var(--color-text);
    opacity: 0.6;
    cursor: not-allowed;
}

/* --- ДОБАВЛЕНО: (Задание) Стили для секции Промокода --- */
.promocode-box {
    margin-top: 10px; /* Отступ от блока "Получить" */
    padding-top: 20px;
    padding-bottom: 20px;
}
.promocode-header {
    font-size: 1.2em;
    font-weight: bold;
    color: var(--color-text-light);
    text-align: center;
    margin-bottom: 15px;
}
.promocode-box .form-group {
    margin-bottom: 10px; /* Уменьшаем отступ */
}
/* Стилизуем инпут промокода, как в auth */
.promocode-box .form-group input {
    background-color: #2E3035; /* Темный фон инпута */
    border: 1px solid var(--color-border-dark);
    color: var(--color-text-light);
}
.promocode-box .form-group input::placeholder {
    color: #777;
}
/* --- КОНЕЦ СТИЛЕЙ ПРОМОКОДА --- */

/* --- ДОБАВЛЕНО: (Задание) Стили для секции Квестов --- */
.quest-box {
    width: 100%;
    background-color: var(--color-sidebar);
    border-radius: 8px;
    margin-top: 10px;
    padding: 15px;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
}
.quest-header {
    display: flex;
    align-items: flex-start; /* ИЗМЕНЕНО: Выравнивание по верху */
    gap: 12px;
    padding-bottom: 15px;
    border-bottom: 1px solid var(--color-border-dark);
}
.quest-icon {
    height: 32px;
    width: 32px;
    flex-shrink: 0;
    margin-top: 2px; /* ИЗМЕНЕНО: Небольшой отступ сверху для иконки */
}
.quest-title-group {
    flex-grow: 1;
    min-width: 0; /* Для flex */
}
.quest-title {
    display: block;
    font-size: 1.2em; /* ИЗМЕНЕНО: Чуть крупнее */
    font-weight: bold;
    color: var(--color-text-light);
    line-height: 1.2; /* ИЗМЕНЕНО: Для переноса строк */
}
.quest-subtitle {
    display: block;
    font-size: 0.85em;
    color: var(--color-text-light);
    opacity: 0.7;
    margin-top: 4px; /* ИЗМЕНЕНО: Отступ */
}
.quest-button {
    background-color: var(--color-secondary); /* ИЗМЕНЕНО: Зеленый */
    color: var(--color-text-light);
    opacity: 1; /* ИЗМЕНЕНО: Полная непрозрачность */
    border: none;
    border-radius: 6px;
    padding: 8px 12px;
    font-size: 0.9em;
    font-weight: bold;
    flex-shrink: 0;
    cursor: pointer; /* ИЗМЕНЕНО: Кликабельно */
    transition: background-color 0.2s, opacity 0.2s;
}
.quest-button:hover {
    background-color: #008f66;
}
.quest-button.activated { /* ИЗМЕНЕНО: Стиль для неактивной кнопки */
    background-color: var(--color-border-dark);
    opacity: 0.6;
    cursor: not-allowed;
}

.quest-list {
    list-style: none;
    padding-top: 10px;
}
.quest-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 10px 5px;
}
.quest-info {
    display: flex;
    align-items: center;
    gap: 10px;
    flex-grow: 1;
    min-width: 0; /* Для flex */
}
.quest-status-icon {
    font-size: 1.1em;
    font-weight: bold;
    flex-shrink: 0;
}
.quest-status-icon.status-complete {
    color: var(--color-secondary); /* Зеленый */
}
.quest-status-icon.status-pending {
    color: var(--color-text-light);
    opacity: 0.5;
}
.quest-text {
    font-size: 0.95em;
    color: var(--color-text-light);
}
.quest-text small {
    display: block;
    font-size: 0.8em;
    opacity: 0.6;
    line-height: 1.3;
    margin-top: 2px;
}
/* ИЗМЕНЕНО: Стили для ссылок в квестах */
.quest-text a {
    color: var(--color-text-light);
    font-weight: bold;
    text-decoration: underline;
    text-decoration-color: var(--color-orange);
    text-decoration-thickness: 2px;
}
.quest-text a:hover {
    color: var(--color-orange);
}

.quest-reward {
    font-size: 1em;
    font-weight: bold;
    color: var(--color-secondary); /* Зеленый */
    flex-shrink: 0;
    margin-left: 10px;
}
/* --- КОНЕЦ СТИЛЕЙ КВЕСТОВ --- */


/* --- ДОБАВЛЕНО: Стили для страницы слотов --- */

.slots-container {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 20px;
    padding: 0 10px;
}

.slot-provider-card {
    background-color: var(--color-card);
    border-radius: 12px;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
    display: flex;
    align-items: center;
    padding: 20px;
    text-decoration: none;
    color: var(--color-text);
    transition: transform 0.2s ease, box-shadow 0.2s ease;
}

.slot-provider-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
}

.slot-provider-logo {
    height: 80px;
    width: 80px;
    object-fit: contain;
    margin-right: 20px;
    background-color: #f0f0f0;
    border-radius: 10px;
    padding: 5px;
}
/* Отдельный стиль для PG, т.к. у их логотипа нет фона */
.slot-provider-logo.pg-logo {
    background-color: #1d1d1d;
}

.slot-provider-content h3 {
    font-size: 1.5em;
    color: var(--color-primary);
    margin-bottom: 5px;
}

.slot-provider-content p {
    font-size: 0.9em;
    color: var(--color-text);
}

/* ДОБАВЛЕНО: (Задание 4) Разделитель для лобби */
.lobby-divider {
    border: none;
    height: 1px;
    background-color: var(--color-border);
    margin: 25px auto; /* Отступ сверху и снизу */
    max-width: 800px; /* Та же ширина, что и у .game-cards-list */
}


/* --- ДОБАВЛЕНО: СТИЛИ ДЛЯ ИСТОРИИ СТАВОK (ЭСТЕТИЧНАЯ ВЕРСЯ) --- */

.bet-history-container {
    margin: 0 auto; /* ИЗМЕНЕНО: (Задание 4) Центрируем */
    padding: 0 15px; 
    max-width: 800px; /* ИЗМЕНЕНО: (Задание 4) Ограничиваем ширину */
}

.bet-history-container h3 {
    font-size: 1.2em; /* ИЗМЕНЕНО: (Задание 4) Уменьшено */
    color: var(--color-text);
    opacity: 0.8; /* ИЗМЕНЕНО: (Задание 4) Менее заметно */
    margin-bottom: 10px; /* ИЗМЕНЕНО: (Задание 4) Уменьшено */
    padding: 0; 
}

#bet-history-list {
    list-style: none;
    padding: 10px 0; /* Паддинг для "воздуха" */
    
    /* ДОБАВЛЕНО: Горизонтальный скролл */
    display: flex;
    overflow-x: auto;
    overflow-y: hidden;
    
    /* УЛУЧШЕНИЕ: Плавный скролл на тач-устройствах */
    -webkit-overflow-scrolling: touch;
    
    /* ДОБАВЛЕНО: Компенсируем паддинг контейнера, чтобы скролл был от края до края */
    margin: 0 -15px; 
    padding-left: 15px; /* Восстанавливаем отступ для первого элемента */

    /* ДОБАВЛЕНО: Скрытие скроллбара (эстетика) */
    scrollbar-width: none; /* Firefox */
}
/* Скрытие скроллбара для Chrome/Safari */
#bet-history-list::-webkit-scrollbar {
    display: none;
}

/* ИЗМЕНЕНО: (Задание 2) Стили для <li>, который теперь обертка */
#bet-history-list > li {
    display: flex;
    flex-direction: column; /* ИЗМЕНЕНО: (Задание 1) В колонку */
    flex-shrink: 0;
    margin-right: 12px;
    
    /* ИЗМЕНЕНО: (Задание 1) Новый дизайн - темный фон */
    background-color: var(--color-sidebar);
    border-radius: 12px; /* (Задание) Скругляем всю обертку */
    overflow: hidden; /* (Задание) Для скругления */
    
    /* ИЗМЕНЕНО: (Задание 1) Убраны старые border и shadow */
    
    /* (Задание) Переносим эффект ховера на всю обертку */
    transition: transform 0.3s ease, box-shadow 0.3s ease;
}
/* ИЗМЕНЕНО: (Задание 1) Анимация и свечение для .win */
#bet-history-list > li.win {
    /* Градиент для анимации */
    background: linear-gradient(
        110deg, 
        var(--color-sidebar) 35%, 
        var(--color-secondary) 50%, 
        var(--color-sidebar) 65%
    );
    background-size: 300% 180%;
    /* Анимация "Огня" (шиммер) */
    /* ИЗМЕНЕНО: (Задание 1) Используем переменную */
    animation: hotWinShimmer var(--hot-win-duration) infinite linear;
    /* Легкое свечение */
    box-shadow: 0 2px 10px rgba(0, 168, 120, 0.4);
}


#bet-history-list > li:hover {
     transform: translateY(-4px) scale(1.02); /* ИЗМЕНЕНО: (Задание) Эффект при наведении */
     box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2); /* ИЗМЕНЕНО: (Задание 1) Усиленная тень */
}

/* ИЗМЕНЕНО: (Задание 1) Усиленное свечение при ховере */
#bet-history-list > li.win:hover {
    box-shadow: 0 8px 25px rgba(0, 168, 120, 0.6);
}


#bet-history-list > li:last-child {
    /* ДОБАВЛЕНО: Отступ справа для последнего, чтобы он не "прилипал" */
    margin-right: 15px; 
}

/* ИЗМЕНЕНО: (Задание 2) Плейсхолдер для пустой истории */
.history-item-placeholder {
    /* ИЗМЕНЕНО: (Задание 1) Стили плейсхолдера под темный фон */
    min-width: 110px;
    padding: 10px 15px;
    color: var(--color-text-light);
    opacity: 0.6;
    background-color: var(--color-sidebar);
    border-radius: 12px;
}

.history-item {
    /* ИЗМЕНЕНО: Это теперь "карточка" (часть <li>) */
    display: flex;
    flex-direction: column; /* Элементы в колонку */
    align-items: center; /* Центрируем */
    justify-content: center;
    
    min-width: 110px; /* ИЗМЕНЕНО: (Задание 4) Уменьшено (было 140px) */
    
    /* ИЗМЕНЕНО: (Задание 1) Фон прозрачный, чтобы было видно li.win */
    background: transparent;
    
    /* ИЗМЕНЕНО: (Задание 2) Убраны радиусы */
    
    /* ИЗМЕНЕНО: (Задание 1) Убраны старые стили */
    border: none;
    box-shadow: none;
    border-left: none;
    
    padding: 10px 8px 5px 8px; /* ИЗМЕНЕНО: (Задание 1) Новые отступы */
    border-bottom: none; 
    font-size: 0.9em;
    
    position: relative;
}

/* ИЗМЕНЕНО: (Задание 2) Ховер убран с .history-item */
.history-item:hover {
     transform: none;
     box-shadow: none;
}

/* ИЗМЕНЕНО: (Задание 1) Убран border */
.history-item.loss {
    border-left-color: none;
}


/* ИЗМЕНЕНО: (Задание 2) :last-child убрано */
.history-item:last-child {
    border-bottom: none;
    margin-right: 0;
}

/* ИЗМЕНЕНО: Стили для элементов внутри карточки */

/* ДОБАВЛЕНО: Название игры */
.history-game-name {
    font-weight: bold;
    color: var(--color-text-light); /* ИЗМЕНЕНО: (Задание 1) */
    opacity: 0.9; /* ИЗМЕНЕНО: (Задание 1) */
    font-size: 0.9em; 
    margin-bottom: 4px; 
}

/* ИЗМЕНЕНО: (Задания 2-5) Старый стиль для смайлика (скрыт) */
.history-game-icon {
    font-size: 2.0em; 
    line-height: 1;
    margin-bottom: 5px; 
    display: none; /* Скрываем */
}

/* ДОБАВЛЕНО: (Задания 2-5) Новый стиль для иконки-картинки */
.history-game-img-icon {
    height: 2.0em; /* Такой же размер, как у смайлика */
    width: auto;
    object-fit: contain;
    margin-bottom: 5px;
}
/* --- */


.history-amount {
    flex-basis: auto; /* Сброс */
    font-weight: bold;
    font-size: 1.1em; 
    text-align: center; /* Сброс */
    margin-bottom: 2px; 
}

.history-user {
    flex-basis: auto; /* Сброс */
    font-weight: normal;
    font-size: 0.8em; 
    color: var(--color-text-light); /* ИЗМЕНЕНО: (Задание 1) */
    opacity: 0.6; /* ИЗМЕНЕНО: (Задание 1) */
}

/* ИЗМЕНЕНО: .history-game больше не используется, скрываем на всякий случай */
.history-game {
    display: none;
}

/* ИЗМЕНЕНО: (Задание 2) Цвета для .history-amount */
.history-amount.win {
    color: var(--color-secondary); /* Зеленый */
}

/* --- ИЗМЕНЕНО: (ЗАПРОС 3) Цвет проигрыша --- */
.history-amount.loss {
    color: var(--color-mine-bomb); /* Красный */
}

/* ИЗМЕНЕНО: (Задание 2) Скрываем старый множитель */
.history-multiplier {
    display: none;
}

/* ДОБАВЛЕНО: (Задание 2) Стили для новой плашки множителя */
.history-multiplier-bar {
    background: transparent; /* ИЗМЕНЕНО: (Задание 1) */
    color: var(--color-secondary); /* ИЗМЕНЕНО: (Задание 1) */
    text-shadow: 0 0 8px rgba(0, 168, 120, 0.7); /* ИЗМЕНЕНО: (Задание 1) */
    font-weight: bold;
    font-size: 1.3em; /* ИЗМЕНЕНО: (Задание 1) */
    text-align: center;
    padding: 6px 5px; /* ИЗМЕНЕНО: (Задание 1) */
    
    min-width: 110px; 
    width: 100%;
    box-sizing: border-box;
    
    /* ИЗМЕНЕНО: (Задание 1) Убрана левая рамка, добавлена верхняя */
    border-left: none;
    border-top: 1px solid var(--color-border-dark);
    margin-left: 0;
    padding-left: 5px;
}

/* (Задание) Стили для проигрыша (применяются к li) */
#bet-history-list > li.loss .history-item {
    border-left-color: transparent; /* ИЗМЕНЕНО: (Задание 1) */
}

/* --- ИЗМЕНЕНО: (ЗАПРОС 3) Цвет проигрыша --- */
#bet-history-list > li.loss .history-multiplier-bar {
    background-color: transparent; /* ИЗМЕНЕНО: (Задание 1) */
    border-left-color: transparent; /* ИЗМЕНЕНО: (Задание 1) */
    border-top: 1px solid var(--color-border-dark); /* ИЗМЕНЕНО: (Задание 1) */
    color: var(--color-mine-bomb); /* <-- ИЗМЕНЕНО */
    text-shadow: 0 0 8px rgba(255, 85, 85, 0.7); /* <-- ИЗМЕНЕНО */
}


/* --- ИЗМЕНЕНО: (Задание 1) СТИЛИ ДЛЯ ИСТОРИИ ИГР (ВНУТРИ ИГРЫ) --- */

.per-game-history-container {
    /* Используем тот же max-width, что и в лобби, для единообразия */
    max-width: 800px; 
    margin: 30px auto 10px; /* Отступ сверху */
    padding: 0 10px;
    width: 100%;
}

.per-game-history-container h3 {
    font-size: 1.2em;
    color: var(--color-text);
    opacity: 0.8;
    margin-bottom: 10px;
    padding-left: 5px; 
}

/* ИЗМЕНЕНО: (Задание 1) Темный фон, как в скриншоте-референсе */
.per-game-history-list {
    list-style: none;
    padding: 0;
    margin: 0;
    background-color: var(--color-sidebar); /* Темный фон */
    border: 1px solid var(--color-border-dark); /* Темная обводка */
    border-radius: 8px;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1); /* Тень */
    
    /* Ограничим высоту и добавим скролл */
    max-height: 400px;
    overflow-y: auto;
    
    /* Стилизация скроллбара (как в #bet-history-list) */
    scrollbar-width: none; /* Firefox */
}

.per-game-history-list::-webkit-scrollbar {
    display: none; /* Chrome/Safari */
}

.game-history-item {
    display: flex;
    align-items: center;
    padding: 10px 15px; /* Отступы в строке */
    border-bottom: 1px solid var(--color-border-dark); /* Темный разделитель */
    font-size: 0.9em;
}

.game-history-item:last-child {
    border-bottom: none;
}

.history-cell {
    display: block;
    padding: 0 5px; /* Небольшой отступ в ячейке */
    /* JS-порядок: [User] [Bet] [Multiplier] [Payout] */
}

/* ИЗМЕНЕНО: (Задание 1) Светлый текст на темном фоне */
.history-cell.user {
    flex-basis: 30%;
    flex-grow: 1;
    text-align: left;
    font-weight: bold;
    color: var(--color-text-light); /* Светлый текст */
    /* Для обрезки длинных ников */
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

/* ИЗМЕНЕНО: (Задание 1) Светлый текст на темном фоне */
.history-cell.bet {
    flex-basis: 20%;
    flex-grow: 1;
    text-align: right;
    color: var(--color-text-light); /* Светлый текст */
    opacity: 0.8;
}

.history-cell.multiplier {
    flex-basis: 20%;
    flex-grow: 1;
    text-align: right;
    font-weight: bold;
    color: var(--color-blue); /* Множитель синим (оставляем, он виден) */
}

.history-cell.payout {
    flex-basis: 30%;
    flex-grow: 1;
    text-align: right;
    font-weight: bold;
}

/* Цвета для выигрыша/проигрыша (в JS .win/.loss на .payout не ставится, используем .game-history-item) */
.game-history-item.win .history-cell.payout {
    color: var(--color-secondary); /* Зеленый */
}

/* --- ИЗМЕНЕНО: (ЗАПРОС 3) Цвет проигрыша --- */
.game-history-item.loss .history-cell.payout {
    color: var(--color-mine-bomb); /* Красный */
}
/* ДОБАВЛЕНО: Стили для статуса пополнения */
.game-history-item.pending .history-cell.payout {
    color: var(--color-orange); /* Желтый */
}


/* ИЗМЕНЕНО: (Задание 1) Плейсхолдер для темного фона */
.game-history-item.placeholder {
    text-align: center;
    justify-content: center;
    color: var(--color-text-light); /* Светлый текст */
    opacity: 0.6;
    padding: 20px;
}
/* --- КОНЕЦ СТИЛЕЙ ИСТОРИИ ИГР --- */


/* --- ИЗМЕНЕНО: (Запрос 3) Новый дизайн меню мини-игр --- */
.mini-games-nav {
    display: grid; 
    grid-template-columns: repeat(4, 1fr); 
    background-color: transparent; 
    border-radius: 0; 
    padding: 0; 
    gap: 10px;
    margin: 0 auto 15px; 
    max-width: 1000px;
    
    scrollbar-width: none; 
    -ms-overflow-style: none;  
}
.mini-games-nav::-webkit-scrollbar {
    display: none; 
}

.mini-games-nav-item {
    display: flex;
    flex-direction: row; /* <-- ИЗМЕНЕНО: Возвращаем в ряд */
    align-items: center;
    justify-content: center; 
    gap: 8px; /* <-- ИЗМЕНЕНО: Отступ между иконкой и текстом */
    
    background-color: var(--color-sidebar); 
    border: 2px solid var(--color-border-dark); 

    padding: 8px 15px; /* <-- ИЗМЕНЕНО: Меньше по высоте, шире */
    color: var(--color-text-light);
    font-weight: bold;
    font-size: 0.9em; /* <-- ИЗМЕНЕНО: Шрифт чуть крупнее */
    border-radius: 10px; /* <-- ИЗМЕНЕНО: Менее округлый */
    cursor: pointer;
    transition: all 0.2s ease; /* ИЗМЕНЕНО: (Запрос) Анимируем 'all' */
    -webkit-tap-highlight-color: transparent;
    
    /* min-height: 70px; <-- ИЗМЕНЕНО: Убрана мин. высота */
    text-align: center; 
}

/* ИЗМЕНЕНО: (Задания 2-5) Старый стиль для смайлика (скрыт) */
.mini-games-nav-item .icon {
    font-size: 1.3em; 
    margin-bottom: 0; 
    display: none; /* Скрываем */
}

/* ДОБАВЛЕНО: (Задания 2-5) Новый стиль для иконки-картинки */
.nav-game-icon {
    height: 1.3em; /* Такой же размер, как у смайлика */
    width: auto;
    object-fit: contain;
    /* gap: 8px; уже есть у родителя */
}
/* --- */


.mini-games-nav-item:hover {
    background-color: var(--color-border-dark);
    border-color: var(--color-border-dark); /* ИЗМЕНЕНО: (Запрос) Убран розовый */
}

/* --- ИЗМЕНЕНО: (ЗАПРОС) Обновлен стиль активного элемента (Пункт 2) --- */
.mini-games-nav-item.active {
    background-color: #6A788C; /* ИЗМЕНЕНО: (Запрос) Убран розовый, фон светлее */
    border-color: var(--color-text-light); /* ИЗМЕНЕНО: (Запрос) Светлая рамка */
    color: var(--color-text-light);
    transform: scale(1.05); /* ИЗМЕНЕНО: (Запрос) Увеличение */
    box-shadow: 0 2px 5px rgba(0,0,0,0.2); /* ИЗМЕНЕНО: (Запрос) Легкая тень вместо свечения */
}


/* !!! АДАПТАЦИЯ ДЛЯ МОБИЛЬНЫХ ЭКРАНОВ !!! */
@media (max-width: 768px) {
    
    /* --- ИЗМЕНЕНО: (ЗАПРОС) Адаптация хедера --- */
    .mobile-header {
        padding: 5px 8px; /* Еще меньше паддинг */
        gap: 5px; /* Меньше gap */
        /* ИЗМЕНЕНО: (ЗАПРОС) Лого слева, баланс справа */
        justify-content: space-between;
    }
    
    .content-area {
        padding-bottom: 80px; 
        padding-left: 10px;
        padding-right: 10px;
        flex-grow: 1;
        overflow-y: auto;
    }
    
    /* ИЗМЕНЕНО: (ЗАПРОС) Адаптация логотипа */
    .mobile-header .logo {
        font-size: 1.8em; /* ИЗМЕНЕНО: Увеличено */
        margin-bottom: 0;
        flex-grow: 0; 
        margin-left: 0; 
        justify-content: flex-start; 
        gap: 5px; 
        min-width: 0; 
        flex-shrink: 1; 
        align-items: flex-end; /* ИЗМЕНЕНО */
    }

    /* ИЗМЕНЕНО: (ЗАПРОС) Сброс transform */
    .mobile-header .logo .logo-image {
        height: 80px; 
        font-size: 10em; 
        transform: translate(-4px, 4px); 
    }
    
    .mobile-header .logo-text {
        /* ИЗМЕНЕНО: (ЗАПРОС) Сброс transform */
        transform: translate(-13px, -8px);
    }
    
    .mobile-header .logo-text::before,
    .mobile-header .logo-text::after {
        content: none;
    }

    /* ИЗМЕНЕНО: (ЗАПРОС) Адаптация баланса */
    .mobile-header .profile-balance-box {
        /* ИЗМЕНЕНО: Убраны margin-left/right auto и transform */
        margin-left: 0; 
        margin-right: 0;
        transform: translate(0px, -10px); 
        /* --- */
        font-size: 0.8em;
        padding: 6px 12px; 
        border-radius: 6px;
        gap: 2px;
        flex-shrink: 0; 
        margin-bottom: 0; 
        min-width: 100px; 
    }
    
    /* --- ДОБАВЛЕНО: (ЗАПРОС) Обводка для мобильного баланса --- */
    .mobile-header .profile-name {
        color: var(--color-text-light);
        -webkit-text-stroke: 0px #000;
        paint-order: stroke fill;
    }
    .mobile-header .profile-balance-box .balance {
        color: var(--color-text-light) !important;
        -webkit-text-stroke: 0px #000;
        paint-order: stroke fill;
    }
    /* --- КОНЕЦ ДОБАВЛЕНИЯ --- */


    /* ИЗМЕНЕНО: (Запрос 4) Скрываем иконку на мобилке */
    .mobile-header .profile-balance-box::after {
        content: none;
    }
    
    /* ДОБАВЛЕНО: (Запрос 2) Скрываем вотермарк на мобилке */
    .mobile-header .profile-balance-box::before {
        content: none;
    }
    
    /* ИЗМЕНЕНО: (ЗАПРОС 3) Убираем ховер-эффекты (уже было, но дублируем) */
    .mobile-header .profile-balance-box:hover {
        transform: none;
        box-shadow: none;
        border-color: var(--color-border-dark);
    }
    
    /* --- УДАЛЕНО: (ЗАПРОС) Адаптация кнопок хедера --- */
    /* .header-actions { ... } */
    /* .header-action-button { ... } */
    /* --- КОНЕЦ АДАПТАЦИИ ХЕДЕРА --- */

    
    /* УДАЛЕНО: .hamburger-menu { ... } */
    /* УДАЛЕНО: .hamburger-menu.active { ... } */
    /* УДАЛЕНО: .mobile-sidebar { ... } */
    /* УДАЛЕНО: .mobile-sidebar.active { ... } */
    /* УДАЛЕНО: .nav-links-mobile { ... } */
    /* УДАЛЕНО: .nav-item-mobile { ... } */
    
    .lobby-header { 
        padding-top: 10px;
        /* ИЗМЕНЕНО: (Запрос 3) Центрируем заголовок */
        text-align: center;
    }
    
    /* ДОБАВЛЕНО: (Запрос 3) Адаптация заголовка "Список игр" */
    .game-list-title {
        font-size: 1.5em; /* Чуть меньше */
        margin-bottom: 10px;
    }

    /* ИЗМЕНЕНО: (Запрос) .game-list-title::after на мобильных */
    .game-list-title::after {
        width: 100%; /* На мобильном делаем на всю ширину */
        left: 50%;
        transform: translateX(-50%);
        /* ИЗМЕНЕНО: (Запрос) Сброс inline-style */
        display: block;
        margin: 0;
    }

    /* ИЗМЕНЕНО: Адаптация лобби (2 колонки) */
    .game-cards-list {
        max-width: none; /* Сбрасываем макс. ширину на мобильных */
        padding: 0; /* Убираем боковые отступы у грида */
    }
    
    /* ДОБАВЛЕНО: (Задание 2) Адаптация обертки */
    .lobby-game-wrapper {
        gap: 8px; /* Меньше отступ */
    }
    
    /* ИЗМЕНЕНО: (Задание 2, 3) Адаптация новых кнопок */
    .lobby-game-card {
        height: 120px; /* (Req 3) Меньше (было 140px desktop) */
        border-radius: 16px; /* Чуть меньше */
    }
    
    /* ДОБАВЛЕНО: (Эстетика) Адаптация декоративного элемента "Лапка" */
    .lobby-game-card::after {
        /* border-width: 0 35px 35px 0; <-- Удалено */
        /* border-top-right-radius: 14px; <-- Удалено */
        width: 35px; /* <-- ИЗМЕНЕНО (ЗАПРОС 1a) */
        height: 35px; /* <-- ИЗМЕНЕНО (ЗАПРОС 1a) */
        border-top-right-radius: 14px; /* (Req 3) */
    }
    .lobby-game-card::before {
        font-size: 1em;
    }
    
    .game-card-cat {
        height: 100px; /* (Req 3) Меньше */
        top: 0px;
        /* ИЗМЕНЕНО: (Запрос 1) Позиционирование от левой границы */
        left: 0;
        transform: translateX(0);
    }
    .game-card-panel {
        padding: 6px 10px;
        border-radius: 10px;
        width: 90%; /* (Задание 2) */
    }
    .game-card-title {
        font-size: 1.0em;
    }
    /* --- КОНЕЦ ИЗМЕНЕНИЙ ЛОББИ --- */
    
    /* ИЗМЕНЕНО: (ЗАДАНИЕ 1) Адаптация Мин (теперь идентична десктопу) */
    .mines-game-container {
        flex-direction: column;
        padding: 0; 
        padding-bottom: 0; 
    }
    
    .mines-controls-panel {
        width: 100%;
        max-width: none; 
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
    }
    
    .mines-grid-wrapper {
        max-width: 100%;
        padding-top: 0; 
    }
    
    .mines-grid {
        max-width: 100%;
        width: 100%; 
    }
    
    /* --- ИСПРАВЛЕНИЕ 4: Разделяем мобильные правила --- */
    
    /* Мобильный стиль для "1/2" и "x2" */
    .bet-actions button {
        width: 40px; 
        min-width: 40px; 
        padding: 5px 2px;
        font-size: 0.9em; 
    }

    /* Мобильный стиль для "Мин" и "Макс" */
    .mines-controls .bet-actions-secondary button,
    #coin-bet-controls .bet-actions-secondary button {
        /* Копируем стили */
        padding: 5px 2px;
        font-size: 0.9em; 
        
        /* Layout (наследуется из десктопа, но дублируем для надежности) */
        flex: 1;
        width: auto;
    }
    
    /* --- КОНЕЦ ИСПРАВЛЕНИЯ 4 --- */

    
    .dice-game-container {
        /* ИЗМЕНЕНО: (ЗАДАНИЕ 1) Убран padding */
        padding: 0; 
        max-width: none;
    }
    
    /* ИЗМЕНЕНО: (ЗАДАНИЕ 3) .dice-controls стал прозрачным */
    .dice-controls {
        padding: 0;
    }
    
    .dice-calculator-box {
        margin: 10px 0 5px;
        padding: 10px;
    }
    
    #dice-profit-display {
        font-size: 1.8em; 
        font-weight: 800;
    }

    /* --- ИЗМЕНЕНО: (ЗАДАНИЕ 3) Адаптация Краша (теперь идентична десктопу) --- */
    .crash-game-container {
        flex-direction: column; /* Ставим в колонку */
        padding: 0;
    }

    .crash-controls-panel {
        flex-basis: auto; /* Сбрасываем flex-basis */
        width: 100%;    /* На всю ширину */
    }

    .crash-graph-wrapper {
        width: 100%;    /* График на всю ширину */
        height: 350px;  /* Фиксированная высота для мобильных */
        flex-grow: 0;   /* Отключаем рост, т.к. мы в колонке */
    }
    /* --- КОНЕЦ ИСПРАВЛЕНИЯ CRASH --- */
    
    /* ДОБАВЛЕНО: (Задание 4) Разделитель на мобильных */
    .lobby-divider {
        max-width: 100%;
        margin: 20px 10px;
    }
    
    /* --- ДОБАВЛЕНО: Адаптация истории ставок (ЭСТЕТИЧНАЯ ВЕРСЯ) --- */
    .bet-history-container {
        margin-top: 0;
         /* На мобильных отступы уже есть у .content-area, убираем их */
         padding: 0;
         max-width: 100%; /* (Задание 4) */
    }
     .bet-history-container h3 {
        padding: 0; 
    }
    #bet-history-list {
        /* Восстанавливаем отступы для скролла */
        margin: 0 -10px;
        padding-left: 10px;
    }
    
    /* ИЗМЕНЕНО: (Задание 2) Адаптация li-обертки */
    #bet-history-list > li {
        margin-right: 10px;
    }
    #bet-history-list > li:last-child {
        margin-right: 10px;
    }
    
    .history-item {
        min-width: 100px; /* (Req 4) Еще меньше */
        padding: 6px;
    }
    
    /* ИЗМЕНЕНО: (Задания 2-5) Адаптация иконок-картинок */
    .history-game-img-icon {
        height: 1.6em; /* (Req 4) */
    }
    .history-amount {
        font-size: 0.9em; /* (Req 4) */
    }
    
    /* ИЗМЕНЕНО: (Задание 2) Адаптация плашки множителя */
    .history-multiplier-bar {
        font-size: 1.0em; /* Чуть меньше на мобильных */
        padding: 6px 5px;
        min-width: 100px;
        margin-left: 0; /* ИЗМЕНЕНО: (Задание 1) */
        padding-left: 5px; /* ИЗМЕНЕНО: (Задание 1) */
    }
    
    /* --- КОНЕЦ АДАПТАЦИИ ИСТОРИИ --- */
    
    /* --- ДОБАВЛЕНО: (Задание 2) Адаптация истории игр --- */
    .per-game-history-container {
        padding: 0;
        margin-top: 20px;
    }
    
    .game-history-item {
        padding: 8px 10px;
        font-size: 0.85em;
    }
    
    /* Уменьшаем ячейки для мобильных */
    .history-cell.user {
        flex-basis: 25%;
    }
    .history-cell.bet {
        flex-basis: 20%;
    }
    .history-cell.multiplier {
        flex-basis: 20%;
    }
    .history-cell.payout {
        flex-basis: 35%;
    }

    /* ИЗМЕНЕНО: (Запрос 3) Адаптация меню мини-игр */
    .mini-games-nav {
        border-radius: 0; 
        gap: 8px; /* Уменьшаем gap */
    }
    
    .mini-games-nav-item {
        font-size: 0.75em; /* Еще меньше шрифт */
        padding: 10px 5px; /* Меньше паддинг */
        /* min-height: 60px; <-- Убрано, пусть будет авто */
    }
    
    /* ИЗМЕНЕНО: (Задания 2-5) Адаптация иконок-картинок */
    .nav-game-icon {
        font-size: 1.2em; /* <-- ИЗМЕНЕНО: Еще меньше иконка */
    }
    
    /* ДОБАВЛЕНО: Адаптация модального окна кошелька */
    .wallet-modal-content {
        padding: 15px;
    }
    .wallet-header {
        margin-bottom: 15px;
    }
    .wallet-header h3 {
        font-size: 1.3em;
    }
    .wallet-tabs {
        margin-bottom: 20px;
        gap: 15px;
    }
    .wallet-tab {
        font-size: 1em;
    }
    .wallet-methods {
        gap: 8px;
        margin-bottom: 20px;
    }
    .wallet-method-button {
        padding: 8px;
        min-width: 70px;
    }
    .wallet-method-button img {
        height: 35px;
    }
    .wallet-form {
        gap: 10px;
        margin-bottom: 20px;
    }
    /* Адаптация истории пополнений/выводов */
    #deposit-history-list .history-cell.user,
    #withdrawal-history-list .history-cell.user { /* Дата */
        flex-basis: 40%;
        font-size: 0.9em;
    }
    #deposit-history-list .history-cell.bet,
    #withdrawal-history-list .history-cell.bet { /* Сумма */
        flex-basis: 30%;
    }
    #deposit-history-list .history-cell.payout,
    #withdrawal-history-list .history-cell.payout { /* Статус */
        flex-basis: 30%;
    }
}

/* --- ИЗМЕНЕНО: (Задание 1) Стили для новой нижней навигации --- */
.bottom-nav {
    position: fixed;
    bottom: 0;
    left: 0;
    right: 0;
    height: 65px; 
    display: flex;
    /* ИЗМЕНЕНО: (Задание 1) Ставим ряды друг под другом */
    flex-direction: column; 
    justify-content: center; /* Центрируем по вертикали */
    align-items: center; /* Центрируем по горизонтали */
    
    /* Эффект "матового стекла" */
    background-color: rgba(61, 70, 84, 0.75); 
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    
    box-shadow: 0 -2px 15px rgba(0, 0, 0, 0.2);
    border-top: 1px solid rgba(255, 255, 255, 0.1);
    z-index: 1500;
    
    padding: 5px 0; /* Общий отступ */
}

/* ДОБАВЛЕНО: (Задание 1) Стиль для горизонтальных рядов */
.bottom-nav-row {
    display: flex;
    flex-direction: row; /* Горизонтально */
    justify-content: space-around; /* Равномерно */
    align-items: center;
    width: 100%;
}

/* ДОБАВЛЕНО: (Задание 1) Отступ для ряда с иконками */
#bottom-nav-icon-row {
    margin-bottom: 4px; 
}

/* ИЗМЕНЕНО: (Задание 1) .bottom-nav-item теперь элемент ряда */
.bottom-nav-item {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    color: var(--color-text-light);
    cursor: pointer;
    opacity: 0.7;
    transition: opacity 0.2s, color 0.2s;
    flex-grow: 1;
    flex-basis: 0; /* Равномерное распределение */
    padding: 0;
    -webkit-tap-highlight-color: transparent; 
}

/* ИЗМЕНЕНО: (Задание 1) Убран margin-bottom */
.bottom-nav-item .nav-icon {
    height: 28px; 
    width: auto;  
    margin-bottom: 0; 
}

/* --- ДОБАВЛЕНО: (Задание 2) Уменьшаем иконку "Меню" --- */
.bottom-nav-item .nav-icon-menu {
    height: 24px;
}
/* --- КОНЕЦ ИЗМЕНЕНИЙ --- */

.bottom-nav-item .nav-text {
    font-size: 0.75em;
    font-weight: bold;
    /* ИЗМЕНЕНО: (Задание 1) Убираем margin-top, так как текст в своем ряду */
}

.bottom-nav-item:hover {
    opacity: 1;
}

/* --- ИЗМЕНЕНО: (ЗАПРОС) Обновлен стиль активного элемента (Пункт 3) --- */
/* ИЗМЕНЕНО: (Задание 1) Теперь .active должен применяться к .bottom-nav-item */
.bottom-nav-item.active {
    opacity: 1;
    color: var(--color-orange); 
}
/* ИЗМЕНЕНО: (Задание 1) Иконка тоже должна менять цвет */
.bottom-nav-item.active .nav-icon {
    /* (Если иконки .png, цвет не поменяется, но если .svg, можно добавить filter) */
    /* Для PNG можно сделать так, чтобы только текст менял цвет */
    opacity: 1; 
}

/* Компенсатор, чтобы меню не перекрывало контент */
.bottom-nav-safe-area {
    height: 70px;
}

/* --- ИСПРАВЛЕНИЕ: Селекторы позиционирования котов --- */

/* --- Dice --- */
.lobby-game-wrapper[data-game-type="dice"] .game-card-cat {
    /* translateX: 0px (сдвиг вправо/влево)
    translateY: 0px (сдвиг вверх/вниз)
    scale: 1 (размер)
    */
    transform: translateX(-10px) translateY(10px) scale(1.1);
}

/* --- Mines --- */
.lobby-game-wrapper[data-game-type="mines"] .game-card-cat {
    transform: translateX(-10px) translateY(10px) scale(1.15);
}

/* --- Crash --- */
.lobby-game-wrapper[data-game-type="crash"] .game-card-cat {
    transform: translateX(-10px) translateY(10px) scale(1.15);
}

/* --- Coinflip --- */
.lobby-game-wrapper[data-game-type="coin"] .game-card-cat {
    /* Оригинальные значения были: translateX(-15px) scale(0.8333) */
    transform: translateX(-15px) translateY(15px) scale(1);
}


/* --- Наведение (Hover) --- */

.lobby-game-wrapper[data-game-type="dice"]:hover .game-card-cat {
    transform: scale(1.08); 
}
.lobby-game-wrapper[data-game-type="mines"]:hover .game-card-cat {
    transform: scale(1.08); 
}
.lobby-game-wrapper[data-game-type="crash"]:hover .game-card-cat {
    transform: scale(1.08); 
}
.lobby-game-wrapper[data-game-type="coin"]:hover .game-card-cat {
    transform: translateX(-15px) translateY(0px) scale(0.9);
}

/* --- ДОБАВЛЕНО: (Задание 2) Стили для Сайдбара --- */
.sidebar-overlay {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: rgba(0, 0, 0, 0.6);
    backdrop-filter: blur(4px);
    -webkit-backdrop-filter: blur(4px);
    z-index: 2500;
    opacity: 0;
    transition: opacity 0.3s ease-in-out;
}
.sidebar-overlay.active {
    opacity: 1;
}
/* ИЗМЕНЕНО: (Задание 2) .hidden теперь не используется для сайдбара */
.sidebar-overlay:not(.active) {
    pointer-events: none;
}


.sidebar-nav {
    position: fixed;
    top: 0;
    left: 0;
    bottom: 0;
    width: 60%; /* Ширина 60% */
    max-width: 250px; /* Но не более 250px */
    
    /* ИЗМЕНЕНО: (Задание 1) Эффект "матового стекла" */
    background-color: rgba(61, 70, 84, 0.85); /* Полупрозрачный --color-sidebar */
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    border-right: 1px solid rgba(255, 255, 255, 0.1); /* Легкая граница */
    
    z-index: 2501;
    transform: translateX(-100%);
    transition: transform 0.3s ease-in-out;
    padding: 30px 20px;
    padding-top: var(--mobile-header-height); /* Отступ сверху, как у хедера */
    
    /* ИЗМЕНЕНО: (Задание 2) Добавляем Flex для прижатия соц. иконок к низу */
    display: flex;
    flex-direction: column;
    justify-content: space-between; /* Прижимает .sidebar-links к верху, .sidebar-socials к низу */
}
.sidebar-nav.active {
    transform: translateX(0);
}
.sidebar-nav:not(.active) {
    pointer-events: none;
}

/* --- ДОБАВЛЕНО: Стили для логотипа в сайдбаре --- */
.sidebar-logo {
    /* --- МЕНЯЙ ЗДЕСЬ --- */
    /* Отступ снизу (двигает логотип ВНИЗ, а ссылки ВВЕРХ) */
    margin-bottom: 20px; 
    /* Отступ внутри блока (двигает ссылки ВНИЗ, логотип ВВЕРХ) */
    padding-bottom: 20px; 
    /* --- */
    
    /* Используем flex, как в хедере */
    display: flex;
    align-items: flex-end;
    justify-content: flex-start;
    gap: 8px; /* Чуть меньше gap */
    
    border-bottom: 1px solid var(--color-border-dark); /* Разделитель */
    cursor: default; /* Не кликабельный */
}

/* Адаптируем размер картинки и текста для сайдбара */
.sidebar-logo .logo-image {
    height: 2.5em; /* Чуть меньше, чем в хедере */
    /* Убираем старые transform'ы из хедера */
    transform: none; 
}

.sidebar-logo .logo-text {
    font-size: 1.3em; /* Чуть меньше */
    /* Убираем старые transform'ы из хедера */
    transform: none;
    /* Анимация (наследуется от .logo-text) */
}
/* --- КОНЕЦ СТИЛЕЙ ЛОГОТИПА В САЙДБАРЕ --- */


.sidebar-links {
    list-style: none;
    padding: 0;
    margin: 0;
    /* (Задание 2) Эта часть теперь не прижата к низу */
}
.sidebar-links li {
    margin-bottom: 10px;
}
.sidebar-links a {
    display: block;
    padding: 12px 15px;
    text-decoration: none;
    color: var(--color-text-light);
    font-size: 1.2em;
    font-weight: bold;
    border-radius: 8px;
    transition: background-color 0.2s;
}
.sidebar-links a:hover,
.sidebar-links a:active {
    background-color: var(--color-border-dark);
}

/* --- ДОБАВЛЕНО: (Задание 2) Стили для иконок соц. сетей --- */
.sidebar-socials {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 25px; /* Расстояние между иконками */
    padding: 20px 0;
    border-top: 1px solid var(--color-border-dark); /* Разделитель */
}
.social-icon {
    height: 30px; /* Фиксированная высота */
    width: 30px; /* Фиксированная ширина */
    object-fit: contain; /* Сохраняем пропорции */
    opacity: 0.7;
    transition: opacity 0.2s;
}
.social-icon:hover {
    opacity: 1;
}
/* --- КОНЕЦ СТИЛЕЙ САЙДБАРА --- */

/* --- ДОБАВЛЕНО: (Задание) Стили для FAQ Аккордеона --- */
.faq-container {
    display: flex;
    flex-direction: column;
    gap: 10px; /* Расстояние между вкладышами */
    max-width: 800px; /* Ограничиваем ширину */
    margin: 20px auto;
}

.faq-item {
    background-color: var(--color-sidebar); /* Темный фон, как на скриншоте */
    border-radius: 8px;
    overflow: hidden; /* Важно для анимации max-height */
    border: 1px solid var(--color-border-dark);
}

.faq-question {
    /* Стилизуем <button> */
    background: none;
    border: none;
    width: 100%;
    
    display: flex;
    justify-content: space-between;
    align-items: center;
    
    padding: 18px 20px;
    cursor: pointer;
    
    color: var(--color-text-light); /* Светлый текст */
    font-size: 1.1em;
    font-weight: bold;
    text-align: left;
    
    transition: background-color 0.2s;
}

.faq-question:hover {
    background-color: var(--color-border-dark); /* Легкое выделение при наведении */
}

.faq-icon {
    font-size: 1.4em;
    font-weight: bold;
    color: var(--color-text-light);
    opacity: 0.7;
    transition: transform 0.3s ease;
}

/* Стили для ответа */
.faq-answer {
    /* Анимация открытия/закрытия */
    max-height: 0;
    overflow: hidden;
    transition: max-height 0.4s ease-out;
}

.faq-answer-content {
    padding: 0 20px 20px 20px; /* Отступы только для контента */
    color: var(--color-text-light);
    opacity: 0.9;
    line-height: 1.6;
    border-top: 1px solid var(--color-border-dark); /* Разделитель */
    padding-top: 20px; /* Отступ от разделителя */
}

/* Стили для текста внутри ответа */
.faq-answer-content p {
    margin-bottom: 15px; /* Отступ между параграфами */
}
.faq-answer-content p:last-child {
    margin-bottom: 0;
}
.faq-answer-content ul,
.faq-answer-content ol {
    margin: 15px 0 15px 25px; /* Отступы для списков */
}
.faq-answer-content li {
    margin-bottom: 8px;
}
/* --- ИСПРАВЛЕНИЕ: Цвет ссылки в FAQ --- */
.faq-answer-content a {
    color: var(--color-orange); /* Оранжевый цвет */
    text-decoration: underline;
}
.faq-answer-content a:hover {
    color: var(--color-primary); /* Тот же оранжевый */
    text-decoration: none;
}
/* --- КОНЕЦ ИСПРАВЛЕНИЯ --- */


/* Когда .faq-item.active, мы "открываем" ответ */
.faq-item.active .faq-answer {
    max-height: 2000px; /* Достаточно большое значение, чтобы вместить любой текст */
    transition: max-height 0.5s ease-in;
}

/* Поворачиваем иконку */
.faq-item.active .faq-icon {
    transform: rotate(45deg);
}

/* Адаптация FAQ для мобильных */
@media (max-width: 768px) {
    #faq-page .game-list-title {
        font-size: 1.5em; /* Уменьшаем заголовок "Ответы на вопросы" */
    }
    .faq-container {
        gap: 8px;
        margin-top: 10px;
    }
    .faq-question {
        padding: 15px;
        font-size: 1em; /* Чуть меньше шрифт вопроса */
    }
    .faq-answer-content {
        padding: 15px;
        font-size: 0.9em; /* Чуть меньше шрифт ответа */
    }
}
/* --- КОНЕЦ СТИЛЕЙ FAQ --- */

/* --- ИЗМЕНЕНО: (Задание) Стили для Реферальной страницы --- */
.ref-container {
    /* ИЗМЕНЕНО: Эстетика */
    background-color: var(--color-sidebar);
    border-radius: 12px;
    padding: 20px;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
    
    max-width: 800px;
    margin: 0 auto;
    color: var(--color-text-light); /* Весь текст светлый */
}

#ref-page .game-list-title {
    /* ИЗМЕНЕНО: (Запрос 2) Цвет как в FAQ (темный) */
    color: var(--color-text); 
    /* ИЗМЕНЕНО: (Запрос 2) Увеличен отступ снизу */
    margin-bottom: 25px; 
}

#ref-page .game-list-title::after {
    /* ИЗМЕНЕНО: (Запрос 2) Цвет как в FAQ (темный) */
    background-color: var(--color-text);
    transform: none;
    /* ИЗМЕНЕНО: (Запрос 2) На всю ширину */
    width: 100%; 
    left: 0;
    /* ИЗМЕНЕНО: (Запрос 2) Показываем полоску */
    display: block; 
}

/* 2. Описание */
.ref-subheader {
    text-align: center;
    font-size: 1.1em;
    color: var(--color-text-light); /* ИЗМЕНЕНО: Светлый текст */
    opacity: 0.9;
    line-height: 1.5;
    margin-bottom: 15px;
}
.ref-link {
    display: block;
    color: var(--color-orange); /* Оранжевый */
    font-weight: bold;
    text-decoration: none;
    font-size: 0.9em;
    margin-top: 5px;
}
.ref-link:hover {
    text-decoration: underline;
}

/* 3. Ссылка */
.ref-link-box {
    background-color: #2E3035; /* ИЗМЕНЕНО: Темнее фон */
    padding: 15px;
    border-radius: 8px;
    margin-bottom: 15px;
    border: 1px solid var(--color-border-dark);
}
.ref-link-box label {
    font-size: 0.9em;
    color: var(--color-text-light);
    opacity: 0.8;
    margin-bottom: 5px;
    display: block;
}
.ref-input-group {
    display: flex;
    gap: 10px;
}
.ref-input-group input {
    flex-grow: 1;
    padding: 10px;
    border: 1px solid var(--color-border-dark);
    border-radius: 6px;
    background-color: #FFFFFF;
    color: var(--color-text);
    font-size: 1em;
    min-width: 0; /* Для flex */
}
.ref-input-group button {
    background-color: var(--color-border-dark);
    color: var(--color-text-light);
    padding: 10px 15px;
    border: none;
    border-radius: 6px;
    font-weight: bold;
    cursor: pointer;
    transition: background-color 0.2s;
    flex-shrink: 0;
}
.ref-input-group button:hover {
    background-color: #6A788C;
}

/* 4. Ссылка на менеджера */
.ref-manager-link {
    text-align: center;
    font-size: 0.9em;
    color: var(--color-text-light); /* ИЗМЕНЕНО: Светлый текст */
    opacity: 0.8;
    margin-bottom: 25px;
}
.ref-manager-link a {
    color: var(--color-orange); /* Оранжевый */
    font-weight: bold;
    text-decoration: none;
    display: block;
    margin-top: 4px;
}

/* 5. Главные вкладки */
.ref-tabs {
    display: flex;
    gap: 10px;
    margin-bottom: 20px;
    border-bottom: 2px solid var(--color-border-dark);
}
.ref-tab {
    background: none;
    border: none;
    color: var(--color-text-light);
    opacity: 0.6;
    font-size: 1.2em;
    font-weight: bold;
    padding: 10px 15px;
    cursor: pointer;
    position: relative;
    transition: all 0.2s ease;
}
.ref-tab.active {
    opacity: 1;
    color: var(--color-orange); /* Оранжевый */
}
.ref-tab.active::after {
    content: '';
    position: absolute;
    bottom: -2px;
    left: 0;
    width: 100%;
    height: 2px;
    background-color: var(--color-orange);
}

/* 6. Контент главных вкладок */
.ref-tab-content {
    display: none;
}
.ref-tab-content.active {
    display: block;
}

/* 7. Вложенные вкладки */
.ref-subtabs {
    display: flex;
    gap: 10px;
    margin-bottom: 20px;
}
.ref-subtab {
    flex: 1;
    background-color: var(--color-border-dark); /* Серый фон */
    color: var(--color-text-light);
    opacity: 0.7;
    border: none;
    border-radius: 6px;
    padding: 10px;
    font-size: 0.9em;
    font-weight: bold;
    cursor: pointer;
    transition: all 0.2s;
}
.ref-subtab.active {
    background-color: #2E3035; /* ИЗМЕНЕНО: Темно-серый активный */
    color: var(--color-text-light);
    opacity: 1;
}

/* 8. Контент вложенных вкладок */
.ref-subtab-content {
    display: none;
}
.ref-subtab-content.active {
    display: block;
}

/* 9. Формы во вложенных вкладках */
.ref-form {
    background-color: #2E3035; /* ИЗМЕНЕНЕО: Темнее фон */
    padding: 20px;
    border-radius: 8px;
    margin-bottom: 20px;
    display: flex;
    flex-direction: column;
    gap: 15px; /* Используем gap вместо .form-group margin */
}
.ref-form .form-group {
    margin-bottom: 0; /* Сбрасываем margin */
}
.ref-form-header {
    font-size: 0.9em;
    color: var(--color-text-light);
    opacity: 0.8;
    text-align: center;
    margin-bottom: -5px; /* Ближе к полю */
}
/* Используем стили из auth.js */
.ref-form .form-group input {
    background-color: var(--color-sidebar); /* ИЗМЕНЕНО: Фон инпута */
    border-color: var(--color-border-dark); /* ИЗМЕНЕНО: Граница */
    color: var(--color-text-light);
}
.ref-form .form-group input::placeholder {
    color: #777;
}

/* 10. Таблицы/Списки */
.ref-list-header {
    font-size: 1.1em;
    font-weight: bold;
    color: var(--color-text-light);
    margin-bottom: 10px;
    padding-bottom: 5px;
    border-bottom: 1px solid var(--color-border-dark);
}
.ref-table-wrapper {
    width: 100%;
    overflow-x: auto; /* Горизонтальный скролл для таблиц */
    background-color: #2E3035; /* ИЗМЕНЕНО: Темнее фон */
    border-radius: 8px;
    border: 1px solid var(--color-border-dark);
}
.ref-table {
    width: 100%;
    border-collapse: collapse;
    font-size: 0.9em;
}
.ref-table th,
.ref-table td {
    padding: 12px 15px;
    text-align: left;
    border-bottom: 1px solid var(--color-border-dark);
}
.ref-table th {
    font-size: 0.8em;
    color: var(--color-text-light);
    opacity: 0.7;
    text-transform: uppercase;
    font-weight: bold;
}
.ref-table td {
    color: var(--color-text-light);
}
.ref-table tr:last-child td {
    border-bottom: none;
}
/* Плейсхолдер для пустых списков (таблица) */
.ref-list-placeholder {
    text-align: center;
    color: var(--color-text-light);
    opacity: 0.6;
    padding: 20px;
    font-style: italic;
    font-size: 0.9em;
}
/* Стили для списка каналов (ul) */
.ref-list {
    list-style: none;
    padding: 0;
    margin: 0;
    background-color: #2E3035; /* ИЗМЕНЕНО: Темнее фон */
    border-radius: 8px;
    border: 1px solid var(--color-border-dark);
    font-size: 0.9em;
}
.ref-list li {
    padding: 12px 15px;
    border-bottom: 1px solid var(--color-border-dark);
}
.ref-list li:last-child {
    border-bottom: none;
}
/* --- КОНЕЦ СТИЛЕЙ РЕФЕРАЛОВ --- */

/* --- ИЗМЕНЕНО: (ЗАДАНИЕ 1) ЭСТЕТИКА СТРАНИЦЫ ПРОФИЛЯ --- */
.profile-container {
    max-width: 500px; /* Ограничиваем ширину, как у игр */
    margin: 0 auto;
    
    /* ИЗМЕНЕНО: (Эстетика) Единая карточка */
    background-color: #3D4654; /* Тот же фон, что у кошелька */
    border-radius: 12px;
    padding: 20px;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
    
    display: flex;
    flex-direction: column;
    gap: 15px; /* Отступ между блоками */
}

/* ИЗМЕНЕНО: (Эстетика + Задача 1) Обновлен .game-list-title для профиля */
#profile-page .game-list-title {
    color: var(--color-text); /* <-- ЗАДАЧА 1: Темный цвет, как в FAQ */
    /* text-align: center; <-- Убрано, наследуется из .game-list-title */
    margin-bottom: 10px;
    font-size: 1.6em;
}
#profile-page .game-list-title::after {
    display: block; /* Показываем подчеркивание */
    background-color: var(--color-text); /* Темное подчеркивание */
    /* ИЗМЕНЕНО: (Запрос 1) На всю ширину */
    width: 100%; 
    margin: 0 auto; /* Центрируем */
    left: auto;
    transform: none;
}


/* ИЗМЕНЕНО: (Эстетика) Стили для блоков "Отыгрыш" и "Ранг" */
.profile-box {
    display: flex;
    justify-content: space-between;
    align-items: center;
    background-color: #2E3035; /* Фон блоков */
    color: var(--color-text-light);
    padding: 15px 20px;
    border-radius: 8px;
    font-size: 1em; /* Уменьшен шрифт */
}
.profile-box span:first-child {
    opacity: 0.7;
}
.profile-box span:last-child {
    font-weight: bold;
    font-size: 1.1em;
    color: var(--color-text-light); /* Значение теперь белое */
}
/* Отдельный стиль для значения ранга */
#profile-rank {
    color: var(--color-orange); /* Ранг оранжевым */
    text-transform: capitalize; /* "без ранга" -> "Без ранга" */
}


/* ИЗМЕНЕНО: (Эстетика) Ссылка "Правила отыгрыша" */
.profile-link {
    color: var(--color-text-light);
    opacity: 0.6;
    font-size: 0.9em;
    text-align: center; /* Центрируем */
    text-decoration: underline;
    cursor: pointer;
    margin-top: -5px; /* Ближе к блоку */
    margin-bottom: 10px;
    padding-left: 0;
}
.profile-link:hover {
    opacity: 1;
}

/* ИЗМЕНЕНО: (Эстетика) Подзаголовки "Смена пароля", "Соцсети" */
.profile-subheader {
    font-size: 1.1em;
    color: var(--color-text-light);
    opacity: 0.7;
    font-weight: bold;
    text-transform: uppercase;
    margin-top: 15px;
    margin-bottom: 10px; /* Увеличен отступ */
    padding-bottom: 10px;
    border-bottom: 1px solid var(--color-border-dark);
}
/* Иконки-эмодзи для подзаголовков */
.profile-subheader.pass-header::before {
    content: '🔒 ';
}
.profile-subheader.social-header::before {
    content: '🌐 ';
}

/* ИЗМЕНЕНО: (Эстетика) Форма смены пароля */
.profile-form {
    display: flex;
    flex-direction: column;
    gap: 15px;
    background-color: transparent; /* Убираем фон, т.к. он на .profile-container */
    padding: 0; /* Убираем паддинг */
}
/* Используем .form-group и .auth-button из общих стилей */
.profile-form .form-group input {
    background-color: #2E3035; /* Темный инпут */
    border-color: var(--color-border-dark);
    color: var(--color-text-light);
}

.profile-form .form-group input {
    background-color: #2E3035; /* Темный инпут */
    border-color: var(--color-border-dark);
    color: var(--color-text-light);
}
.profile-form .form-group input::placeholder {
    color: #777;
}
/* Кнопка "Изменить пароль" */
.profile-form .auth-button {
    background-color: var(--color-border-dark);
    color: var(--color-text-light);
}
.profile-form .auth-button:hover {
    background-color: #6A788C;
}


/* Статус смены пароля */
.profile-status {
    color: var(--color-orange);
    text-align: center;
    font-size: 0.9em;
    min-height: 1.2em; /* Резервируем место */
}

/* Блок "Соцсети" */
.profile-socials {
    display: flex;
    flex-direction: column;
    gap: 10px;
}
/* Стили для кнопок привязки */
.social-link-button {
    display: flex;
    align-items: center;
    gap: 15px;
    background-color: #2E3035; /* Фон кнопок */
    color: var(--color-text-light);
    padding: 15px 20px;
    border-radius: 8px;
    border: 1px solid #2E3035;
    cursor: pointer;
    transition: background-color 0.2s, border-color 0.2s;
    font-size: 1.1em;
    font-weight: bold;
}
.social-link-button:hover {
    background-color: #3a3d44;
    border-color: var(--color-border-dark);
}
.social-link-button img {
    height: 24px;
    width: 24px;
}

/* Кнопка "Выйти" */
.danger-button {
    background-color: var(--color-mine-bomb); /* Красный */
    color: white;
    margin-top: 15px; /* Отступ сверху */
}
.danger-button:hover {
    background-color: #e04848; /* Чуть темнее красный */
}

/* Адаптация для мобильных */
@media (max-width: 768px) {
    #profile-page .game-list-title {
        font-size: 1.5em; /* Уменьшаем заголовок "Настройки" */
        text-align: center; /* Центрируем на мобилке */
    }
    .profile-container {
        padding: 15px; /* Уменьшаем паддинг карточки */
    }
    .profile-box {
        padding: 12px 15px;
        font-size: 0.9em;
    }
    .profile-link {
        text-align: center;
    }
    .profile-subheader {
        font-size: 1em;
    }
    .social-link-button {
        padding: 12px 15px;
        font-size: 1em;
    }
}

/* --- КОНЕЦ СТИЛЕЙ ПРОФИЛЯ --- */

/* ДОБАВЛЕНО: Ссылка "Проверить игру" */
.game-check-link {
    color: var(--color-text);
    opacity: 0.7;
    font-size: 0.9em;
    text-decoration: underline;
    cursor: pointer;
    margin-top: 10px;
    font-weight: bold;
    text-align: center;
    display: block; /* Убедимся, что она блочная для центрирования */
}
.game-check-link:hover {
    opacity: 1;
}
/* === СТИЛИ ДЛЯ ГОСТЕВОГО РЕЖИМА В ХЕДЕРЕ === */

.guest-header-actions {
    display: flex;
    flex-direction: column; /* Кнопки друг под другом */
    gap: 5px;
    /* ИЗМЕНЕНО: Выравнивание */
    align-items: stretch; 
    justify-content: center;
    min-width: 120px; /* Такая же ширина, как у профиля */
    margin-left: auto; /* Прижимаем вправо (если во flex container) */
}

/* Общий стиль для гостевых кнопок */
.guest-btn {
    border: none;
    border-radius: 6px;
    padding: 6px 0; /* Вертикальный паддинг */
    font-size: 0.9em;
    font-weight: bold;
    color: white;
    cursor: pointer;
    transition: opacity 0.2s, transform 0.1s;
    text-align: center;
    width: 100%;
}

.guest-btn:active {
    transform: scale(0.98);
}

/* Кнопка Вход (Оранжевая) */
.login-btn {
    /* Градиент как у логотипа/рамок */
    background: linear-gradient(90deg, #F5A623, #FFC857);
    box-shadow: 0 2px 5px rgba(245, 166, 35, 0.4);
}

/* Кнопка Регистрация (Зеленая) */
.register-btn {
    background: linear-gradient(90deg, #00A878, #00D699);
    box-shadow: 0 2px 5px rgba(0, 168, 120, 0.4);
}

/* Скрытие элементов в зависимости от состояния входа */
body.logged-in .guest-header-actions {
    display: none !important;
}
body.logged-out #header-profile-box {
    display: none !important;
}
body.logged-out .guest-header-actions {
    display: flex !important;
}

/* === Адаптация для мобильных === */
@media (max-width: 768px) {
    .guest-header-actions {
        min-width: 100px;
        gap: 4px;
    }
    .guest-btn {
        font-size: 0.8em; /* Чуть меньше шрифт */
        padding: 5px 0;
    }
}

/* === Стили для Модального Окна Авторизации (Наследует wallet-modal) === */
/* Дополнительные стили не требуются, так как мы используем классы .wallet-* для консистентности дизайна */

/* === Улучшения для Crash (Задача 1) === */

/* 1. Панель управления Crash теперь вертикальная */
.crash-controls-panel {
    display: flex;
    flex-direction: column;
    gap: 15px; /* Отступ между блоками "Авто" и "Ставка" */
}

/* 2. Убираем старую flex-обертку из layout */
.crash-auto-bet-wrapper {
    display: contents; /* Элементы "Авто" и "Ставка" становятся прямыми детьми .crash-controls-panel */
}

/* 3. Блок "Авто-вывод" */
.auto-cashout-group {
    flex-basis: auto; /* Сбрасываем старую ширину */
    background-color: #2E3035; /* Фон (темнее, чем --color-sidebar) для контраста */
    padding: 15px;
    border-radius: 8px;
    order: 2; /* Ставим блок "Авто" ПОСЛЕ блока "Ставка" */
    
    /* ИЗМЕНЕНО: (Разделение) Добавляем отступ сверху, а не снизу */
    margin-top: 15px;
    border: 1px solid #444; /* Небольшая граница для лучшего отделения */
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2); /* Тень для отделения */
}

/* 4. Блок "Сумма ставки" */
.bet-input-group.crash-bet-group {
    background-color: #2E3035; /* Такой же фон */
    padding: 15px;
    border-radius: 8px;
    display: flex;
    flex-direction: column;
    gap: 10px; /* Отступ между label, input и сеткой кнопок */
    margin-bottom: 0; /* Убираем старый отступ */
    order: 1; /* Ставим блок "Ставка" ПЕРВЫМ */
    
    /* ИЗМЕНЕНО: (Разделение) */
    border: 1px solid #444;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
}

/* 5. Убираем старую вложенную группу инпута (она была в HTML) */
.crash-bet-group .bet-input-group {
    margin-bottom: 0;
    /* (Мы удалили ее из HTML, этот селектор больше не должен работать) */
}

/* 6. Стилизуем инпут (он теперь прямой потомок .crash-bet-group) */
.crash-bet-group > input[type="number"] {
    width: 100%;
    padding: 10px;
    border: 1px solid var(--color-border);
    border-radius: 6px;
    background-color: #FFFFFF;
    color: var(--color-text);
    font-size: 1.1em;
    text-align: center;
}

/* 7. Новая сетка кнопок (которую мы добавили в HTML) */
.crash-bet-group .bet-actions-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 8px;
}

/* 8. Кнопки в новой сетке */
.crash-bet-group .bet-actions-grid button {
    padding: 12px 5px;
    background-color: var(--color-border-dark);
    color: var(--color-text-light);
    border: none;
    border-radius: 4px;
    font-size: 0.9em;
    font-weight: bold;
    cursor: pointer;
    transition: background-color 0.2s;
}
.crash-bet-group .bet-actions-grid button:hover {
    background-color: #6A788C;
}

/* 9. Сбрасываем отступ у кнопок "Начать игру" */
.crash-action-buttons {
    margin-top: 0;
}


/* === Улучшения для Coinflip (Задача 2) === */

#coin-cashout-button {
    width: 100%; /* Делаем кнопку "Забрать" на всю ширину */
}

/* === Перекрашиваем кнопку "Начать игру" в Минах === */

#mines-start-button {
    background-color: var(--color-orange);
    color: #FFFFFF;
}

/* === ИСПРАВЛЕНИЯ для Mobile Header (Задачи 2 и 3) === */

/* 1. Центрируем панель баланса по высоте в хедере */
.mobile-header {
    /* ИЗМЕНЕНО: Выравниваем элементы по центру по вертикали */
    align-items: center; 
    /* УБИРАЕМ: align-items: flex-end; */
}

/* 2. Убираем сдвиг и трансформации с панели при клике */
.profile-balance-box:hover {
    /* Сброс, который был в style.css */
    transform: none; 
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
}
.profile-balance-box:active {
    /* Убираем сдвиг при нажатии */
    transform: none; 
}
/* Убираем старые трансформации, которые сдвигали панель */
.mobile-header .profile-balance-box {
    transform: none;
    margin-bottom: 0; /* Сброс margin-bottom, который мог быть */
}


/* === Стили для Панели Профиля (с Аватаром) === */

.profile-balance-box {
    /* Переопределяем: Аватар слева, текст справа */
    display: flex;
    flex-direction: row; 
    align-items: center; 
    gap: 10px; 
    padding: 8px; 
    min-width: 0; 
}

.header-avatar-img {
    width: 40px;  
    height: 40px; 
    border-radius: 50%; 
    border: 2px solid var(--color-text-light); 
    object-fit: cover; 
    flex-shrink: 0; 
    cursor: pointer; 
    transition: transform 0.2s ease, box-shadow 0.2s ease;
}

.header-avatar-img:hover {
    transform: scale(1.1);
    box-shadow: 0 0 10px var(--color-orange);
}

.profile-text-content {
    display: flex;
    flex-direction: column;
    align-items: flex-start; 
    gap: 2px;
    min-width: 0; 
}

/* Адаптация текста */
.profile-balance-box .profile-name {
    font-size: 0.9em;
    line-height: 1.2;
    text-align: left;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    width: 100%;
}

.profile-balance-box .balance {
    font-size: 1.0em; 
    line-height: 1.2;
    text-align: left;
}

/* Адаптация для мобильного хедера (где баланс меньше) */
.mobile-header .header-avatar-img {
    width: 36px;
    height: 36px;
    border-width: 1px;
}
.mobile-header .profile-balance-box {
    gap: 8px;
    padding: 6px;
}

/* === Стили для Модального Окна Кастомизации (CUSTOMIZE) === */

.customize-modal-content {
    background-color: rgba(61, 70, 84, 0.85); 
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.1); 
    color: var(--color-text-light);
    padding: 20px;
    border-radius: 12px;
    box-shadow: 0 5px 20px rgba(0, 0, 0, 0.5);
    text-align: left;
    width: 95%;
    max-width: 420px;
    display: flex; 
    flex-direction: column;
    gap: 25px; 
}

.customize-section-title {
    font-size: 1.1em;
    font-weight: bold;
    color: var(--color-text-light);
    opacity: 0.7;
    margin-bottom: 15px;
    padding-bottom: 10px;
    border-bottom: 1px solid var(--color-border-dark);
}

.customize-avatar-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr); 
    gap: 15px; 
}

.customize-avatar-choice {
    width: 100%;
    height: auto;
    aspect-ratio: 1 / 1; 
    border-radius: 10px; 
    object-fit: cover;
    cursor: pointer;
    border: 3px solid transparent; 
    opacity: 0.6; 
    transition: all 0.2s ease;
}

.customize-avatar-choice:hover {
    opacity: 1;
}

.customize-avatar-choice.selected {
    opacity: 1;
    border-color: var(--color-orange); 
    transform: scale(1.05);
    box-shadow: 0 0 15px var(--color-orange);
}

.customize-color-grid {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 15px;
}

.customize-color-choice {
    width: 100%;
    height: 50px; 
    border-radius: 8px;
    cursor: pointer;
    border: 2px solid #000000; 
    display: flex; 
    justify-content: center;
    align-items: center;
    transition: all 0.2s ease;
}

.customize-color-choice.selected {
    border-color: var(--color-text-light); 
    transform: scale(1.05);
    box-shadow: 0 0 10px var(--color-text-light);
}

.no-style-icon {
    font-size: 1.5em;
    line-height: 1;
}

/* === ИСПРАВЛЕНИЕ: (ЗАДАНИЕ) Убираем размытие иконок мин на iPhone (Retina) === */
.mine-cell-icon {
    /* Говорим браузеру не сглаживать, а сохранять пиксели */
    image-rendering: -moz-crisp-edges;         /* Firefox */
    image-rendering: -webkit-crisp-edges;      /* Old WebKit */
    image-rendering: pixelated;                /* Modern */
    image-rendering: crisp-edges;              /* Old standard */
}

/* === (ИЗМЕНЕНО: ЗАДАЧА 4 И НОВЫЙ ЗАПРОС) Стили для скролла мини-игр === */

/* ИЗМЕНЕНО: Контейнер */
.mini-games-nav-container {
    position: relative;
    max-width: 1000px;
    margin: 0 auto 15px;
    padding: 0 10px; 
}

.mini-games-nav {
    display: flex; 
    /* ИЗМЕНЕНО: Включаем перенос */
    flex-wrap: wrap; 
    /* ИЗМЕНЕНО: Убираем горизонтальный скролл */
    overflow-x: visible; 
    background-color: transparent;
    border-radius: 0;
    padding: 0; 
    gap: 10px;
    margin: 0; 
    
    /* ИЗМЕНЕНО: Убираем стили свайпа */
    /* cursor: grab; */
    /* user-select: none; */
    
    /* ИЗМЕНЕНО: Убираем плавную прокрутку */
    /* scroll-behavior: smooth; */
    
    /* Скрываем скроллбар (на всякий случай) */
    scrollbar-width: none; 
    -ms-overflow-style: none;
}
.mini-games-nav::-webkit-scrollbar {
    display: none; 
}

/* ИЗМЕНЕНО: Удаляем стили для кнопок прокрутки */
.mini-games-scroll-btn {
    display: none;
}


.mini-games-nav-item {
    display: flex;
    flex-direction: row;
    align-items: center;
    justify-content: center;
    gap: 8px;
    
    /* ИЗМЕНЕНО: flex-basis задает базовую ширину */
    flex-basis: 110px;
    /* ИЗМЕНЕНО: flex-grow позволяет растягиваться */
    flex-grow: 1;
    /* ИЗМЕНЕНО: flex-shrink: 0; (оставляем, чтобы не сжимались) */
    flex-shrink: 0; 
    
    background-color: var(--color-sidebar);
    border: 2px solid var(--color-border-dark);
    padding: 8px 10px; 
    color: var(--color-text-light);
    font-weight: bold;
    font-size: 0.9em;
    border-radius: 10px;
    cursor: pointer;
    transition: all 0.2s ease;
    -webkit-tap-highlight-color: transparent;
    text-align: center;
}

/* Адаптация скролла для мобильных */
@media (max-width: 768px) {
    .mini-games-nav-container {
        padding: 0 10px;
    }
    .mini-games-nav {
        padding: 0; 
    }
    .mini-games-nav-item {
        /* ИЗМЕНЕНО: Базовая ширина 100px, растягиваем */
        flex-basis: 100px;
        flex-grow: 1;
        font-size: 0.8em;
        gap: 5px;
        padding: 8px 5px;
    }
}
/* === КОНЕЦ СТИЛЕЙ СЛРОЛЛА МИНИ-ИГР === */


/* === (НОВОЕ) Стили для KENO (Макет v2) === */

.keno-game-container {
    display: flex;
    flex-direction: column;
    gap: 15px;
    max-width: 800px; /* ИЗМЕНЕНО: 500px -> 800px (Задача 2) */
    margin: 0 auto;
}

/* --- ИЗМЕНЕНО: (ЗАПРОС 1) Меняем порядок элементов --- */
.keno-payout-bar-wrapper { 
    order: 3; /* <-- ИСПРАВЛЕНО (было 4) */
    margin-top: 0; /* <-- ИСПРАВЛЕНО (было 15px) */
}
.keno-grid-wrapper { order: 1; }
#keno-status { order: 2; }
.keno-controls-panel { order: 4; } /* <-- ИСПРАВЛЕНО (было 3) */
/* --- КОНЕЦ ИСПРАВЛЕНИЯ --- */


/* 1. Шкала выплат */
.keno-payout-bar-wrapper {
    width: 100%;
    overflow: hidden;
    background-color: var(--color-sidebar);
    border-radius: 8px;
    padding: 10px;
}

.keno-payout-bar {
    display: flex;
    gap: 5px;
    overflow-x: auto;
    overflow-y: hidden;
    scrollbar-width: none; /* Firefox */
}
.keno-payout-bar::-webkit-scrollbar {
    display: none; /* Chrome/Safari */
}

/* ИЗМЕНЕНО: (ЗАДАЧА 1 из 2-го) Стили контейнера лапки и текста */
.keno-payout-item {
    flex-shrink: 0;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: flex-start; /* Начинаем сверху */
    background-color: transparent;
    border-radius: 6px;
    width: 55px;
    height: auto; /* Высота стала автоматической */
    color: var(--color-text-light);
    transition: all 0.2s ease;
    border: 1px solid transparent;
    position: relative;
    gap: 2px; /* Отступ между лапкой и текстом */
}

/* ИЗМЕНЕНО: (ЗАДАЧА 1 из 2-го) Новая обертка для лапок */
.keno-paw-wrapper {
    position: relative;
    width: 50px;
    height: 50px;
    flex-shrink: 0; /* Чтобы не сжималась */
}

/* ИЗМЕНЕНО: (ЗАДАЧА 1 из 2-го) Лапки теперь внутри обертки */
.payout-paw-grey,
.payout-paw-keno {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    object-fit: contain;
    transition: opacity 0.3s ease;
    filter: none; 
}

.payout-paw-grey {
    opacity: 1; /* По умолчанию серая лапка видна */
}

.payout-paw-keno {
    opacity: 0; /* По умолчанию цветная лапка скрыта */
}
/* --- */

.keno-payout-item .hits {
    /* ИЗМЕНЕНО: (ЗАДАНИЕ 5) Скрываем нумерацию */
    display: none;
    position: relative;
    z-index: 2;
}

/* ИЗМЕНЕНО: (ЗАДАЧА 1 из 2-го) Стили для множителя под лапкой */
.keno-payout-item .mult {
    font-size: 1.0em; /* Уменьшили шрифт */
    font-weight: bold;
    color: var(--color-text-light);
    opacity: 0.7;
    position: static; /* Убрали position: relative */
    z-index: 0;
    text-shadow: none; /* Убрали тень */
}

.keno-payout-placeholder {
    width: 100%;
    text-align: center;
    padding: 25px 0; /* Увеличили отступ */
    font-size: 0.9em;
    color: var(--color-text-light);
    opacity: 0.6;
}

/* Состояния шкалы */
.keno-payout-item.filled {
    /* ИЗМЕНЕНО: (ЗАДАНИЕ 1) Убираем фон */
    background-color: transparent;
}
.keno-payout-item.filled .mult {
    opacity: 1;
}

/* ИЗМЕНЕНО: (ЗАДАНИЕ 1 & 4) Стиль активного множителя (показываем keno_paw) */
.keno-payout-item.active {
    /* Убираем старые стили */
    background-color: transparent;
    transform: scale(1.05);
    border-color: transparent; /* Убираем зеленую рамку с квадрата */
    box-shadow: none; /* Убираем зеленое свечение с квадрата */
}

.keno-payout-item.active .payout-paw-grey {
    opacity: 0; /* Скрываем серую */
}

.keno-payout-item.active .payout-paw-keno {
    opacity: 1; /* Показываем цветную */
    /* ИЗМЕНЕНО: (ЗАДАЧА 3) Убираем свечение */
    filter: none;
}

/* ИЗМЕНЕНО: (ЗАДАЧА 1 из 2-го) Стили для активного множителя под лапкой */
.keno-payout-item.active .mult {
    color: #FFFFFF;
    opacity: 1;
    text-shadow: none; /* Тень не нужна */
}

/* (ИЗМЕНЕНО: ЗАДАЧА 2) Стили для 0x */
.keno-payout-item.zero .mult {
    opacity: 0.4;
}

/* 2. Сетка */
.keno-grid-wrapper {
    background-color: var(--color-sidebar);
    padding: 10px;
    border-radius: 8px;
    position: relative; /* ИЗМЕНЕНО: (Задача 3) Для оверлея */
}

.keno-grid {
    display: grid;
    grid-template-columns: repeat(8, 1fr); /* 8 колонок */
    gap: 5px; /* ИЗМЕНЕНО: 8px -> 5px (По запросу) */
}

.keno-cell {
    aspect-ratio: 1 / 1;
    background-color: #2E3035;
    border: none;
    border-radius: 6px;
    color: var(--color-text-light);
    font-size: 1.5em; /* ИЗМЕНЕНО: 2.2em -> 1.5em (Исправление) */
    font-weight: bold;
    cursor: pointer;
    transition: all 0.2s ease;
    padding: 0;
    display: flex;
    justify-content: center;
    align-items: center;
    transform: translateZ(0); 
}
.keno-cell:hover {
    background-color: var(--color-border-dark);
}
.keno-grid.disabled .keno-cell:not(.selected) {
    pointer-events: none;
}
/* Адаптивный размер шрифта в ячейках */
@media (max-width: 400px) {
    .keno-cell { font-size: 1.1em; } /* ИЗМЕНЕНО: 1.5em -> 1.1em (Исправление) */
    .keno-grid { gap: 3px; } /* ИЗМЕНЕНО: 5px -> 3px (По запросу) */
}


/* Состояния ячеек */
.keno-cell.selected {
    background-color: var(--color-orange);
    color: #FFFFFF;
    transform: scale(1.05);
    box-shadow: 0 0 10px var(--color-orange);
}
.keno-cell.idle {
    opacity: 0.3; /* "Потухшие" */
}
.keno-cell.miss {
    background-color: #2E3035; /* Как idle, но не .selected */
    opacity: 0.7;
}
/* ИЗМЕНЕНО: (ЗАДАНИЕ 3) Стиль "выпавших" (синих) стал блеклым */
.keno-cell.drawn {
    background-color: var(--color-blue);
    color: #FFFFFF;
    opacity: 0.6; /* <-- Слегка прозрачный */
    font-size: 1.5em; /* Для точки '●' */
}
.keno-cell.hit {
    background-color: var(--color-secondary);
    color: #FFFFFF;
    opacity: 1;
    animation: bounceIn 0.3s ease;
}
.keno-cell-icon {
    width: 70%;
    height: 70%;
    object-fit: contain;
    /* Исправляем размытие (наследуется от .mine-cell-icon) */
    image-rendering: -moz-crisp-edges;
    image-rendering: -webkit-crisp-edges;
    image-rendering: pixelated;
    image-rendering: crisp-edges;
}


/* 3. Статус бар */
#keno-status {
    /* Стили .dice-status-bar (win/loss) будут применены */
    width: 100%;
    margin-top: 0;
}

/* 4. Панель управления */
.keno-controls-panel {
    background-color: var(--color-sidebar);
    padding: 15px;
    border-radius: 8px;
    display: flex;
    flex-direction: column;
    gap: 15px;
}
.keno-controls-panel label {
    display: block;
    margin-bottom: 5px;
    font-size: 0.9em;
    color: var(--color-text-light);
    font-weight: bold;
}

.keno-bet-actions-wrapper {
    display: flex;
    gap: 10px;
    align-items: center;
}
/* (ИЗМЕНЕНО: ЗАДАЧА 3) Добавляем min-width, чтобы инпут мог сжиматься */
.keno-bet-actions-wrapper .bet-input-group {
    flex-grow: 1;
    margin-bottom: 0;
    min-width: 0; /* <-- Вот фикс */
}
.keno-bet-actions-wrapper .bet-input-group input {
    height: 50px; /* Выше инпут */
    font-size: 1.2em;
}

.keno-action-btn {
    padding: 15px;
    font-size: 1.1em;
    font-weight: bold;
    border: none;
    border-radius: 6px;
    cursor: pointer;
    transition: all 0.2s ease;
    flex-shrink: 0;
}
.keno-action-btn.autopick {
    /* ИЗМЕНЕНО: (ЗАДАНИЕ 3) Авто-выбор стал синим */
    background-color: var(--color-blue); 
    color: #FFFFFF;
}
.keno-action-btn.play {
    /* ИЗМЕНЕНО: (ЗАДАНИЕ 3) Кнопка "Играть" стала желтой (оранжевой) */
    background-color: var(--color-orange); 
    color: #FFFFFF;
}
.keno-action-btn:disabled {
    opacity: 0.5;
    cursor: not-allowed;
}

.keno-bet-modifiers {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 5px;
}
/* Используем стили кнопок из Dice */
.keno-bet-modifiers button {
    padding: 10px 5px;
    background-color: var(--color-border-dark);
    color: var(--color-text-light);
    border: 1px solid var(--color-border-dark);
    border-radius: 4px;
    font-weight: normal;
    font-size: 0.9em;
    cursor: pointer;
    transition: background-color 0.2s;
}
.keno-bet-modifiers button:hover {
    background-color: #6A788C;
}

.keno-risk-selector {
    display: grid;
    grid-template-columns: 1fr 1fr 1fr;
    gap: 5px;
    background-color: #2E3035;
    border-radius: 6px;
    padding: 4px;
}
.keno-risk-btn {
    background-color: transparent;
    border: none;
    color: var(--color-text-light);
    opacity: 0.6;
    padding: 10px 5px; /* Выше кнопки */
    font-size: 0.9em;
    font-weight: bold;
    border-radius: 4px;
    cursor: pointer;
    transition: all 0.2s;
}
.keno-risk-btn.active {
    background-color: var(--color-border-dark);
    opacity: 1;
}
.keno-risk-btn:disabled {
    opacity: 0.3;
    cursor: not-allowed;
}

.keno-clear-btn {
    width: 100%;
    background-color: var(--color-border-dark);
    color: var(--color-text-light);
    opacity: 0.7;
    border: none;
    border-radius: 6px;
    padding: 10px;
    font-size: 0.9em;
    font-weight: bold;
    cursor: pointer;
    transition: all 0.2s;
}
.keno-clear-btn:hover {
    opacity: 1;
    background-color: #6A788C;
}
.keno-clear-btn:disabled {
    opacity: 0.3;
    cursor: not-allowed;
}


/* 5. История */
#keno-game .per-game-history-container {
    margin-top: 0; /* Уже есть gap */
    max-width: none;
    padding: 0;
}

/* === (НОВОЕ) Стили для Keno Overlay (Задача 3) === */
.keno-grid-wrapper {
    position: relative; /* Для оверлея */
}
.keno-result-overlay {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: rgba(0, 0, 0, 0.75);
    backdrop-filter: blur(4px);
    -webkit-backdrop-filter: blur(4px);
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 10;
    border-radius: 8px; /* Совпадает с .keno-grid-wrapper */
    opacity: 1;
    transition: opacity 0.3s ease;
    /* ИЗМЕНЕНО: (ЗАДАНИЕ 2) Легкая прозрачность */
    opacity: 0.95; 
    cursor: pointer; /* ИЗМЕНЕНО: (ЗАДАНИЕ 1) Можно кликнуть */
}
.keno-result-overlay.hidden {
    opacity: 0;
    pointer-events: none;
}

.keno-result-box {
    background-color: var(--color-sidebar);
    /* ИЗМЕНЕНО: (ЗАДАНИЕ 2) Обводка стала зеленой */
    border: 2px solid var(--color-secondary); 
    /* ИЗМЕНЕНО: (ЗАДАНИЕ 2, 4) Аккуратная неоновая обводка */
    box-shadow: 0 0 15px var(--color-secondary); 
    /* ИЗМЕНЕНО: (ЗАДАНИЕ 2) Уменьшаем отступы (делаем меньше) */
    padding: 20px 30px; 
    border-radius: 10px;
    display: flex;
    flex-direction: column;
    gap: 15px;
    text-align: center;
    /* Анимация появления */
    animation: bounceIn 0.3s ease;
    /* ИЗМЕНЕНО: (ЗАДАНИЕ 2) Делаем прямоугольником и уменьшаем */
    width: 300px;
    max-width: 90%;
    /* ИЗМЕНЕНО: (ЗАПРОС 2) 1 / 1.5 = 0.667 */
    transform: scale(0.667); 
}

/* (Задача 3) Меняем цвет рамки/тени при проигрыше */
.keno-result-overlay.loss .keno-result-box {
     /* ИЗМЕНЕНО: (ЗАДАНИЕ 2) Обводка остается зеленой */
     border-color: var(--color-secondary);
     box-shadow: 0 0 15px var(--color-secondary);
}

.keno-result-line {
    display: flex;
    flex-direction: column; /* Ставим друг под друга */
    gap: 5px;
    font-size: 1.2em;
    color: var(--color-text-light);
}

.keno-result-line span:first-child {
    font-size: 0.9em;
    opacity: 0.7;
}
.keno-result-line span:last-child {
    font-weight: bold;
    font-size: 1.5em;
}

/* ИЗМЕНЕНО: (ЗАДАНИЕ 4) Множитель (Х) стал зеленым */
#keno-result-multiplier {
    color: var(--color-secondary);
}
/* ИЗМЕНЕНО: (ЗАДАНИЕ 4) Выигрыш стал зеленым */
#keno-result-winnings {
    color: var(--color-secondary);
}
.keno-result-overlay.loss #keno-result-winnings {
    /* ИЗМЕНЕНО: (ЗАДАНИЕ 4) При проигрыше (0.00) тоже зеленый */
    color: var(--color-secondary);
}

/* === КОНЕЦ СТИЛЕЙ KENO OVERLAY === */

/* === (ЗАДАНИЕ 1) Позиционирование Keno Cat === */
.lobby-game-wrapper[data-game-type="keno"] .game-card-cat {
    /* Было: translateX(-10px) translateY(10px) scale(1.15); */
    transform: translateX(-15px) translateY(15px) scale(0.95); /* Новое положение */
}

.lobby-game-wrapper[data-game-type="keno"]:hover .game-card-cat {
    /* Было: scale(1.08); */
    transform: translateX(5px) translateY(10px) scale(1.25); /* Немного приподнимается при наведении */
}

/* === (ЗАДАЧА 2) Keno: Сохраняем подсветку выбранных ячеек === */

/* 1. .selected.hit (Выбрано и Попало) */
/* ИЗМЕНЕНО: Делаем фон ЗЕЛЕНЫМ (от .hit), но сохраняем свечение (от .selected) */
.keno-cell.selected.hit {
    background-color: var(--color-secondary); /* ИЗМЕНЕНО: Фон стал зеленым */
    animation: bounceIn 0.3s ease; /* Анимация от .hit */
    opacity: 1; /* От .hit */
    box-shadow: 0 0 10px var(--color-secondary); /* ИЗМЕНЕНО: Свечение стало зеленым */
}

/* 2. .selected.miss (Выбрано и Промах) */
/* Делаем фон ОРАНЖЕВЫМ, но тусклым (комбинация .selected и .miss) */
.keno-cell.selected.miss {
    background-color: var(--color-orange); /* Фон от .selected */
    opacity: 0.7; /* Тусклость от .miss */
    box-shadow: 0 0 10px var(--color-orange); /* От .selected */
}

/* 3. .selected.drawn (Выбрано, но шар выпал позже - не должно случиться, но на всякий) */
.keno-cell.selected.drawn {
    background-color: var(--color-orange);
    opacity: 1;
}

/* === (ДОБАВЛЕНО) Стили для кнопки Турбо Keno === */

/* 1. Обертка для кнопок "Играть" и "Турбо" */
.keno-play-wrapper {
    display: flex;
    flex-shrink: 0;
    /* Кнопки в этой обертке унаследуют высоту 50px от .keno-bet-actions-wrapper */
    height: 50px;
    /* ИЗМЕНЕНО: (Новый запрос 2) Кнопка "Играть" теперь растягивается */
    flex-grow: 1;
}

/* 2. Изменяем кнопку "Играть", чтобы убрать скругление справа */
#keno-play-button {
    border-top-right-radius: 6px; /* ИЗМЕНЕНО: (Новый запрос 2) Восстанавливаем */
    border-bottom-right-radius: 6px; /* ИЗМЕНЕНО: (Новый запрос 2) Восстанавливаем */
    height: 100%; /* Растягиваем на 50px */
    /* ИЗМЕНЕНО: (Новый запрос 2) Растягиваем */
    flex-grow: 1;
}

/* 3. Стилизуем новую кнопку "Турбо" */
.keno-action-btn.turbo {
    /* ИЗМЕНЕНО: (Новый запрос 2) Убираем фон и рамки */
    background-color: transparent;
    border: none;
    /* ИЗМЕНЕНО: (Новый запрос 2) Убираем отступы */
    padding: 0;
    width: auto; /* Авто-ширина */
    height: auto; /* Авто-высота */
    border-radius: 0;
    /* ИЗМЕНЕНО: (Новый запрос 2) Убираем центрирование */
    display: block; 
}

/* 4. Стилизуем иконку молнии внутри кнопки */
#keno-turbo-button img {
    height: 28px; /* ИЗМЕНЕНО: (Новый запрос 2) Размер иконки */
    width: auto;
    object-fit: contain;
    /* Четкость иконки */
    image-rendering: -webkit-crisp-edges;
    image-rendering: crisp-edges;
    /* ИЗМЕНЕНО: (Новый запрос 2) Тусклая по умолчанию */
    opacity: 0.6;
    transition: opacity 0.2s, filter 0.2s;
}

/* 5. Стиль при наведении (для .turbo) */
.keno-action-btn.turbo:hover img {
    opacity: 1;
}

/* 6. Стиль "Включено" (Task 3: Neon Glow) */
.keno-action-btn.turbo.active img {
    opacity: 1;
    /* Task 3: Оранжевый неон */
    filter: drop-shadow(0 0 8px var(--color-orange)) drop-shadow(0 0 4px var(--color-orange));
}

/* === (НОВЫЙ ЗАПРОС 2) Стили для новой обертки Keno Label === */
.keno-label-wrapper {
    display: flex;
    justify-content: space-between; /* Label слева, кнопка справа */
    align-items: center;
    margin-bottom: 5px; /* Стандартный отступ label */
}
        
.keno-label-wrapper label {
    display: block;
    font-size: 0.9em;
    color: var(--color-text-light);
    font-weight: bold;
    margin-bottom: 0; /* Убираем отступ, т.к. он на wrapper'е */
}

/* === (НОВЫЙ ЗАПРОС 3) Эстетика Keno Input === */

/* 1. Сначала стилизуем обертку инпута (.bet-input-group) */
/* Она станет "фоном" для инпута */
.keno-bet-actions-wrapper .bet-input-group {
    background-color: #2E3035; /* Темный фон, как у ячеек */
    border: 1px solid var(--color-border-dark); /* Темная рамка */
    border-radius: 6px;
    padding: 0; /* Убираем внутренний отступ, он будет у инпута */
    /* ИСПОЛЬЗУЕМ FLEX для центрирования текста, т.к. input[type=number] плохо слушается text-align */
    display: flex;
    justify-content: center;
    align-items: center;
    height: 50px; /* Синхронизируем высоту с кнопками */
    transition: border-color 0.2s, box-shadow 0.2s; /* Для :focus-within */
}

/* 2. Теперь "обнуляем" сам инпут, делая его прозрачным */
.keno-bet-actions-wrapper .bet-input-group input#keno-bet {
    background: transparent;
    border: none;
    color: var(--color-text-light); /* Светлый текст */
    text-align: center; /* Центрируем текст */
    font-size: 1.5em; /* Крупный шрифт */
    font-weight: bold;
    padding: 10px 5px; /* Внутренний отступ */
    height: auto; /* Сбрасываем фикс. высоту */
    /* Убираем стрелочки у number input */
    -moz-appearance: textfield;
}

.keno-bet-actions-wrapper .bet-input-group input#keno-bet::-webkit-outer-spin-button,
.keno-bet-actions-wrapper .bet-input-group input#keno-bet::-webkit-inner-spin-button {
    -webkit-appearance: none;
    margin: 0;
}

/* 3. Синхронизируем высоту кнопок "Автовыбор" и "Играть" */
.keno-action-btn.autopick {
     height: 50px; /* Та же высота, что и у инпута */
}

.keno-play-wrapper {
     height: 50px; /* Та же высота, что и у инпута */
}

/* 4. При фокусе на инпут, подсвечиваем обертку */
.keno-bet-actions-wrapper .bet-input-group:focus-within {
    border-color: var(--color-orange);
    box-shadow: 0 0 10px var(--color-orange);
}

/* === КОНЕЦ ЭСТЕТИКИ KENO INPUT === */

/* === (ИСПРАВЛЕНИЕ) Стили для Keno Status Bar (Задача пользователя) === */

.keno-status-bar {
    text-align: center;
    color: var(--color-text); 
    min-height: 20px;
    font-size: 0.9em;
    font-weight: bold;
    margin-top: 0; /* Уже есть 'order: 2' */
    
    /* Стили по умолчанию для прямоугольника (как в Dice/Coin) */
    padding: 10px;
    border-radius: 6px;
    display: none; /* Скрыт, пока нет .win/.loss */
    
    width: 100%; 
    max-width: 500px; /* Ограничиваем ширину, как у других */
    margin-left: auto;
    margin-right: auto;
}

.keno-status-bar.win {
    display: block;
    background-color: var(--color-secondary);
    color: var(--color-text-light);
    box-shadow: 0 0 10px rgba(0, 168, 120, 0.5);
}

.keno-status-bar.loss {
    display: block;
    background-color: var(--color-mine-bomb);
    color: var(--color-text-light);
    box-shadow: 0 0 10px rgba(255, 85, 85, 0.7);
}

/* === (ЗАДАЧА) Плавная анимация для статуса в Dice === */

/* 1. Определяем @keyframes для "плавного появления" */
@keyframes smooth-pop-in {
  0% {
    opacity: 0;
    transform: scale(0.9); /* Начинаем чуть меньше */
  }
  70% {
    opacity: 1;
    transform: scale(1.03); /* Слегка "перепрыгиваем" */
  }
  100% {
    opacity: 1;
    transform: scale(1.0); /* Возвращаемся в норму */
  }
}

/* 2. Применяем анимацию, когда появляется класс .win или .loss */
/* Мы используем #dice-status, чтобы быть уверенными, 
   что анимация применится только к Dice */
#dice-status.win,
#dice-status.loss {
  /* Длительность 0.3 секунды */
  animation: smooth-pop-in 0.3s ease-out;
}

/* === (ЗАДАЧА 3) Анимация для кота на странице бонусов === */
@keyframes floatCat {
    0% {
        transform: translateY(0px);
    }
    50% {
        transform: translateY(-10px); /* Поднимается */
    }
    100% {
        transform: translateY(0px);
    }
}

/* === (ЗАДАЧА 4) Фикс "прыжка" истории в Dice === */

/* 1. Обертка для статус-бара и ссылки "Проверить игру" */
.dice-status-wrapper {
  width: 100%;
  max-width: 500px; /* Та же ширина, что и у .dice-status-bar */
  margin: 0 auto;
  
  /* * Резервируем место.
   * .dice-status-bar (padding 20px + min-height 20px) = 40px
   * .game-check-link (font-size 0.9em + margin-top 10px) = ~25px
   * Задаем min-height, достаточный для ОБОИХ.
   * 40px (статус) + 25px (ссылка) = ~65px. 
   * Возьмем 70px с запасом.
   */
  min-height: 70px;
  
  /* Центрируем, если контент меньше */
  display: flex;
  flex-direction: column;
  justify-content: flex-start; /* Начинаем сверху */
  align-items: center;
}

/* 2. Убираем margin-top у элементов, так как он теперь на обертке */
#dice-status {
  margin-top: 10px; /* Оставляем отступ от кнопок */
}

.game-check-link {
  margin-top: 10px; /* Отступ от статус-бара (если он есть) или от верха */
}

/* 3. Когда статус-бар скрыт, ссылка "Проверить игру"
   все равно будет иметь отступ 10px сверху,
   но общая высота .dice-status-wrapper (70px) не даст истории "подпрыгнуть"
*/

/* === (ЗАДАЧА 1) Исправление верстки Промокода === */
.promocode-box {
    /* Восстанавливаем отступы, которые сбрасывал .dice-controls */
    padding: 20px;
}

.promocode-box .form-group input {
    /* Добавляем стили, которые отсутствовали из-за конфликта */
    padding: 10px;
    border-radius: 6px;
    font-size: 1em;
}

/* === (ЗАДАЧА 2) Плашка выигрыша Dice на всю ширину === */
#dice-status.dice-status-bar {
    width: 100%;
    max-width: none; /* Снимаем ограничение max-width (если оно было) */
    margin-left: 0;
    margin-right: 0;
}

/* === (НОВЫЕ) СТИЛИ ДЛЯ СТРАНИЦЫ РАНГОВ === */
.rank-container {
    display: grid;
    grid-template-columns: 1fr; /* 1 колонка на мобильных */
    gap: 15px;
    max-width: 500px;
    margin: 20px auto;
}

.rank-card {
    background-color: var(--color-sidebar);
    color: var(--color-text-light);
    border-radius: 12px;
    padding: 20px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    border: 1px solid var(--color-border-dark);
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
    transition: all 0.2s ease;
}

.rank-card:hover {
    transform: translateY(-3px);
    box-shadow: 0 6px 15px rgba(0, 0, 0, 0.2);
    border-color: var(--color-orange);
}

.rank-title {
    font-size: 1.3em;
    font-weight: bold;
    color: var(--color-orange);
}

.rank-requirement {
    font-size: 1.1em;
    font-weight: bold;
    color: var(--color-text-light);
    opacity: 0.8;
}

/* === (НОВЫЕ) СТИЛИ ДЛЯ АДМИН-ПАНЕЛИ === */
.admin-container {
    max-width: 800px;
    margin: 0 auto;
    background-color: var(--color-sidebar);
    border-radius: 12px;
    padding: 20px;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
    color: var(--color-text-light);
}

/* === (ИСПРАВЛЕНО) Выравнивание вкладок в админ-панели === */
#admin-tabs {
    gap: 10px; 
    flex-wrap: wrap; /* Разрешаем перенос вкладок */
}

#admin-tabs .ref-tab {
    /* Убираем flex-grow/basis, чтобы вкладки имели естественную ширину */
    /* flex-grow: 1; */
    /* flex-basis: 0; */
    flex-shrink: 0; /* Не сжимаем вкладки */
    
    text-align: center;
    padding: 10px 15px; /* Увеличиваем отступ для лучшего вида */
    margin: 0;
}

/* === (ЗАДАЧА 1 & 4) Выравнивание и стилизация кнопок в админ-панели === */

/* 1. Задаем ячейке "Ранг" layout (Оставляем как было) */
.admin-user-table td:nth-child(4) /* Ранг */
{
    display: grid; 
    grid-template-columns: 1fr; 
    gap: 5px; 
    vertical-align: top; 
}

/* (ЗАДАЧА 1) Выравниваем кнопки "Действия" по горизонтали (ИСПРАВЛЕНО) */
.admin-user-table td:nth-child(5)  /* Действия */
{
    /* ИСПОЛЬЗУЕМ GRID ВМЕСТО FLEX */
    display: grid;
    grid-template-columns: 1fr 1fr; /* 2 колонки */
    
    /* Убираем старые flex-стили */
    /* flex-direction: row; */
    /* flex-wrap: wrap; */
    /* align-items: flex-start; */
    
    gap: 5px;
    vertical-align: top;
}

/* (ЗАДАЧА 1) УДАЛЯЕМ старое правило, которое мешало */
/*
.admin-user-table td:nth-child(5) .button.admin-button {
    flex-grow: 1; 
    flex-basis: 0; 
    width: auto; 
    min-width: 100px; 
}
*/

/* 3. Улучшаем общую кнопку (Task 4) */
.button.admin-button {
    width: 100%; /* Занимает всю ширину ячейки/группы (кроме td 5) */
    padding: 10px 12px; /* Более "пухлая" кнопка */
    font-size: 0.9em;
    font-weight: bold; /* Жирный шрифт */
    border: none; /* Убираем рамку */
    border-radius: 6px; /* Скругление */
    transition: all 0.2s ease;
    cursor: pointer;
}

.button.admin-button:hover {
    transform: translateY(-1px); /* Легкий подъем */
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2); /* Тень при наведении */
}

.button.admin-button:active {
    transform: translateY(0);
    box-shadow: none;
}

/* 4. Стилизуем инпуты и селекты, чтобы они тоже были 100% ширины */
.admin-password-input,
.admin-balance-input,
.admin-rank-select {
    width: 100%;
    margin-bottom: 0; /* 'gap' теперь управляет отступом */
}

/* 5. Переопределяем цвета (Task 4) */

/* Кнопки "Сохранить" (Синие) */
.admin-password-save-btn,
.admin-balance-save-btn,
.admin-rank-save-btn {
    background-color: var(--color-blue);
    color: white;
}
.admin-password-save-btn:hover,
.admin-balance-save-btn:hover,
.admin-rank-save-btn:hover {
    background-color: #3a7bc8;
}

/* Кнопка "Статистика" (Зеленая) */
.admin-stats-btn {
    background-color: var(--color-secondary);
    color: white;
}
.admin-stats-btn:hover {
     background-color: #008f66;
}

/* Кнопка "Заблокировать" (Красная) */
.admin-block-btn {
    background-color: var(--color-mine-bomb);
    color: white;
}
.admin-block-btn:hover {
    background-color: #e04848;
}

/* Стили для таблицы (наследуются от .ref-table) */
.admin-user-table th:nth-child(1),
.admin-user-table td:nth-child(1) {
    width: 20%; /* Ник */
}
.admin-user-table th:nth-child(2),
.admin-user-table td:nth-child(2) {
    width: 25%; /* Пароль */
}
.admin-user-table th:nth-child(3),
.admin-user-table td:nth-child(3) {
    width: 25%; /* Баланс */
}
.admin-user-table th:nth-child(4),
.admin-user-table td:nth-child(4) {
    width: 30%; /* Ранг */
}
.admin-user-table th:nth-child(5),
.admin-user-table td:nth-child(5) {
    width: 30%; /* Действия */
    text-align: center;
}
.admin-user-table td:nth-child(5) {
    /* display: flex; (Переопределено на grid) */
    gap: 5px;
    /* flex-wrap: wrap; (Больше не нужно) */
    justify-content: center;
}

/* Стили для инпутов и селектов в таблице */
.admin-password-input,
.admin-balance-input {
    width: 100%;
    padding: 8px;
    border: 1px solid var(--color-border-dark);
    border-radius: 6px;
    background-color: #FFFFFF;
    color: var(--color-text);
    font-size: 1em;
    text-align: left;
    margin-bottom: 5px; /* Отступ до кнопки */
}
.admin-balance-input {
    text-align: right;
}

.admin-rank-select {
    width: 100%;
    padding: 8px;
    border: 1px solid var(--color-border-dark);
    border-radius: 6px;
    background-color: #FFFFFF;
    color: var(--color-text);
    font-size: 1em;
}

/* Статус создания промокода */
#admin-promo-status.success {
    color: var(--color-secondary);
}
#admin-promo-status.error {
    color: var(--color-mine-bomb);
}

/* (ЗАДАЧА 4) Статус очистки истории */
#admin-clear-history-status {
    text-align: center;
    font-size: 0.9em;
    margin-top: 15px;
    font-weight: bold;
    min-height: 1.2em;
}
#admin-clear-history-status.success {
    color: var(--color-secondary);
}
#admin-clear-history-status.error {
    color: var(--color-mine-bomb);
}


/* === (НОВЫЕ) СТИЛИ ДЛЯ МОДАЛЬНОГО ОКНА СТАТИСТИКИ === */
.admin-stats-modal-content {
    background-color: #3D4654;
    padding: 20px;
    border-radius: 12px;
    box-shadow: 0 5px 20px rgba(0, 0, 0, 0.5);
    width: 95%;
    max-width: 450px;
    color: var(--color-text-light);
}

.admin-stats-body {
    display: flex;
    flex-direction: column;
    gap: 15px; /* Отступ между блоками (наследуем .profile-box) */
    margin-top: 15px;
}
/* Используем стили из .profile-box */
#admin-stats-profit-box {
    border: 2px solid var(--color-border-dark);
}
#admin-stats-profit-box.win {
    border-color: var(--color-secondary);
    box-shadow: 0 0 10px var(--color-secondary);
}
#admin-stats-profit-box.loss {
    border-color: var(--color-mine-bomb);
    box-shadow: 0 0 10px var(--color-mine-bomb);
}
#admin-stats-profit-box.win span:last-child {
    color: var(--color-secondary);
}
#admin-stats-profit-box.loss span:last-child {
    color: var(--color-mine-bomb);
}

/* === (ИСПРАВЛЕНО) Адаптация админ-панели для мобильных === */
@media (max-width: 768px) {
    /* 1. Делаем вкладки поуже на очень маленьких экранах */
    @media (max-width: 450px) {
        #admin-tabs {
            gap: 5px; /* Tighter gap */
        }
        #admin-tabs .ref-tab {
            font-size: 0.9em; /* Smaller text */
            padding: 10px 8px;
            /* Восстанавливаем flex-grow, чтобы они заполнили 2+1 строки */
            flex-grow: 1; 
            flex-basis: 0;
        }
    }
    
    /* 2. Прячем заголовки таблицы */
    .admin-user-table thead {
        display: none;
    }

    /* 3. Превращаем строки в "карточки" */
    .admin-user-table tr {
        display: block;
        border: 1px solid var(--color-border-dark);
        border-radius: 8px;
        margin-bottom: 20px;
        padding: 10px;
        background-color: #2E3035; /* Фон карточки */
    }

    /* 4. Ячейки теперь ведут себя как строки "Label: Content" */
    .admin-user-table td {
        display: grid;
        /* ИЗМЕНЕНО: Уменьшаем левую колонку для мобильных */
        grid-template-columns: 100px 1fr; /* Label (100px) | Content (1fr) */
        gap: 10px;
        align-items: center;
        padding: 12px 0;
        border-bottom: 1px solid var(--color-border-dark);
        width: 100% !important; /* !Важно: перебить десктопный width: 30% */
        text-align: left; /* Сбрасываем text-align: center */
    }
    .admin-user-table tr td:last-child {
        border-bottom: none;
    }
    
    /* 5. Добавляем Label с помощью data-label из admin.js */
    .admin-user-table td::before {
        content: attr(data-label); /* Берем текст из data-label="Ник" */
        font-weight: bold;
        opacity: 0.7;
        font-size: 0.9em;
        padding-right: 5px;
    }
    
    /* 6. Стилизуем контент внутри ячеек */
    
    /* Для 1-й ячейки (Ник) - текст контента */
    .admin-user-table td:nth-child(1) {
        font-weight: bold;
    }
    
    /* Для ячеек с инпутами и кнопками (Пароль, Баланс) */
    .admin-user-table td:nth-child(2),
    .admin-user-table td:nth-child(3) {
        /* Контент (инпут + кнопка) должны быть в колонку */
        display: grid;
        grid-template-columns: 100px 1fr;
    }
    /* Заставляем инпут и кнопку в этих ячейках быть в колонке */
    .admin-user-table td:nth-child(2) > input,
    .admin-user-table td:nth-child(2) > button,
    .admin-user-table td:nth-child(3) > input,
    .admin-user-table td:nth-child(3) > button {
        grid-column: 2 / 3; /* Занимают только правую колонку */
    }
    .admin-password-input,
    .admin-balance-input {
         margin-bottom: 8px; /* Отступ между инпутом и кнопкой */
    }

    /* Для ячейки Ранг */
    .admin-user-table td:nth-child(4) {
        display: grid;
        grid-template-columns: 100px 1fr;
    }
    .admin-user-table td:nth-child(4) > .rank-control-group {
        grid-column: 2 / 3;
    }
    
    /* !!! (ИСПРАВЛЕНО) Для ячейки Действия (Task 1) !!! */
    .admin-user-table td:nth-child(5) {
        /* Переопределяем display: grid с десктопа */
        display: grid; 
        grid-template-columns: 100px 1fr; /* Label | Content */
    }
    /* Складываем кнопки "Статистика" и "Заблокировать" в колонку */
    .admin-user-table td:nth-child(5) > .admin-stats-btn,
    .admin-user-table td:nth-child(5) > .admin-block-btn {
        grid-column: 2 / 3; /* Занимают правую колонку */
        width: 100%; /* На всю ширину контентной колонки */
    }
    .admin-stats-btn {
        margin-bottom: 10px; /* Отступ между кнопками */
    }
}
/* =========================================
   1. ТОП НАВИГАЦИЯ
   ========================================= */
#top-game-nav {
    transition: opacity 0.3s ease, max-height 0.3s ease;
    opacity: 1;
    max-height: 120px; 
    overflow: hidden; 
    margin-bottom: 15px;
    width: 100%; 
}

#top-game-nav.hidden {
    opacity: 0;
    max-height: 0;
    pointer-events: none;
    margin: 0;
    padding: 0;
}

.mini-games-nav {
    display: flex !important; 
    flex-wrap: nowrap !important; 
    overflow-x: auto !important; 
    gap: 10px;
    padding: 10px 5px;
    margin: 0;
    -webkit-overflow-scrolling: touch; 
    scrollbar-width: none; 
    -ms-overflow-style: none;
}
.mini-games-nav::-webkit-scrollbar {
    display: none; 
}

.mini-games-nav-item {
    flex: 0 0 auto !important; 
    min-width: 100px !important;
    width: 100px; 
    display: flex;
    flex-direction: row;
    align-items: center;
    justify-content: center;
    gap: 8px;
    background-color: var(--color-sidebar);
    border: 2px solid var(--color-border-dark);
    padding: 8px 10px;
    color: var(--color-text-light);
    font-weight: bold;
    font-size: 0.9em;
    border-radius: 10px;
    cursor: pointer;
    transition: all 0.2s ease;
    -webkit-tap-highlight-color: transparent;
}

.mini-games-nav-item.active {
    background-color: #6A788C;
    border-color: var(--color-text-light);
    color: var(--color-text-light);
    transform: scale(1.05);
    box-shadow: 0 2px 5px rgba(0,0,0,0.2);
}


/* =========================================
   2. СТРАНИЦА РАНГОВ
   ========================================= */
#ranks-page .rank-container {
    display: block; 
    max-width: 100%; 
    margin: 0; 
    padding: 0;
}
.rank-scroll-container {
    display: flex;
    overflow-x: auto; 
    overflow-y: hidden;
    gap: 15px; 
    -webkit-overflow-scrolling: touch; 
    padding: 20px 15px; 
    scrollbar-width: none; 
}
.rank-scroll-container::-webkit-scrollbar {
    display: none; 
}
.rank-card-wrapper {
    flex: 0 0 280px; 
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 25px 20px;
    border-radius: 16px;
    background-color: #2E3035; 
    border: 1px solid var(--color-border-dark);
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
    text-align: center;
    transition: all 0.3s ease;
    position: relative;
    overflow: hidden;
}
.rank-card__image {
    width: 150px;
    height: 150px;
    object-fit: contain;
    margin-bottom: 20px;
}
.rank-card__title {
    font-size: 1.8em;
    font-weight: 800;
    color: var(--color-text-light);
    margin-bottom: 20px;
}
.rank-card__info-list {
    list-style: none;
    padding: 0;
    margin: 0;
    width: 100%;
    display: flex;
    flex-direction: column;
    gap: 12px;
}
.rank-card__info-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    font-size: 0.9em;
    color: var(--color-text-light);
    padding-bottom: 12px;
    border-bottom: 1px solid var(--color-border-dark);
}
.rank-card__info-item:last-child {
    border-bottom: none;
}
.rank-card__info-item span {
    opacity: 0.7;
}
.rank-card__info-item strong {
    font-size: 1.1em;
    font-weight: 700;
    color: #FFFFFF;
}
.rank-card-wrapper.locked {
    background-color: #242830;
    border-color: #2E3035;
}
.rank-card-wrapper.locked .rank-card__image {
    opacity: 0.4;
    filter: grayscale(80%);
}
.rank-card-wrapper.locked .rank-card__title,
.rank-card-wrapper.locked .rank-card__info-list {
    opacity: 0.5;
}
.rank-card-wrapper.achieved {
    background-color: #2E3035; 
    border-color: var(--color-border-dark);
}
.rank-card-wrapper.achieved .rank-card__image {
     opacity: 1.0; 
     filter: grayscale(0%);
}
.rank-card-wrapper.current {
    background-image: repeating-linear-gradient(
        45deg,
        transparent,
        transparent 10px,
        rgba(245, 166, 35, 0.05) 10px,
        rgba(245, 166, 35, 0.05) 12px
    );
    background-color: #2E3035;
    border: 2px solid var(--color-orange);
    box-shadow: 0 0 20px rgba(245, 166, 35, 0.5), 
                0 4px 15px rgba(0, 0, 0, 0.2);
    transform: scale(1.03); 
}
.rank-card-wrapper.current .rank-card__image {
    opacity: 1;
    filter: grayscale(0%);
    filter: drop-shadow(0 0 10px var(--color-orange));
}
.rank-card-wrapper.current .rank-card__title {
    color: var(--color-orange);
    text-shadow: 0 0 10px var(--color-orange);
}
.rank-card-wrapper.current .rank-card__info-item strong {
    color: var(--color-orange);
}
@media (max-width: 768px) {
    .rank-card-wrapper {
        flex-basis: 250px; 
    }
}

/* =========================================
   3. НЕДЕЛЬНЫЕ БОНУСЫ
   ========================================= */
.weekly-bonus-box {
    margin-top: 10px;
    padding: 20px;
    display: flex;
    flex-direction: column;
    gap: 20px;
}
.weekly-bonus-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: 15px;
    background-color: #2E3035;
    padding: 15px;
    border-radius: 8px;
}
.weekly-bonus-info {
    display: flex;
    flex-direction: column;
    gap: 5px;
}
.weekly-bonus-title {
    font-size: 1.1em;
    font-weight: bold;
    color: var(--color-text-light);
    opacity: 0.9;
}
.weekly-bonus-value {
    font-size: 1.3em;
    font-weight: bold;
    color: var(--color-secondary);
}
.weekly-bonus-item .auth-button {
    background-color: var(--color-border-dark);
    color: var(--color-text-light);
    opacity: 0.6;
    cursor: not-allowed;
    width: auto;
    margin-top: 0;
    flex-shrink: 0;
    padding: 10px 15px;
    font-size: 0.9em;
}
.weekly-bonus-item .auth-button.active-claim {
    background-color: var(--color-secondary);
    opacity: 1;
    cursor: pointer;
}
.weekly-bonus-item .auth-button.active-claim:hover {
    background-color: #008f66;
}
#weekly-bonus-status {
    text-align: center;
    font-size: 0.9em;
    min-height: 1.2em;
}
#weekly-bonus-status.win { color: var(--color-secondary); }
#weekly-bonus-status.loss { color: var(--color-mine-bomb); }

/* =========================================
   4. БОЛЬШИЕ ВЫИГРЫШИ (СВЕТЛАЯ ТЕМА)
   ========================================= */
.bet-history-container h3 {
    font-size: 1.5em;
    font-weight: 800;
    text-align: left;
    margin-bottom: 15px;
    
    /* ЗАДАЧА: Делаем темным (как Список игр) в светлой теме */
    background: none; 
    -webkit-background-clip: border-box;
    background-clip: border-box;
    color: var(--color-text); /* Темный цвет */
    text-shadow: none; 
}

/* Список игр (СВЕТЛАЯ ТЕМА) - уже по дефолту темный, но на всякий случай */
.game-list-title {
    color: var(--color-text); /* Темный цвет */
}

.high-win-card {
    width: 150px; 
    min-width: 150px;
    padding: 2px; 
    border-radius: 14px;
    margin-right: 12px;
    flex-shrink: 0;
    background: linear-gradient(45deg, #F5A623, #FFF, #F5A623, #B8860B);
    background-size: 300% 300%;
    animation: gold-shimmer 4s ease infinite;
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.4), 
                0 0 10px rgba(245, 166, 35, 0.3);
    transition: transform 0.2s;
}
.high-win-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 8px 20px rgba(245, 166, 35, 0.6);
}
.history-item-content {
    background-color: #2E3035; 
    border-radius: 12px;
    padding: 15px 10px;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: space-between;
    height: 100%;
    gap: 10px;
}
.history-game-img-icon {
    height: 40px;
    width: 40px;
    object-fit: contain;
    filter: drop-shadow(0 0 8px rgba(255, 255, 255, 0.2));
}
.high-win-info {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 5px;
    width: 100%;
}
.history-user {
    font-size: 0.9em;
    color: #FFFFFF;
    font-weight: bold;
    max-width: 100%;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}
.history-multiplier-tag {
    font-size: 0.85em;
    color: #F5A623;
    font-weight: 800;
    background-color: rgba(245, 166, 35, 0.1);
    padding: 4px 8px;
    border-radius: 6px;
    border: 1px solid rgba(245, 166, 35, 0.4);
    box-shadow: 0 0 5px rgba(245, 166, 35, 0.2);
}
.history-amount.win {
    font-size: 1.2em;
    font-weight: 900;
    color: #00FF99; 
    text-shadow: 0 0 10px rgba(0, 255, 153, 0.6);
}
@keyframes gold-shimmer {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
}

/* =========================================
   5. MINES SCROLL BAR
   ========================================= */
.mines-multipliers-bar {
    display: flex;
    width: 100%;
    overflow-x: auto;
    overflow-y: hidden;
    gap: 8px;
    padding: 10px 5px; 
    margin-bottom: 10px;
    scrollbar-width: none; 
    -ms-overflow-style: none; 
}
.mines-multipliers-bar::-webkit-scrollbar {
    display: none;
}
.mines-multiplier-item {
    flex-shrink: 0;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    background-color: var(--color-sidebar); 
    border: 2px solid var(--color-border-dark);
    color: var(--color-text-light);
    border-radius: 8px;
    padding: 8px 12px;
    min-width: 80px;
    text-align: center;
    transition: all 0.3s ease;
}
.step-label {
    font-size: 0.7em;
    color: var(--color-text-light);
    opacity: 0.7;
    margin-bottom: 4px; 
    text-transform: uppercase;
    font-weight: bold;
    letter-spacing: 0.5px;
}
.mines-multiplier-item .multiplier-value {
    font-size: 1.4em; 
    font-weight: bold;
    color: var(--color-orange);
    line-height: 1.2;
}
.mines-multiplier-item.active {
    background-color: var(--color-secondary);
    border-color: var(--color-secondary);
    transform: scale(1.05);
    box-shadow: 0 0 15px rgba(0, 168, 120, 0.5);
}
.mines-multiplier-item.active .multiplier-value,
.mines-multiplier-item.active .step-label {
    color: #FFFFFF;
    opacity: 1;
}
.mines-action-buttons {
    margin-top: 0; 
    margin-bottom: 15px;
    display: flex;
    flex-direction: column;
    gap: 10px;
}

/* =========================================
   6. РЕДИЗАЙН KENO (COMPACT & AUTO)
   ========================================= */

.keno-game-container {
    display: flex;
    flex-direction: column;
    gap: 15px;
    max-width: 500px;
    margin: 0 auto;
    width: 100%;
}

.keno-grid-wrapper { order: 1; }
#keno-status { order: 2; }
.keno-controls-panel { order: 3; margin-top: 0; } /* Панель управления */
/* МНОЖИТЕЛИ */
.keno-payout-scroll-wrapper {
    order: 4 !important; 
    margin-top: 5px !important; /* Внешний отступ от кнопок */
    /* ВАЖНО: padding-top позволяет лапкам не обрезаться сверху */
    padding-top: 15px !important; 
    background-color: transparent !important;
    border: none !important;
}

/* ОБЩИЙ ФОН (Затемненная область) */
.keno-board-area {
    background-color: rgba(30, 33, 40, 0.6); 
    border-radius: 16px;
    padding: 15px 5px; 
    margin-bottom: 0;
    order: 1; 
    display: flex;
    flex-direction: column;
    gap: 15px; 
}

/* --- ИГРОВОЕ ПОЛЕ --- */
.keno-grid-wrapper {
    order: unset; 
    background-color: transparent;
    padding: 0;
    border-radius: 0;
    position: relative;
    margin-bottom: 0; 
}

.keno-grid {
    display: grid;
    grid-template-columns: repeat(8, 1fr);
    gap: 4px; 
}

.keno-cell {
    aspect-ratio: 1 / 1;
    background-color: #2E3035; 
    border: 1px solid var(--color-border-dark);
    border-radius: 12px; 
    color: var(--color-text-light);
    font-size: 1.3em; 
    font-weight: bold;
    display: flex;
    justify-content: center;
    align-items: center;
    cursor: pointer;
    transition: all 0.2s ease;
    box-shadow: inset 0 -2px 0 rgba(0,0,0,0.3);
    overflow: hidden;
}

.keno-cell:hover {
    transform: translateY(-1px);
}

/* Выбранная ячейка */
.keno-cell.selected {
    background-color: var(--color-orange); 
    color: #FFFFFF;
    border-color: var(--color-orange);
    box-shadow: 0 0 10px var(--color-orange);
}

/* Угаданная ячейка (Зеленая) */
.keno-cell.hit {
    background-color: var(--color-secondary); 
    border-color: var(--color-secondary);
    box-shadow: none;
    color: #fff;
    animation: popIn 0.3s ease;
}
/* Ячейка, которая выпала, но не была выбрана */
.keno-cell.drawn {
    background-color: #4A5568; 
    color: #FFF;
    border-color: #4A5568;
    opacity: 0.7;
}

/* Картинка внутри ячейки */
.keno-cell-icon {
    width: 90%; 
    height: 90%;
    object-fit: contain;
}


/* --- МНОЖИТЕЛИ (УМЕНЬШЕННЫЕ) --- */
.keno-payout-scroll-wrapper {
    order: unset;
    width: 100%;
    overflow-x: auto;
    padding-bottom: 5px;
    scrollbar-width: none;
    margin-top: 0; 
}
.keno-payout-scroll-wrapper::-webkit-scrollbar { display: none; }

.keno-payout-bar-ref-style {
    display: flex;
    justify-content: space-between;
    min-width: 100%;
    gap: 2px; /* Уменьшен зазор */
}

.keno-gem-item {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 2px; /* Уменьшен зазор */
    opacity: 0.6; 
    transition: all 0.3s;
    flex: 1;
    min-width: 25px; /* Уменьшена мин ширина */
}

.keno-paw-wrapper {
    position: relative;
    width: 18px; /* Уменьшен размер лапок */
    height: 18px;
}

.paw-grey, .paw-color {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    object-fit: contain;
    transition: opacity 0.3s;
}
.paw-grey { opacity: 1; }
.paw-color { opacity: 0; }

/* Активное состояние */
.keno-gem-item.active {
    opacity: 1;
    transform: scale(1.2); /* Увеличено выделение */
}
.keno-gem-item.active .paw-grey { opacity: 0; }
.keno-gem-item.active .paw-color { opacity: 1; }

.keno-gem-mult {
    font-size: 0.65em; /* Очень маленький текст */
    font-weight: bold;
    color: var(--color-text-light);
}


/* --- ПАНЕЛЬ УПРАВЛЕНИЯ (MINIMALIST) --- */
.keno-controls-ref-style {
    order: 2; 
    margin-top: -5px; 
    background-color: #2E3035; 
    border-radius: 20px 20px 0 0; 
    padding: 10px; /* Компактный паддинг */
    border: 1px solid var(--color-border-dark);
    display: flex;
    flex-direction: column;
    gap: 8px; /* Компактный отступ */
}

/* Tabs */
.keno-tabs-visual {
    display: flex;
    background-color: #222429;
    border-radius: 8px;
    padding: 4px;
    margin-bottom: 0;
}
.keno-tab-btn {
    flex: 1;
    background: transparent;
    border: none;
    color: var(--color-text-light);
    padding: 8px;
    font-weight: bold;
    border-radius: 6px;
    opacity: 0.6;
    cursor: pointer;
    font-size: 0.9em;
}
.keno-tab-btn.active {
    background-color: #3D4654;
    opacity: 1;
    box-shadow: 0 2px 5px rgba(0,0,0,0.2);
}

/* Container for Manual/Auto panels */
#keno-manual-panel,
#keno-auto-panel {
    display: flex;
    flex-direction: column;
    gap: 8px;
}

/* Actions Row (Manual) */
.keno-actions-row {
    display: flex;
    gap: 8px;
}
.keno-action-btn-ref {
    background-color: transparent;
    border: 1px solid var(--color-border-dark);
    color: var(--color-text-light);
    padding: 0 10px;
    height: 40px; /* Компактная высота */
    border-radius: 8px;
    font-weight: bold;
    cursor: pointer;
    transition: all 0.2s;
    font-size: 0.9em;
}
.keno-action-btn-ref.autopick {
    flex-grow: 1;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
}
.keno-action-btn-ref.autopick:hover { background-color: #3D4654; }
.keno-action-btn-ref.clear {
    width: 40px;
    display: flex;
    align-items: center;
    justify-content: center;
}
.keno-action-btn-ref.clear img {
    width: 20px;
    height: 20px;
    object-fit: contain;
    opacity: 0.8;
}
.keno-action-btn-ref.clear:hover { background-color: #3D4654; }

/* Play Row (Manual) */
.keno-play-row {
    display: flex;
    gap: 8px;
    align-items: stretch; 
}
.keno-play-wrapper {
    display: flex;
    flex-shrink: 0;
    height: 40px; /* Компактная высота */
    flex-grow: 1;
}
.keno-big-play-btn {
    flex-grow: 1; 
    background: linear-gradient(90deg, #F5A623, #FFC857); 
    color: #2E3035; 
    border: none;
    border-radius: 8px;
    padding: 0;
    font-size: 1em;
    font-weight: 900;
    text-transform: uppercase;
    cursor: pointer;
    box-shadow: 0 3px 0 #C78212; 
    transition: transform 0.1s, box-shadow 0.1s;
}
.keno-big-play-btn.full-width {
    height: 40px;
    width: 100%;
}
.keno-big-play-btn:active {
    transform: translateY(2px);
    box-shadow: 0 1px 0 #C78212;
}
.keno-turbo-btn {
    width: 40px;
    height: 40px;
    background-color: #222429;
    border: 1px solid var(--color-border-dark);
    border-radius: 8px;
    display: flex;
    justify-content: center;
    align-items: center;
    cursor: pointer;
    transition: all 0.2s;
}
.keno-turbo-btn:hover { background-color: #3D4654; }
.keno-turbo-btn img {
    width: 20px;
    height: 20px;
    object-fit: contain;
    opacity: 0.7;
    transition: opacity 0.2s;
}
.keno-turbo-btn.active img {
    opacity: 1;
    filter: drop-shadow(0 0 5px #FFD700);
}

/* Input Row (Common) */
.keno-bet-input-header {
    font-size: 0.8em;
    font-weight: bold;
    color: var(--color-text-light);
    margin-bottom: -4px;
    opacity: 0.7;
}
.keno-bet-input-row {
    display: flex;
    gap: 8px;
    height: 40px; /* Компактная высота */
    align-items: center; 
}
.keno-input-wrapper {
    flex-grow: 1;
    background-color: #222429;
    border: 1px solid var(--color-border-dark);
    border-radius: 8px;
    display: flex;
    align-items: center;
    padding: 0 10px;
    height: 100%; 
}
.currency-icon {
    color: var(--color-text-light);
    opacity: 0.5;
    font-weight: bold;
    margin-right: 5px;
    font-size: 0.9em;
}
.keno-input-wrapper input {
    background: transparent;
    border: none;
    color: #FFF;
    font-size: 1.2em;
    width: 100%;
    font-weight: 900;
    outline: none;
    padding: 0;
    height: 100%;
}

/* Modifiers */
.bet-half.ref-style, .bet-double.ref-style {
    background-color: #222429;
    border: 1px solid var(--color-border-dark); 
    color: var(--color-text-light);
    width: 40px; /* Компактный размер */
    height: 40px; 
    flex-shrink: 0; 
    border-radius: 8px;
    font-weight: 900; 
    font-size: 0.9em; 
    cursor: pointer;
    display: flex;
    justify-content: center;
    align-items: center;
    padding: 0;
}

/* --- AUTO GAME STYLES --- */
.keno-auto-row {
    display: flex;
    flex-direction: column;
    gap: 4px;
}
.keno-auto-row label {
    font-size: 0.8em;
    color: var(--color-text-light);
    opacity: 0.7;
    font-weight: bold;
}
.keno-auto-count-wrapper {
    display: flex;
    gap: 8px;
    height: 40px;
}
#keno-auto-count {
    flex-grow: 1;
    background-color: #222429;
    border: 1px solid var(--color-border-dark);
    border-radius: 8px;
    color: #FFF;
    font-size: 1.1em;
    font-weight: bold;
    text-align: center;
    padding: 0 10px;
}
#keno-auto-start-button {
    margin-top: 0;
}
/* Stop button state */
#keno-auto-start-button.stop-mode {
    background: linear-gradient(90deg, #FF5555, #FF7777);
    box-shadow: 0 3px 0 #B03030;
}
#keno-auto-start-button.stop-mode:active {
    box-shadow: 0 1px 0 #B03030;
}


/* --- RISK LEVELS --- */
.keno-risk-selector {
    display: grid;
    grid-template-columns: 1fr 1fr 1fr;
    gap: 4px;
    background-color: #222429;
    border-radius: 8px;
    padding: 3px;
    margin-top: 5px;
}
.keno-risk-btn {
    background-color: transparent;
    border: none;
    color: var(--color-text-light);
    opacity: 0.5;
    padding: 8px 0;
    font-size: 0.85em;
    font-weight: bold;
    border-radius: 6px;
    cursor: pointer;
    transition: all 0.2s;
}
.keno-risk-btn.active {
    background-color: #3D4654;
    opacity: 1;
    color: var(--color-orange);
}


/* Статус бар */
#keno-status {
    order: unset; 
    width: 100%;
    margin-bottom: 5px;
}

/* Мобильная адаптация */
@media (max-width: 400px) {
    .keno-grid { gap: 3px; }
    .keno-cell { border-radius: 8px; font-size: 1.1em; }
}

@keyframes popIn {
    0% { transform: scale(0.8); opacity: 0.5; }
    100% { transform: scale(1); opacity: 1; }
}


/* =========================================
   7. АДАПТАЦИЯ COINFLIP (ПОД СТИЛЬ KENO)
   ========================================= */

/* Обертка для кнопок выбора (Орел/Решка) */
.coin-choice-wrapper {
    display: flex;
    width: 100%;
    gap: 10px;
}

/* Сами кнопки выбора (наследуют стиль keno-turbo-btn, но растягиваются) */
.coin-choice-btn {
    flex-grow: 1; /* Растягиваем на всю ширину */
    width: auto;  /* Сбрасываем фикс ширину */
    height: 50px; /* Высота как у инпутов */
    border-radius: 10px;
    background-color: #222429;
    border: 1px solid var(--color-border-dark);
    transition: all 0.2s;
}

.coin-choice-btn img {
    width: 35px; /* Картинки покрупнее */
    height: 35px;
    opacity: 0.8;
    transition: transform 0.2s ease, opacity 0.2s;
}

.coin-choice-btn:hover {
    background-color: #3D4654;
    border-color: var(--color-text-light);
}

.coin-choice-btn:hover img {
    transform: scale(1.1);
    opacity: 1;
}

/* Переопределение цвета активной кнопки Забрать (зеленый) при нажатии */
#coin-cashout-button:active {
    box-shadow: 0 1px 0 #007550 !important;
    transform: translateY(2px);
}

/* Скрытый класс (утилита) */
.hidden {
    display: none !important;
}

/* =========================================
   8. ФИКСЫ ИНТЕРФЕЙСА COINFLIP
   ========================================= */
#coin-game .coin-game-container {
    display: flex;
    flex-direction: column;
}

#coin-game .keno-controls-ref-style {
    order: 1 !important;
    border-radius: 16px !important;
    margin-top: 10px !important;
    margin-bottom: 20px !important;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
}

#coin-game .coin-display-wrapper,
#coin-game #coin-status {
    order: 0 !important;
}

#coin-game .per-game-history-container {
    order: 10 !important;
    margin-top: 0 !important;
}

/* =========================================
   9. РЕДИЗАЙН CRASH (KENO STYLE)
   ========================================= */

/* 1. Порядок элементов (История вниз) */
#crash-game .crash-game-container {
    display: flex;
    flex-direction: column;
}

/* График сверху */
.crash-graph-wrapper {
    order: 0;
    background-color: rgba(30, 33, 40, 0.6); /* Темный фон как в Keno Board */
    border: 1px solid var(--color-border-dark);
    border-radius: 16px;
    box-shadow: inset 0 0 20px rgba(0,0,0,0.5);
    margin-bottom: 10px;
}

/* Статус */
#crash-status {
    order: 1;
}

/* Панель управления */
#crash-game .keno-controls-ref-style {
    order: 2;
    border-radius: 16px; /* Полное скругление */
    margin-top: 5px;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
}

/* История */
#crash-game .per-game-history-container {
    order: 10;
    margin-top: 20px;
}


/* 2. Стилизация ряда "Авто-вывод" */
.crash-auto-row-styled {
    display: flex;
    align-items: center;
    justify-content: space-between;
    background-color: #222429;
    border: 1px solid var(--color-border-dark);
    border-radius: 10px;
    padding: 8px 12px;
    margin-bottom: 5px;
}

.crash-auto-label-group {
    display: flex;
    align-items: center;
    gap: 10px;
}

.crash-label-title {
    font-weight: bold;
    color: var(--color-text-light);
    font-size: 0.9em;
}

/* Инпут авто-вывода (маленький) */
.crash-auto-input-box {
    width: 100px !important; /* Фикс ширина */
    flex-grow: 0 !important;
    height: 36px !important;
    border-color: transparent !important; /* Убираем рамку wrapper'а, т.к. есть внешняя */
    background-color: rgba(255,255,255,0.05) !important;
}
.crash-auto-input-box input {
    text-align: right;
    padding-right: 5px;
}

/* Тумблер (Toggle Switch) */
.switch-toggle {
    position: relative;
    display: inline-block;
    width: 40px;
    height: 22px;
}

.switch-toggle input { 
    opacity: 0;
    width: 0;
    height: 0;
}

.slider {
    position: absolute;
    cursor: pointer;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: var(--color-border-dark);
    transition: .4s;
}

.slider:before {
    position: absolute;
    content: "";
    height: 16px;
    width: 16px;
    left: 3px;
    bottom: 3px;
    background-color: white;
    transition: .4s;
}

input:checked + .slider {
    background-color: var(--color-secondary); /* Зеленый */
}

input:checked + .slider:before {
    transform: translateX(18px);
}

/* Скругление тумблера */
.slider.round {
    border-radius: 34px;
}
.slider.round:before {
    border-radius: 50%;
}

/* Отключенный инпут */
.crash-auto-input-box input:disabled {
    opacity: 0.3;
}

/* Кнопка "Забрать" (Зеленая) */
#crash-main-button.cashout-mode {
    background: linear-gradient(90deg, #00A878, #00D699);
    box-shadow: 0 3px 0 #007550;
}
#crash-main-button.cashout-mode:active {
    box-shadow: 0 1px 0 #007550;
    transform: translateY(2px);
}

/* Кнопка "Пропустить" (Синяя/Серая) */
#crash-main-button.skip-mode {
    background: linear-gradient(90deg, #4A90E2, #5aa1f5);
    box-shadow: 0 3px 0 #2c6bb3;
}

/* =========================================
   10. РЕДИЗАЙН MINES (KENO STYLE)
   ========================================= */

/* 1. Порядок элементов (История вниз) */
#mines-game .mines-game-container {
    display: flex;
    flex-direction: column;
}

/* Шкала сверху */
#mines-multipliers-bar {
    order: 0;
}

/* Сетка */
.mines-grid-wrapper {
    order: 1;
    background-color: rgba(30, 33, 40, 0.6); /* Темный фон */
    border: 1px solid var(--color-border-dark);
    border-radius: 16px;
    box-shadow: inset 0 0 20px rgba(0,0,0,0.5);
    margin-bottom: 10px;
    padding: 10px;
}

/* Статус */
#mines-status {
    order: 2;
}

/* Панель управления */
#mines-game .keno-controls-ref-style {
    order: 3;
    border-radius: 16px; /* Полное скругление */
    margin-top: 5px;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
}

/* История */
#mines-game .per-game-history-container {
    order: 10;
    margin-top: 20px;
}

/* 2. Стили для выбора мин (Mines Count) */
.mines-count-row {
    display: flex;
    flex-direction: column;
    gap: 5px;
    margin-bottom: 5px;
    margin-top: 10px; /* Отступ сверху для отделения */
}

.mines-count-label {
    font-size: 0.8em;
    font-weight: bold;
    color: var(--color-text-light);
    opacity: 0.7;
}

.mines-count-selector {
    display: flex;
    gap: 5px;
}

.mines-count-btn {
    flex: 1;
    background-color: transparent;
    border: 1px solid var(--color-border-dark);
    color: var(--color-text-light);
    border-radius: 8px;
    padding: 8px 0;
    font-weight: bold;
    cursor: pointer;
    transition: all 0.2s;
}

.mines-count-btn:hover {
    background-color: #3D4654;
}

.mines-count-btn.active {
    background-color: #3D4654;
    color: var(--color-orange);
    border-color: var(--color-orange);
    opacity: 1;
}

/* Кастомный инпут мин */
.mines-custom-input {
    flex: 0 0 60px; /* Фикс ширина */
    height: 34px; /* Под высоту кнопок */
    padding: 0 5px;
    background-color: #222429; /* Темный фон */
    border: 1px solid var(--color-border-dark);
    /* ADDED: Flex to center input if needed */
    display: flex;
    align-items: center;
    justify-content: center;
}
/* --- ИЗМЕНЕНО: Исправляем цвет текста и фона инпута --- */
.mines-custom-input input,
.mines-custom-input #mines-count-input {
    text-align: center;
    font-size: 1em;
    background-color: transparent !important; /* Перекрываем стиль из style.css */
    color: #FFF !important; /* Перекрываем стиль из style.css */
    border: none;
    width: 100%;
    height: 100%;
    font-weight: bold;
    padding: 0; /* Reset padding */
}

/* Кнопка "Забрать" (Зеленая) */
#mines-main-button.cashout-mode {
    background: linear-gradient(90deg, #00A878, #00D699);
    box-shadow: 0 3px 0 #007550;
}
#mines-main-button.cashout-mode:active {
    box-shadow: 0 1px 0 #007550;
    transform: translateY(2px);
}

/* === (ИЗМЕНЕНО: ЗАДАЧА 4 И НОВЫЙ ЗАПРОС) Стили для скролла мини-игр === */

/* ИЗМЕНЕНО: Контейнер */
.mini-games-nav-container {
    position: relative;
    max-width: 1000px;
    margin: 0 auto 15px;
    padding: 0 10px; 
}

.mini-games-nav {
    display: flex; 
    /* ИЗМЕНЕНО: Включаем перенос */
    flex-wrap: wrap; 
    /* ИЗМЕНЕНО: Убираем горизонтальный скролл */
    overflow-x: visible; 
    background-color: transparent;
    border-radius: 0;
    padding: 0; 
    gap: 10px;
    margin: 0; 
    
    /* ИЗМЕНЕНО: Убираем стили свайпа */
    /* cursor: grab; */
    /* user-select: none; */
    
    /* ИЗМЕНЕНО: Убираем плавную прокрутку */
    /* scroll-behavior: smooth; */
    
    /* Скрываем скроллбар (на всякий случай) */
    scrollbar-width: none; 
    -ms-overflow-style: none;
}
.mini-games-nav::-webkit-scrollbar {
    display: none; 
}

/* ИЗМЕНЕНО: Удаляем стили для кнопок прокрутки */
.mini-games-scroll-btn {
    display: none;
}


.mini-games-nav-item {
    display: flex;
    flex-direction: row;
    align-items: center;
    justify-content: center;
    gap: 8px;
    
    /* ИЗМЕНЕНО: flex-basis задает базовую ширину */
    flex-basis: 110px;
    /* ИЗМЕНЕНО: flex-grow позволяет растягиваться */
    flex-grow: 1;
    /* ИЗМЕНЕНО: flex-shrink: 0; (оставляем, чтобы не сжимались) */
    flex-shrink: 0; 
    
    background-color: var(--color-sidebar);
    border: 2px solid var(--color-border-dark);
    padding: 8px 10px; 
    color: var(--color-text-light);
    font-weight: bold;
    font-size: 0.9em;
    border-radius: 10px;
    cursor: pointer;
    transition: all 0.2s ease;
    -webkit-tap-highlight-color: transparent;
    text-align: center;
}

/* Адаптация скролла для мобильных */
@media (max-width: 768px) {
    .mini-games-nav-container {
        padding: 0 10px;
    }
    .mini-games-nav {
        padding: 0; 
    }
    .mini-games-nav-item {
        /* ИЗМЕНЕНО: Базовая ширина 100px, растягиваем */
        flex-basis: 100px;
        flex-grow: 1;
        font-size: 0.8em;
        gap: 5px;
        padding: 8px 5px;
    }
}
/* Импорт шрифтов Google Fonts */
@import url('https://fonts.googleapis.com/css2?family=Fredoka:wght@600;800&family=Roboto+Mono:wght@700&display=swap');

/* =========================================
   12. ANTI-MINUS DASHBOARD (АДМИНКА)
   ========================================= */

.am-dashboard-box {
    background-color: #222429; /* Темный фон внутри контейнера */
    border: 1px solid var(--color-border-dark);
    border-radius: 12px;
    padding: 20px;
    margin-bottom: 15px;
    box-shadow: inset 0 0 20px rgba(0,0,0,0.3);
}

.am-dash-row {
    display: flex;
    justify-content: space-between;
    gap: 15px;
    margin-bottom: 15px;
}

.am-stat-item {
    flex: 1;
    display: flex;
    flex-direction: column;
    align-items: center;
    background-color: rgba(255,255,255,0.05);
    padding: 10px;
    border-radius: 8px;
}

.am-stat-item .label {
    font-size: 0.8em;
    color: var(--color-text-light);
    opacity: 0.6;
    margin-bottom: 5px;
    text-transform: uppercase;
    font-weight: bold;
}

.am-stat-item .value {
    font-size: 1.2em;
    font-weight: 900;
    font-family: 'Roboto Mono', monospace;
}

.text-blue { color: #4A90E2 !important; }
.text-orange { color: #F5A623 !important; }

/* Шкала Прогресса (Profit Bar) */
.am-bar-container {
    width: 100%;
    height: 12px;
    background-color: #111;
    border-radius: 6px;
    overflow: hidden;
    margin-bottom: 5px;
    border: 1px solid var(--color-border-dark);
    position: relative;
}

.am-bar-fill {
    height: 100%;
    background-color: var(--color-secondary); /* Зеленый по дефолту */
    width: 0%; /* JS меняет это */
    transition: width 0.5s ease, background-color 0.5s ease;
    box-shadow: 0 0 10px currentColor; /* Свечение цветом фона */
}

.am-bar-labels {
    display: flex;
    justify-content: space-between;
    font-size: 0.75em;
    color: var(--color-text-light);
    opacity: 0.5;
    margin-bottom: 15px;
}

/* Чистая Прибыль */
.am-dash-net {
    text-align: center;
    font-size: 1.1em;
    border-top: 1px solid var(--color-border-dark);
    padding-top: 15px;
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 10px;
}

.am-dash-net span:first-child {
    color: var(--color-text-light);
    opacity: 0.8;
}

.net-value {
    font-weight: 900;
    font-size: 1.3em;
    text-shadow: 0 0 15px rgba(0,0,0,0.5);
}

/* --- Адаптация для мобильных --- */
@media (max-width: 600px) {
    .am-dash-row {
        flex-direction: column;
        gap: 10px;
    }
    .am-stat-item {
        flex-direction: row;
        justify-content: space-between;
        padding: 12px;
    }
    .am-stat-item .label { margin-bottom: 0; }
}

/* Вспомогательные стили (для полноты файла) */
.profile-balance-box .balance,
#mobile-profile-balance {
    color: #FFFFFF !important; 
    text-shadow: 0 1px 2px rgba(0,0,0,0.8) !important; 
    font-family: 'Roboto Mono', monospace !important;
    font-weight: 700 !important; 
}
.profile-balance-box,
.profile-name,
.profile-balance-box .balance,
#mobile-profile-name,
#mobile-profile-balance {
    font-family: 'Roboto Mono', monospace !important;
    font-weight: 700 !important; 
    letter-spacing: 0; 
}
.profile-balance-box .balance {
    font-size: 1.1em !important; 
    margin-top: 0; 
}
.profile-name {
    font-size: 0.9em !important;
    opacity: 0.9;
    color: #FFFFFF !important; 
}
@media (max-width: 768px) {
    .mobile-header .profile-balance-box .balance {
        font-size: 1.0em !important;
    }
    .mobile-header .profile-name {
        font-size: 0.8em !important;
    }
}
.game-list-title,
.bet-history-container h3,
.coin-step-label, 
.value,
#sleepy-risk-display,
#sleepy-status {
    font-family: 'Fredoka', sans-serif !important;
    font-weight: 800 !important; 
    letter-spacing: 1px;
    text-transform: uppercase; 
    line-height: 1.2;
}
.game-list-title {
    font-size: 1.7em !important;
}
.bet-history-container h3 {
    font-size: 1.4em !important;
}
@media (max-width: 768px) {
    .game-list-title {
        font-size: 1.4em !important;
    }
    .bet-history-container h3 {
        font-size: 1.2em !important;
    }
}
.header-user-group {
    display: flex !important;
    flex-direction: row !important; 
    align-items: center !important;
    justify-content: flex-end !important;
    gap: 10px !important; 
    margin-left: auto !important; 
    margin-top: 0px !important; 
}
.mobile-header .logo {
    transform: translateY(15px) !important;
    align-items: flex-start !important; 
}
.notification-bar-container {
    width: auto !important;
    margin: 0 !important; 
    padding: 0 !important;
    position: static !important; 
    display: block !important;
}
.notification-bar-container.hidden {
    display: none !important;
}
.notification-wrapper {
    position: relative;
    display: flex;
    align-items: center;
}
.notif-btn {
    background-color: transparent !important; 
    border: none !important; 
    border-radius: 50% !important;
    width: 40px !important; 
    height: 40px !important; 
    min-width: 0 !important;
    padding: 0 !important;
    cursor: pointer !important;
    position: relative !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    transition: background-color 0.2s !important;
}
.notif-btn:hover {
    background-color: rgba(255,255,255,0.1) !important;
}
.bell-icon {
    width: 24px !important; 
    height: 24px !important;
    color: #FFF !important;
    fill: #FFF !important;
    stroke: none !important;
}
.notif-text-label {
    display: none !important;
}
.notif-badge {
    background-color: var(--color-orange) !important;
    color: #FFF !important;
    font-size: 0.6em !important;
    font-weight: bold !important;
    min-width: 16px !important;
    height: 16px !important;
    border-radius: 8px !important; 
    padding: 0 3px !important;
    display: flex !important;
    justify-content: center !important;
    align-items: center !important;
    position: absolute !important;
    top: 5px !important;
    right: 5px !important;
    margin-left: 0 !important;
    box-shadow: 0 0 0 2px #2E3035 !important; 
}
.notif-dropdown {
    position: absolute !important;
    top: 100% !important;
    margin-top: 10px !important;
    right: 0 !important; 
    width: 280px !important;
    background-color: #2E3035 !important;
    border: 1px solid var(--color-border-dark) !important;
    border-radius: 12px !important;
    box-shadow: 0 10px 30px rgba(0,0,0,0.5) !important;
    z-index: 1001 !important;
    overflow: hidden !important;
    animation: dropdownFade 0.2s ease-out !important;
    display: flex !important;
    flex-direction: column !important;
}
.notif-dropdown.hidden {
    display: none !important;
}
@keyframes dropdownFade {
    from { opacity: 0; transform: translateY(-10px); }
    to { opacity: 1; transform: translateY(0); }
}
.notif-header {
    padding: 12px 15px !important;
    font-weight: bold !important;
    color: #FFF !important;
    background-color: rgba(0,0,0,0.2) !important;
    border-bottom: 1px solid var(--color-border-dark) !important;
    font-size: 0.9em !important;
}
.notif-list {
    list-style: none !important;
    padding: 0 !important;
    margin: 0 !important;
    max-height: 300px !important;
    overflow-y: auto !important;
}
.notif-item {
    padding: 12px 15px !important;
    border-bottom: 1px solid rgba(255,255,255,0.05) !important;
    display: flex !important;
    flex-direction: column !important;
    gap: 4px !important;
    transition: background-color 0.2s !important;
}
.notif-item:last-child {
    border-bottom: none !important;
}
.notif-item:hover {
    background-color: rgba(255,255,255,0.05) !important;
}
.notif-item.new {
    border-left: 3px solid var(--color-orange) !important;
    background-color: rgba(245, 166, 35, 0.05) !important;
}
.notif-title {
    font-size: 0.9em !important;
    font-weight: bold !important;
    color: #FFF !important;
}
.notif-text {
    font-size: 0.85em !important;
    color: var(--color-text-light) !important;
    opacity: 0.8 !important;
    line-height: 1.3 !important;
}
.notif-time {
    font-size: 0.7em !important;
    color: var(--color-text-light) !important;
    opacity: 0.5 !important;
    align-self: flex-end !important;
}
@media (max-width: 768px) {
    .mobile-header {
        height: auto !important; 
        min-height: 60px !important; 
        padding-top: 5px !important;
        padding-bottom: 5px !important;
        align-items: center !important; 
    }
    .profile-balance-box {
        margin-bottom: 0 !important;
    }
}
.coin-multiplier-item.active {
    background-color: var(--color-secondary) !important; 
    border-color: var(--color-secondary) !important;
    box-shadow: 0 0 15px rgba(0, 168, 120, 0.6) !important; 
}
.coin-multiplier-item.active .value {
    color: #FFFFFF !important;
}
#coin-cashout-button {
    display: flex !important;
    flex-direction: column !important;
    justify-content: center !important;
    align-items: center !important;
    line-height: 1.2 !important;
    padding: 5px 0 !important;
    height: auto !important;
    min-height: 55px !important; 
}
#coin-cashout-button.hidden {
    display: none !important;
}
.high-win-card .history-amount {
    display: flex !important;
    flex-direction: column !important;
    align-items: center !important;
    justify-content: center !important;
    line-height: 1.1 !important;
    margin-top: 5px !important;
}
.high-win-currency {
    font-size: 0.7em !important;
    opacity: 0.9;
    margin-top: 2px;
}
#mines-main-button.cancel-mode {
    background: linear-gradient(90deg, #FF5555, #FF7777) !important; 
    box-shadow: 0 3px 0 #B03030 !important; 
    color: #FFFFFF !important;
}
#mines-main-button.cancel-mode:active {
    box-shadow: 0 1px 0 #B03030 !important;
    transform: translateY(2px) !important;
}
.coin-multiplier-item {
    min-width: 80px !important; 
    padding: 8px 5px !important;
}
.coin-step-label {
    font-size: 0.75em;
    text-transform: uppercase;
    color: var(--color-text-light);
    opacity: 0.6;
    font-weight: bold;
    margin-bottom: 2px;
}
.coin-multiplier-item.active .coin-step-label {
    color: #FFFFFF;
    opacity: 1;
}
.mobile-header {
    height: 60px !important;       
    min-height: 60px !important;   
    overflow: visible !important;  
    position: relative !important; 
}
.mobile-header .logo {
    position: absolute !important; 
    top: -3px;
    left: 15px;
    margin: 0 !important;
    transform: none !important;
    z-index: 20;
}
.mobile-header .logo .logo-image {
    height: 75px !important; 
    width: auto !important;
    filter: drop-shadow(0 4px 6px rgba(0,0,0,0.3));
}
.profile-balance-box {
    padding: 2px 4px !important;
    min-width: auto !important; 
}
.sleepy-game-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    width: 100%;
    max-width: 500px;
    margin: 0 auto;
    gap: 20px;
}
.sleepy-scene {
    padding-top: 20px; 
    position: relative;
    width: 100%;
    height: 300px;
    background-image: url('assets/sleepy_room.png') !important;
    background-size: cover !important;
    background-position: center !important;
    background-repeat: no-repeat !important;
    border-radius: 12px;
    overflow: hidden;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: flex-end;
    border: 1px solid var(--border-color) !important;
    box-shadow: inset 0 0 30px rgba(0,0,0,0.5) !important;
    z-index: 1; 
}
.sleepy-cat {
    width: 145px !important;
    height: auto !important;
    margin-bottom: -20px !important;
    transform: translateX(0px) translateY(0px) scale(1.0); 
    z-index: 2;
    transition: transform 0.1s;
}
.sleepy-bowl-wrapper {
    z-index: 3;
    margin-bottom: 20px !important;
}
.sleepy-bowl {
    width: 75px !important;
    height: auto !important;
    transition: transform 0.2s;
    transform: translateX(0px) translateY(6px) scale(1.0);
}
.sleepy-bowl.bounce {
    animation: bounceIn 0.3s;
}
.sleepy-zzz {
    position: absolute;
    top: 25% !important;
    right: 25% !important;
    transform: translate(-135px, 50px) !important;
    z-index: 10 !important;
    font-family: 'Fredoka', cursive !important;
    font-weight: bold;
    color: var(--color-text-light) !important;
    font-size: 2em;
    text-shadow: 2px 2px 0px #2E3035 !important;
    opacity: 0;
    animation: floatZzz 2.5s infinite ease-out !important;
}
@keyframes floatZzz {
    0% { transform: translate(10px, -15px) scale(0.8); opacity: 0; } 
    20% { opacity: 0.8; }
    80% { opacity: 0.8; }
    100% { transform: translate(40px, -60px) scale(1.5); opacity: 0; }
}
.shake-cat {
    animation: shake 0.5s cubic-bezier(.36,.07,.19,.97) both;
}
@keyframes shake {
  10%, 90% { transform: translate3d(-2px, 0, 0); }
  20%, 80% { transform: translate3d(4px, 0, 0); }
  30%, 50%, 70% { transform: translate3d(-6px, 0, 0); }
  40%, 60% { transform: translate3d(6px, 0, 0); }
}
@keyframes catBreath {
    0% { transform: scale(1); }
    50% { transform: scale(1.03) translateY(-2px); } 
    100% { transform: scale(1); }
}
.sleepy-cat:not(.shake-cat) {
    animation: catBreath 3s infinite ease-in-out !important;
    transform-origin: bottom center;
}
.lobby-game-wrapper[data-game-type="sleepy"] .game-card-cat {
    transform: translateX(-28px) translateY(20px) scale(0.85) !important;
}
.lobby-game-wrapper[data-game-type="sleepy"]:hover .game-card-cat {
    transform: translateX(0px) translateY(5px) scale(1.25) !important;
}
#sleepy-cashout-btn.loss-mode {
    background: linear-gradient(90deg, #FF5555, #FF7777) !important;
    box-shadow: 0 3px 0 #B03030 !important;
    color: #FFFFFF !important;
    border: 1px solid #B03030 !important;
    opacity: 1 !important;
    cursor: not-allowed !important;
}
.sleepy-stats-group {
    display: flex;
    flex-direction: column;
    width: 100%;
    margin-bottom: -10px !important; 
    z-index: 10; 
    position: relative;
    gap: 0; 
}
.sleepy-stats-group .coin-multiplier-item,
#sleepy-risk-display,
#sleepy-status {
    background: linear-gradient(145deg, #2E3035, #25282e) !important; 
    border: 1px solid var(--color-border-dark) !important; 
    box-shadow: 0 4px 10px rgba(0,0,0,0.2) !important;
    color: var(--color-text-light) !important;
}
.sleepy-stats-group .coin-multiplier-item {
    border-radius: 8px !important; 
    min-width: 75px !important;
    padding: 8px 5px !important;
    margin-bottom: 5px !important; 
    margin-right: 5px !important; 
    background-color: transparent; 
    border-bottom-left-radius: 8px !important;
    border-bottom-right-radius: 8px !important;
}
.sleepy-stats-group .coin-multiplier-item.active {
    background: var(--color-secondary) !important; 
    border-color: var(--color-secondary) !important;
    box-shadow: 0 0 15px rgba(0, 168, 120, 0.6) !important;
    transform: scale(1.05);
    z-index: 2;
    color: #FFFFFF !important;
}
.sleepy-stats-group .coin-multipliers-bar {
    margin-bottom: 0 !important;
    padding-bottom: 5px;
    background-color: transparent !important;
    border: none !important;
}
#sleepy-risk-display {
    width: 100%;
    text-align: center;
    font-weight: bold;
    font-size: 1.1em;
    padding: 10px;
    border-radius: 12px !important;
    display: flex; 
    justify-content: center;
    align-items: center;
    gap: 10px;
    margin-top: 0;
}
#sleepy-status {
    width: 100%;
    margin-top: 15px !important; 
    padding: 12px !important;
    border-radius: 12px !important;
    text-align: center;
    font-size: 1.2em !important;
    font-weight: bold;
    display: flex !important;
    justify-content: center;
    align-items: center;
    gap: 10px;
}
#sleepy-status.win {
    background: linear-gradient(145deg, #00A878, #00D699) !important;
    border-color: #007550 !important;
    box-shadow: 0 0 15px rgba(0, 168, 120, 0.5) !important;
    color: #FFFFFF !important;
    text-shadow: 0 1px 2px rgba(0,0,0,0.2);
}
#sleepy-status.loss {
    background: linear-gradient(145deg, #FF5555, #FF7777) !important;
    border-color: #B03030 !important;
    box-shadow: 0 0 15px rgba(255, 85, 85, 0.5) !important;
    color: #FFFFFF !important;
    text-shadow: 0 1px 2px rgba(0,0,0,0.2);
}
#sleepy-status .win-val,
#sleepy-status .loss-val, 
#sleepy-status .neutral-val {
    color: inherit !important; 
}
#sleepy-game .keno-controls-ref-style {
    border-radius: 16px !important; 
    border: 1px solid var(--color-border-dark) !important;
    margin-bottom: 20px !important;
    padding-bottom: 15px !important;
    background-color: #2E3035 !important;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2) !important;
}
#sleepy-game .per-game-history-container {
    order: 100 !important;
    margin-top: 0 !important;
}

/* =========================================
   13. WHEEL GAME STYLES (UPDATED & RESIZED)
   ========================================= */

.wheel-game-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 20px;
    max-width: 600px;
    margin: 0 auto;
    width: 100%;
}

/* Визуал колеса (УВЕЛИЧЕНО) */
.wheel-visual-wrapper {
    position: relative;
    /* ИЗМЕНЕНО: 300px -> 350px для лучшей видимости секторов */
    width: 350px; 
    height: 350px;
    margin: 30px auto; /* ИЗМЕНЕНО: auto для центрирования */
    /* Тень под колесом */
    filter: drop-shadow(0 15px 30px rgba(0,0,0,0.6));
    
    /* ИЗМЕНЕНО: (ПОРЯДОК) Колесо всегда сверху */
    order: 1;
}

.wheel-spinner {
    width: 100%;
    height: 100%;
    border-radius: 50%;
    /* Градиент задается через JS */
    transition: transform 4s cubic-bezier(0.15, 0.90, 0.30, 1.0);
    /* Внутренняя тень для объема */
    box-shadow: inset 0 0 30px rgba(0,0,0,0.6); 
    border: 8px solid #2E3035; /* Более толстый ободок */
}

/* Стрелка */
.wheel-pointer {
    position: absolute;
    top: -25px; /* Поднята выше из-за толстого ободка */
    left: 50%;
    transform: translateX(-50%);
    width: 0; 
    height: 0; 
    /* Увеличенная стрелка */
    border-left: 20px solid transparent;
    border-right: 20px solid transparent;
    border-top: 35px solid #FFFFFF; /* Белая стрелка */
    z-index: 10;
    filter: drop-shadow(0 4px 6px rgba(0,0,0,0.5));
}

/* Центральная заглушка (ступица) */
.wheel-center-cap {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 70px; /* Увеличена заглушка */
    height: 70px;
    background-color: #2E3035;
    border: 4px solid #FFF;
    border-radius: 50%;
    z-index: 5;
    box-shadow: 0 0 20px rgba(0,0,0,0.7);
    background-image: url('assets/CashCat2.png'); 
    background-size: cover;
    background-position: center;
}

/* Сетка ставок */
.wheel-bet-grid {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 10px;
    width: 100%;
    margin-top: 15px;
}

.wheel-bet-btn {
    position: relative;
    background-color: #222429;
    border: 2px solid var(--color-border-dark);
    border-radius: 12px;
    padding: 15px 5px;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: all 0.1s;
    min-height: 90px; /* Чуть выше кнопки */
}

.wheel-bet-btn span {
    font-size: 1.3em; /* Крупнее шрифт */
    font-weight: 900;
    color: #FFF;
    margin-bottom: 5px;
}

.bet-value {
    font-size: 1em;
    color: var(--color-text-light);
    opacity: 0.7;
    font-family: 'Roboto Mono', monospace;
}

/* Цвета кнопок */
.wheel-bet-btn.black { border-color: #555; }
.wheel-bet-btn.black.active { background-color: #444; box-shadow: 0 0 15px #444; }

.wheel-bet-btn.red { border-color: #FF5555; }
.wheel-bet-btn.red span { color: #FF5555; }
.wheel-bet-btn.red.active { background-color: rgba(255, 85, 85, 0.2); box-shadow: 0 0 15px rgba(255, 85, 85, 0.5); }

.wheel-bet-btn.green { border-color: #00A878; }
.wheel-bet-btn.green span { color: #00A878; }
.wheel-bet-btn.green.active { background-color: rgba(0, 168, 120, 0.2); box-shadow: 0 0 15px rgba(0, 168, 120, 0.5); }

.wheel-bet-btn.gold { border-color: #F5A623; }
.wheel-bet-btn.gold span { color: #F5A623; }
.wheel-bet-btn.gold.active { background-color: rgba(245, 166, 35, 0.2); box-shadow: 0 0 15px rgba(245, 166, 35, 0.5); }

.wheel-bet-btn:active { transform: scale(0.95); }
.wheel-bet-btn.pulse { animation: popIn 0.2s; }

/* История (Лента) */
#wheel-history-bar {
    display: flex;
    gap: 6px;
    overflow-x: hidden; 
    height: 35px; /* Выше история */
    width: 100%;
    justify-content: center; 
    border: none;
    background: transparent;
    padding: 0;
    margin-bottom: 10px;
    
    /* ИЗМЕНЕНО: (ПОРЯДОК) История (полоска) после колеса */
    order: 2;
}

/* Статус выигрыша */
#wheel-status {
    /* ИЗМЕНЕНО: (ПОРЯДОК) Статус после полоски */
    order: 3;
}

/* Панель управления (Ставки) */
.wheel-game-container .keno-controls-ref-style {
    /* ИЗМЕНЕНО: (ПОРЯДОК) Панель после статуса */
    order: 4;
}

/* ИСТОРИЯ ИГР (Список) - ВСЕГДА ВНИЗУ */
.wheel-game-container .per-game-history-container {
    /* ИЗМЕНЕНО: (ПОРЯДОК) Список в самом низу */
    order: 5;
    margin-top: 20px; /* Отступ от панели */
}


.wheel-hist-item {
    width: 10px; /* Толще полоски */
    height: 100%;
    border-radius: 3px;
    box-shadow: 0 2px 5px rgba(0,0,0,0.3);
}
.wheel-hist-item.black { background-color: #2E3035; border: 1px solid #555; }
.wheel-hist-item.red   { background-color: #FF5555; }
.wheel-hist-item.green { background-color: #00A878; }
.wheel-hist-item.gold  { background-color: #F5A623; box-shadow: 0 0 8px #F5A623; }

/* Адаптация под мобильные (чтобы колесо не вылезало) */
@media (max-width: 400px) {
    .wheel-visual-wrapper {
        width: 290px;
        height: 290px;
    }
    .wheel-center-cap {
        width: 60px;
        height: 60px;
    }
}

/* Wheel Lobby Card Adjustments */
.lobby-game-wrapper[data-game-type="wheel"] .game-card-cat {
    transform: translateX(-5px) translateY(15px) scale(1.1); /* Default state */
}
.lobby-game-wrapper[data-game-type="wheel"]:hover .game-card-cat {
    transform: translateX(0px) translateY(5px) scale(1.2); /* Hover state */
}
/*
 * style2.css
 * GLOBAL REDESIGN: White & Indigo + Dense Winter + Mobile Player Card Update
 * Version 6.8 (FULL ICE CARD & CORNER)
 */

:root {
    /* --- ПАЛИТРА --- */
    --color-primary: #4F46E5;       /* Индиго (Яркий) */
    --color-primary-hover: #4338ca;
    
    --bg-main: #FFFFFF;             /* Белый фон страницы */
    --bg-card: #F5F7FF;             /* Светлый фон карточек */
    --bg-panel: #EEF2FF;            /* Светлый фон панелей */
    
    /* ТЕКСТ */
    --text-main: #1E1B4B;           /* Темно-синий текст (Dark Blue) - Основной цвет для темных плашек */
    --text-muted: #6366F1;          /* Индиго текст */
    --text-white: #FFFFFF;          /* Белый (для ника и темных фонов) */
    
    --border-color: #E0E7FF;
    --border-color-dark: #C7D2FE;
    
    --card-radius: 24px;
    
    /* НОВЫЕ ЦВЕТА ДЛЯ ЛЬДА */
    --ice-white: #FFFFFF;
    --ice-light: #A5F3FC;           /* Светло-голубой лед */
    --ice-mid: #22D3EE;             /* Голубой */
    --ice-deep: #0284C7;            /* Глубокий синий */
}

/* =========================================
   1. ГЛОБАЛЬНЫЙ ФОН (ФИКС)
   ========================================= */

body {
    background-color: var(--bg-main) !important; /* Чистый белый */
    background-image: none !important; /* ОТКЛЮЧАЕМ серый градиент из style.css */
    color: var(--text-main) !important;
    position: relative; /* Для позиционирования фона */
    min-height: 100vh;
}

/* Паттерн фона вынесен в ::before для управления прозрачностью */
body::before {
    content: "";
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: 0; /* Позади контента */
    
    /* Прозрачность 30% (еле заметные узоры) */
    opacity: 0.3; 
    
    background-repeat: no-repeat;
    
    /* СМЕСЬ: Снежинки, Снеговики, Олени, Колокольчики (60 элементов) */
    background-image: 
        url('assets/snow1.svg'), url('assets/bell.svg'), url('assets/snow2.svg'), url('assets/deer.svg'), url('assets/snowman.svg'),
        url('assets/snow2.svg'), url('assets/snow1.svg'), url('assets/snowman.svg'), url('assets/bell.svg'), url('assets/deer.svg'),
        url('assets/deer.svg'), url('assets/snow2.svg'), url('assets/bell.svg'), url('assets/snow1.svg'), url('assets/snowman.svg'),
        url('assets/bell.svg'), url('assets/snowman.svg'), url('assets/snow1.svg'), url('assets/deer.svg'), url('assets/snow2.svg'),
        url('assets/snow1.svg'), url('assets/deer.svg'), url('assets/snow2.svg'), url('assets/bell.svg'), url('assets/snowman.svg'),
        url('assets/snowman.svg'), url('assets/snow1.svg'), url('assets/bell.svg'), url('assets/snow2.svg'), url('assets/deer.svg'),
        url('assets/snow2.svg'), url('assets/deer.svg'), url('assets/snowman.svg'), url('assets/snow1.svg'), url('assets/bell.svg'),
        url('assets/bell.svg'), url('assets/snow2.svg'), url('assets/deer.svg'), url('assets/snowman.svg'), url('assets/snow1.svg'),
        url('assets/snow1.svg'), url('assets/bell.svg'), url('assets/snow2.svg'), url('assets/snowman.svg'), url('assets/deer.svg'),
        url('assets/deer.svg'), url('assets/snow1.svg'), url('assets/bell.svg'), url('assets/snow2.svg'), url('assets/snowman.svg'),
        url('assets/snowman.svg'), url('assets/deer.svg'), url('assets/snow2.svg'), url('assets/bell.svg'), url('assets/snow1.svg'),
        url('assets/snow2.svg'), url('assets/snow1.svg'), url('assets/deer.svg'), url('assets/snowman.svg'), url('assets/bell.svg');
    
    /* ДЕСКТОП: Широкое хаотичное распределение (60 позиций) */
    background-position: 
        2% 3%,   15% 8%,  30% 2%,  45% 7%,  60% 3%,  75% 8%,  90% 2%,  98% 12%,
        5% 18%,  20% 15%, 35% 20%, 50% 16%, 65% 21%, 80% 15%, 95% 22%, 8% 28%,
        25% 32%, 40% 28%, 55% 33%, 70% 29%, 85% 34%, 3% 40%,  18% 45%, 32% 41%,
        48% 46%, 62% 42%, 78% 47%, 92% 43%, 10% 55%, 28% 52%, 42% 58%, 58% 53%,
        72% 59%, 88% 54%, 5% 65%,  22% 68%, 38% 64%, 52% 69%, 68% 65%, 82% 70%,
        96% 63%, 12% 78%, 26% 82%, 40% 77%, 56% 83%, 70% 78%, 86% 84%, 4% 90%,
        18% 95%, 34% 91%, 50% 96%, 66% 92%, 80% 97%, 94% 91%, 9% 8%,   91% 88%,
        45% 90%, 55% 10%, 25% 95%, 75% 5%;
        
    /* Размеры (16px - 26px) */
    background-size: 
        20px, 24px, 18px, 26px, 22px,
        16px, 20px, 24px, 18px, 22px,
        25px, 17px, 21px, 23px, 19px,
        22px, 20px, 26px, 18px, 24px,
        17px, 23px, 21px, 25px, 19px,
        24px, 16px, 22px, 20px, 26px,
        18px, 24px, 22px, 17px, 25px,
        26px, 19px, 23px, 21px, 20px,
        22px, 18px, 24px, 17px, 25px,
        20px, 26px, 22px, 19px, 23px,
        24px, 18px, 21px, 25px, 16px,
        23px, 20px, 26px, 18px, 22px;
}

/* Поднимаем контент над фоном */
.app-container {
    position: relative;
    z-index: 1;
}

/* Падающий снег (анимация - отдельный слой) */
.snowflake {
    position: fixed;
    top: -10px;
    color: #A5B4FC; /* Светло-голубой */
    user-select: none;
    pointer-events: none;
    z-index: 9999;
    animation-name: fall;
    animation-timing-function: linear;
    animation-iteration-count: infinite;
}
@keyframes fall {
    0% { transform: translateY(0) rotate(0deg); opacity: 0.8; }
    100% { transform: translateY(105vh) rotate(360deg); opacity: 0.2; }
}

/* --- ХЕДЕР (PC по умолчанию) --- */
.mobile-header {
    background-color: var(--bg-main) !important;
    border-bottom: 1px solid var(--border-color) !important;
    box-shadow: 0 4px 20px rgba(79, 70, 229, 0.05) !important;
    height: 70px !important;
    display: flex !important; 
    align-items: center !important;
    justify-content: space-between !important;
    padding: 0 15px !important;
}

/* --- ЛОГОТИП С ШАПКОЙ НА БУКВЕ "t" --- */
.logo-text-wrapper {
    position: relative;
    display: inline-block;
    font-weight: 900;
    color: var(--color-primary);
}

.letter-with-hat {
    position: relative;
    display: inline-block;
}

.santa-hat {
    position: absolute;
    width: 0.6em !important; 
    height: auto;
    top: 0.05em !important; 
    left: -0.08em !important; 
    z-index: 10;
    pointer-events: none;
    transform: rotate(0deg); 
    filter: drop-shadow(0 2px 2px rgba(0,0,0,0.2));
}

/* Логотип текст */
.logo-text {
    background: none !important;
    -webkit-text-fill-color: var(--color-primary) !important; 
    color: var(--color-primary) !important;
    text-shadow: none !important;
    font-weight: 900 !important;
}

/* Группа пользователя (Справа на ПК) */
.header-user-group {
    display: flex;
    align-items: center;
    gap: 15px;
}

/* --- ПЛАШКА БАЛАНСА И НИК --- */
.profile-balance-box {
    background-color: var(--color-primary) !important; 
    border: none !important;
    border-radius: 12px !important;
    padding: 5px 15px !important;
    box-shadow: 0 4px 10px rgba(79, 70, 229, 0.3) !important;
}

/* Имя игрока - Белое */
.profile-name {
    color: #FFFFFF !important; 
    opacity: 0.9;
    font-weight: normal !important;
}

/* Баланс - Белый (жирный) */
.profile-balance-box .balance {
    color: #FFFFFF !important;
    font-weight: 900 !important;
    text-shadow: none !important;
}

/* Аватарка в хедере */
.header-avatar-img {
    border: 2px solid rgba(255,255,255,0.5) !important;
}

/* --- УВЕДОМЛЕНИЯ (КНОПКА В ХЕДЕРЕ) --- */
.bell-icon {
    fill: var(--color-primary) !important;
    color: var(--color-primary) !important;
}
.notif-btn:hover {
    background-color: var(--bg-panel) !important;
}
.notif-badge {
    background-color: var(--color-orange) !important;
    color: #FFF !important;
    box-shadow: 0 0 0 2px var(--bg-main) !important;
}

/* --- ЗАДАЧА 1: ОКНО УВЕДОМЛЕНИЙ (ТЕМНО-СИНИЙ) --- */
.notif-dropdown {
    background-color: var(--text-main) !important; /* Темно-синий */
    border: 1px solid var(--color-primary) !important; /* Индиго рамка */
    border-radius: 12px !important;
    box-shadow: 0 10px 30px rgba(30, 27, 75, 0.5) !important;
    overflow: hidden !important;
}

.notif-header {
    background-color: rgba(0, 0, 0, 0.2) !important; /* Чуть темнее шапка */
    color: #FFFFFF !important;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1) !important;
}

.notif-item {
    border-bottom: 1px solid rgba(255, 255, 255, 0.1) !important;
}
.notif-item:hover {
    background-color: rgba(255, 255, 255, 0.05) !important;
}

.notif-title {
    color: #FFFFFF !important;
}
.notif-text {
    color: rgba(255, 255, 255, 0.8) !important;
}
.notif-time {
    color: rgba(255, 255, 255, 0.5) !important;
}


/* --- МОБИЛЬНАЯ АДАПТАЦИЯ (ХАОТИЧНЫЙ ФОН БЕЗ НАЛОЖЕНИЙ) --- */
@media (max-width: 768px) {
    
    /* Переопределяем фон для мобильных: Умный Хаос */
    body::before {
        background-position: 
            /* Сектор 1 (Верхние 10%) */
            5% 2%,   30% 5%,  55% 3%,  80% 6%, 
            /* Сектор 2 (10-20%) */
            15% 15%, 40% 12%, 65% 16%, 90% 13%,
            /* Сектор 3 (20-30%) */
            8% 25%,  35% 22%, 60% 26%, 85% 23%,
            /* Сектор 4 (30-40%) */
            20% 35%, 45% 32%, 70% 36%, 95% 33%,
            /* Сектор 5 (40-50%) */
            5% 45%,  30% 42%, 55% 46%, 80% 43%,
            /* Сектор 6 (50-60%) */
            15% 55%, 40% 52%, 65% 56%, 90% 53%,
            /* Сектор 7 (60-70%) */
            10% 65%, 35% 62%, 60% 66%, 85% 63%,
            /* Сектор 8 (70-80%) */
            20% 75%, 45% 72%, 70% 76%, 95% 73%,
            /* Сектор 9 (80-90%) */
            5% 85%,  30% 82%, 55% 86%, 80% 83%,
            /* Сектор 10 (90-100%) */
            15% 95%, 40% 92%, 65% 96%, 90% 93%,
            /* Дополнительные мелкие элементы в пустотах */
            50% 8%, 98% 30%, 2% 50%, 98% 70%, 50% 98%,
            25% 10%, 75% 90%, 10% 30%, 90% 60%, 40% 80%,
            60% 20%, 30% 60%, 80% 30%, 10% 80%, 70% 10%,
            20% 50%, 50% 30%, 90% 40%, 30% 90%, 60% 70% !important;
            
        /* Немного уменьшаем размер для мобилок */
        background-size: 
            20px, 18px, 22px, 16px, 24px,
            19px, 21px, 17px, 23px, 20px,
            18px, 22px, 20px, 16px, 24px,
            19px, 21px, 23px, 17px, 20px,
            22px, 18px, 24px, 16px, 21px,
            19px, 23px, 20px, 17px, 22px,
            18px, 24px, 21px, 16px, 20px,
            23px, 19px, 22px, 17px, 24px,
            15px, 15px, 15px, 15px, 15px, /* Мелкие заполняющие */
            15px, 15px, 15px, 15px, 15px,
            15px, 15px, 15px, 15px, 15px,
            15px, 15px, 15px, 15px, 15px !important;
    }

    /* Хедер в колонку */
    .mobile-header {
        flex-direction: column !important;
        height: auto !important;
        min-height: auto !important;
        padding: 10px 15px !important;
        gap: 10px !important;
    }

    /* 1. Логотип сверху СЛЕВА */
    .mobile-header .logo {
        position: static !important;
        width: 100%;
        display: flex;
        justify-content: flex-start !important; /* Влево */
        transform: none !important;
        margin: 0 !important;
    }
    .mobile-header .logo-image {
        height: 60px !important;
        display: none !important;
    }
    /* Увеличиваем текст логотипа на мобильных */
    .logo-text-wrapper {
        font-size: 1.5em; 
    }

    /* 2. Группа с балансом и уведомлениями */
    .header-user-group {
        width: 100%;
        display: flex;
        justify-content: space-between !important;
        align-items: center;
        margin: 0 !important;
        gap: 10px !important;
    }

    /* --- КАРТОЧКА ИГРОКА (МОБИЛЬНАЯ) --- */
    .profile-balance-box {
        flex-grow: 1; 
        display: flex;
        align-items: center !important; 
        justify-content: flex-start !important;
        padding: 10px 25px !important; 
        margin: 0 !important;
        transform: none !important;
        gap: 25px !important; 
    }
    
    .header-avatar-img {
        width: 48px !important;
        height: 48px !important;
        border: 2px solid rgba(255,255,255,0.8) !important;
    }

    .profile-text-content {
        display: flex !important;
        flex-direction: column !important;
        align-items: flex-start !important;
        justify-content: center !important;
        gap: 2px !important;
    }

    .mobile-header .profile-name {
        font-size: 1.7em !important; 
        font-weight: 800 !important; 
        line-height: 1.1 !important;
        color: #FFFFFF !important;
        text-transform: none !important; 
    }

    .mobile-header .profile-balance-box .balance {
        font-size: 1.3em !important; 
        font-weight: 500 !important; 
        opacity: 0.9 !important; 
        color: #FFFFFF !important;
    }
    
    .notification-wrapper {
        flex-shrink: 0;
    }
    
    .guest-header-actions {
        width: 100%;
        flex-direction: row !important;
        gap: 10px !important;
    }
}


/* --- КАРТОЧКИ ИГР (ICE EDITION) --- */
/* Задача 1: Красивая обводка с текстурой льда */

.game-cards-list {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 15px;
    padding: 0 15px;
    max-width: 800px;
    margin: 0 auto;
}

.lobby-game-wrapper {
    position: relative;
    width: 100%;
}

@keyframes ice-shimmer {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
}

.lobby-game-card {
    width: 100% !important;
    height: 140px !important; 
    aspect-ratio: auto !important;
    border-radius: var(--card-radius) !important;
    
    /* УБИРАЕМ ОБЫЧНУЮ ГРАНИЦУ */
    border: 3px solid transparent !important;
    
    /* --- ICE TEXTURE MAGIC --- */
    /* 1. Внутренний фон (светлый для контента) */
    /* 2. Градиент обводки (Лед: Белый -> Голубой -> Синий -> Голубой -> Белый) */
    background-image: 
        linear-gradient(var(--bg-card), var(--bg-card)), 
        linear-gradient(135deg, var(--ice-white) 0%, var(--ice-light) 25%, var(--ice-deep) 50%, var(--ice-light) 75%, var(--ice-white) 100%) !important;
    
    background-origin: padding-box, border-box !important;
    background-clip: padding-box, border-box !important;
    background-size: 100% 100%, 200% 200% !important;
    
    /* Анимация переливания льда */
    animation: ice-shimmer 4s ease infinite !important;
    
    /* Холодное голубое свечение */
    box-shadow: 0 4px 15px rgba(34, 211, 238, 0.25), inset 0 0 20px rgba(165, 243, 252, 0.1) !important;
    
    position: relative;
    overflow: hidden;
    transition: transform 0.2s ease, box-shadow 0.2s ease !important;
    margin-bottom: 0 !important;
}

.lobby-game-card:hover {
    transform: translateY(-3px) !important;
    /* Усиленное свечение при наведении */
    box-shadow: 0 8px 25px rgba(34, 211, 238, 0.4) !important;
}

.lobby-game-card:active {
    transform: translateY(2px) !important;
    box-shadow: none !important;
}

/* --- ИЗМЕНЕНО: ЛЕДЯНОЙ УГОЛОК (Вместо Золотого) --- */
.lobby-game-card::after {
    content: '';
    position: absolute;
    top: 0;
    right: 0;
    width: 45px;
    height: 45px;
    
    /* ИСПОЛЬЗУЕМ ТОТ ЖЕ ЛЕДЯНОЙ ГРАДИЕНТ */
    background: linear-gradient(135deg, var(--ice-white) 0%, var(--ice-light) 25%, var(--ice-deep) 50%, var(--ice-light) 75%, var(--ice-white) 100%) !important;
    background-size: 200% 200% !important;
    animation: ice-shimmer 4s ease infinite !important; /* Синхронная анимация */
    
    border-top-right-radius: 20px; /* Скругление под карточку */
    z-index: 10;
    
    /* Обрезаем квадрат в треугольник */
    clip-path: polygon(100% 0, 0 0, 100% 100%);
    box-shadow: none !important; /* Тень не нужна, она внутри clip-path обрежется */
}

/* Картинка кота */
.game-card-cat {
    height: 110px !important;
    width: auto !important;
    object-fit: contain;
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%) !important;
    z-index: 1;
    filter: drop-shadow(0 4px 6px rgba(0,0,0,0.1));
}

/* SLEEPY CAT FIX */
.lobby-game-wrapper[data-game-type="sleepy"] .game-card-cat {
    transform: translate(-50%, -50%) !important; 
    height: 100px !important; 
    top: 45% !important; 
}

/* FIX: Анимация при наведении для Sleepy теперь плавная */
.lobby-game-wrapper[data-game-type="sleepy"]:hover .game-card-cat {
    transform: translate(-50%, -50%) scale(1.1) !important;
}

/* Название игры */
.game-card-panel {
    position: absolute;
    bottom: 8px;
    left: 8px;
    right: 8px;
    background-color: rgba(255, 255, 255, 0.85) !important;
    backdrop-filter: blur(4px);
    border: 1px solid var(--border-color) !important;
    border-radius: 12px !important;
    padding: 4px !important;
    text-align: center;
    z-index: 2;
    pointer-events: none;
}

.game-card-title {
    font-size: 0.85em !important;
    font-weight: 800 !important;
    color: var(--color-primary) !important;
    text-transform: uppercase;
}

/* Заблокированные */
.lobby-game-wrapper.locked-game {
    opacity: 0.7 !important;
    filter: grayscale(0.8) !important;
}
.lobby-game-wrapper.locked-game .lobby-game-card {
    background: #E0E7FF !important; /* Серый фон */
    border: 2px solid #C7D2FE !important; /* Обычная граница для закрытых */
    animation: none !important; /* Без анимации */
    box-shadow: none !important;
    cursor: not-allowed;
}
/* У заблокированных убираем ледяной уголок, или делаем его серым */
.lobby-game-wrapper.locked-game .lobby-game-card::after {
    background: #C7D2FE !important;
    animation: none !important;
}

.lobby-game-wrapper.locked-game .lobby-game-card::before {
    content: '🔒';
    font-size: 2.5em;
    position: absolute;
    top: 40%;
    left: 50%;
    transform: translate(-50%, -50%);
    z-index: 10;
    filter: grayscale(0);
}

/* --- ИНТЕРФЕЙС ИНДИГО --- */
.dice-controls, .mines-controls-panel, .crash-controls-panel, .coin-controls-panel, .keno-controls-ref-style {
    background-color: var(--bg-panel) !important;
    border: 1px solid var(--border-color-dark) !important;
    border-radius: 16px !important;
    box-shadow: 0 4px 15px rgba(79, 70, 229, 0.1) !important;
}

.primary-button, .auth-button, .wallet-deposit-button, .wallet-withdrawal-button, #mines-start-button, #crash-start-button, #coin-start-button, #keno-play-button, #wheel-spin-button {
    background-color: var(--color-primary) !important;
    color: #FFFFFF !important;
    border-radius: 12px !important;
    box-shadow: 0 4px 0 #3730A3 !important;
}

/* Инпуты */
input[type="text"], input[type="number"], input[type="password"] {
    background-color: var(--bg-input) !important;
    border: 2px solid var(--border-color) !important;
    color: var(--text-main) !important;
}
input:focus { border-color: var(--color-primary) !important; }

/* Тексты */
/* UPDATES FOR TASK: Left Aligned Game List Title */
.lobby-header {
    text-align: left !important;
}

.game-list-title, h1, h2, h3 { 
    color: var(--text-main) !important; 
}

.game-list-title {
    font-size: 0.95em !important; /* Smaller font, like a label */
    font-weight: 700 !important;
    /* ИЗМЕНЕНО: Цвет #1E1B4B */
    color: #1E1B4B !important; 
    text-transform: none !important; /* No Uppercase */
    text-align: left !important;
    margin-left: 5px !important;
    padding: 0 !important;
    letter-spacing: 0.5px !important; 
    text-shadow: none !important;
    display: flex !important;
    align-items: center;
}

.game-list-title::after {
    display: none !important; /* Remove underline */
}

/* Mobile override to ensure left align there too */
@media (max-width: 768px) {
    .lobby-header {
        text-align: left !important;
    }
    .game-list-title {
        font-size: 0.9em !important;
        text-align: left !important;
    }
}


/* --- НИЖНЯЯ ПАНЕЛЬ ИНДИГО --- */
.bottom-nav {
    background-color: var(--color-primary) !important; /* Индиго фон */
    border-top: 1px solid rgba(255, 255, 255, 0.1) !important;
}

.bottom-nav-item {
    color: rgba(255, 255, 255, 0.7) !important; 
}

.bottom-nav-item .nav-icon {
    filter: brightness(0) invert(1) !important; 
    opacity: 0.7 !important;
}

.bottom-nav-item.active {
    color: #FFFFFF !important;
}
.bottom-nav-item.active .nav-icon {
    opacity: 1 !important;
    filter: brightness(0) invert(1) drop-shadow(0 0 5px rgba(255,255,255,0.5)) !important;
}

/* Сайдбар и Модалки */
.sidebar-nav, .wallet-modal-content, .customize-modal-content {
    background-color: var(--bg-main) !important;
    color: var(--text-main) !important;
}

/* --- БЛЕДНЫЙ ФОН ДЛЯ КНОПОК САЙДБАРА --- */
.sidebar-links a {
    color: var(--color-primary) !important; /* Индиго текст */
    font-weight: 800 !important;
    /* Очень бледный индиго фон */
    background-color: rgba(79, 70, 229, 0.05) !important; 
    border: 1px solid var(--border-color) !important;
    margin-bottom: 10px; 
}
.sidebar-links a:hover {
    color: var(--color-primary-hover) !important;
    background-color: var(--bg-panel) !important; 
    border-color: var(--color-primary) !important;
}

/* --- КНОПКИ КВЕСТОВ (ВК/ТГ) НА ИНДИГО --- */
.quest-button {
    background-color: var(--color-primary) !important;
    color: #FFFFFF !important;
    box-shadow: 0 3px 0 #3730A3 !important; /* Тень под кнопку */
}
.quest-button:hover {
    background-color: var(--color-primary-hover) !important;
}

/* --- НАСТРОЙКИ ПРОФИЛЯ НА ТЕМНО-СИНЕМ --- */
#profile-page .profile-container {
    background-color: var(--text-main) !important; /* Темно-синий фон (#1E1B4B) */
    color: #FFFFFF !important;
    border: 1px solid var(--color-primary) !important;
    box-shadow: 0 4px 20px rgba(30, 27, 75, 0.5) !important;
}

/* Внутренние блоки (темнее основного фона) */
#profile-page .profile-box {
    background-color: rgba(0, 0, 0, 0.4) !important; /* Полупрозрачный черный */
    border: 1px solid rgba(255, 255, 255, 0.1) !important;
    color: #FFFFFF !important;
}

/* Ссылки и заголовки в профиле */
.profile-link, .profile-subheader, #profile-page label {
    color: #FFFFFF !important;
    opacity: 0.9 !important;
}

/* Инпуты в профиле */
#profile-page .profile-form .form-group input {
    background-color: rgba(255, 255, 255, 0.1) !important; /* Прозрачный белый */
    border: 1px solid rgba(255, 255, 255, 0.2) !important;
    color: #FFFFFF !important;
}
#profile-page .profile-form .form-group input::placeholder {
    color: rgba(255, 255, 255, 0.5) !important;
}

/* Кнопки привязки соцсетей */
.social-link-button {
    background-color: rgba(0, 0, 0, 0.4) !important;
    border: 1px solid rgba(255, 255, 255, 0.1) !important;
    color: #FFFFFF !important;
}
.social-link-button:hover {
    background-color: rgba(255, 255, 255, 0.1) !important;
}

/* Кнопка "Сменить пароль" */
.profile-form .auth-button {
    background-color: var(--color-primary) !important;
}

/* --- СТРАНИЦА РАНГОВ (LVL) НА ТЕМНО-СИНЕМ --- */
#ranks-page .rank-card-wrapper {
    background-color: var(--text-main) !important; /* Темно-синий фон */
    color: #FFFFFF !important;
    border: 1px solid rgba(255, 255, 255, 0.1) !important;
}

/* Заголовки и текст внутри карточки ранга */
.rank-card__title {
    color: #FFFFFF !important;
}
.rank-card__info-item {
    color: rgba(255, 255, 255, 0.8) !important;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1) !important;
}
.rank-card__info-item strong {
    color: #FFFFFF !important;
}

/* Текущий ранг (выделенный) */
.rank-card-wrapper.current {
    background-color: var(--text-main) !important;
    border: 2px solid var(--color-orange) !important;
    box-shadow: 0 0 15px rgba(245, 166, 35, 0.3) !important;
}

/* --- СТИЛИ ДЛЯ БОНУСОВ (ТЕМНО-СИНИЙ ФОН) --- */

/* 1. Карточка с ежедневным бонусом (где кот) */
.bonus-display-box {
    background-color: var(--text-main) !important; /* Темно-синий (#1E1B4B) */
    color: #FFFFFF !important; /* Белый текст */
    border: 1px solid var(--color-primary) !important;
    box-shadow: 0 8px 20px rgba(30, 27, 75, 0.4) !important;
}
/* Текст внутри ежедневного бонуса */
#bonus-amount-display, #bonus-page-text {
    color: #FFFFFF !important;
    text-shadow: none !important;
}
.bonus-display-box .currency {
    color: rgba(255,255,255,0.7) !important;
}

/* 2. Недельные бонусы (Кешбек, Рейкбек) */
.weekly-bonus-item {
    background-color: var(--text-main) !important; /* Темно-синий */
    color: #FFFFFF !important;
    border: 1px solid rgba(255,255,255,0.1) !important;
}
.weekly-bonus-title, .weekly-bonus-value {
    color: #FFFFFF !important;
}

/* 3. Квесты (ВК, Телеграм) */
.quest-box {
    background-color: var(--text-main) !important; /* Темно-синий */
    color: #FFFFFF !important;
    border: 1px solid rgba(255,255,255,0.1) !important;
}
.quest-title, .quest-subtitle, .quest-text, .quest-text a {
    color: #FFFFFF !important;
}
.quest-subtitle, .quest-text small {
    opacity: 0.7 !important;
}
/* Иконки статуса внутри квестов (кружочки) */
.quest-status-icon.status-pending {
    color: rgba(255,255,255,0.5) !important;
}

/* Заголовок "Промокод" и "Недельные бонусы" в блоках */
.promocode-header {
    color: var(--text-main) !important;
}
/* Блок с промокодом оставим светлым для контраста полей */
.promocode-box {
    background-color: var(--bg-panel) !important; 
}


/* --- АДМИН-ПАНЕЛЬ (ИНДИГО ФОН, БЕЛЫЙ ТЕКСТ) --- */
.admin-container {
    background-color: var(--color-primary) !important; /* Индиго */
    color: #FFFFFF !important;
}

/* Вкладки в админке */
#admin-tabs .ref-tab {
    color: rgba(255, 255, 255, 0.7) !important; 
}
#admin-tabs .ref-tab.active {
    color: #FFFFFF !important;
    border-bottom-color: #FFFFFF !important; /* Белое подчеркивание активной вкладки */
}
#admin-tabs .ref-tab.active::after {
    background-color: #FFFFFF !important;
}

/* Внутренние блоки админки (поля поиска и т.д.) */
#admin-page .form-group label {
    color: #FFFFFF !important;
}

.admin-user-table tr, 
.admin-user-table th, 
.admin-user-table td {
    border-color: rgba(255, 255, 255, 0.2) !important;
    color: #FFFFFF !important;
}

/* Мобильные карточки в админке */
@media (max-width: 768px) {
    .admin-user-table tr {
        background-color: var(--text-main) !important; /* Темно-синий фон карточки */
        border-color: rgba(255, 255, 255, 0.2) !important;
    }
}


/* --- ПАРТНЕРКА (ИНДИГО ОСНОВА, ТЕМНО-СИНИЕ ЭЛЕМЕНТЫ) --- */
.ref-container {
    background-color: var(--color-primary) !important; /* Индиго */
    color: #FFFFFF !important;
}

/* Заголовки и текст в партнерке */
.ref-subheader, .ref-manager-link, .ref-link-box label, .ref-form-header {
    color: #FFFFFF !important;
    opacity: 0.9 !important;
}
.ref-link {
    color: #FFD700 !important; /* Золотой для ссылки, чтобы видно было на синем */
    text-decoration: underline;
}

/* Темные элементы: Блок ссылки, Формы, Таблицы, Списки */
.ref-link-box, 
.ref-form, 
.ref-table-wrapper, 
.ref-list {
    background-color: var(--text-main) !important; /* Темно-синий */
    border: 1px solid rgba(255, 255, 255, 0.1) !important;
}

/* Вкладки партнерки */
.ref-tabs .ref-tab {
    color: rgba(255, 255, 255, 0.7) !important;
}
.ref-tabs .ref-tab.active {
    color: #FFFFFF !important;
}
.ref-tabs .ref-tab.active::after {
    background-color: #FFFFFF !important;
}

/* Под-вкладки (Партнерские/Персональные) */
.ref-subtab {
    background-color: rgba(0, 0, 0, 0.2) !important;
    color: rgba(255, 255, 255, 0.7) !important;
}
.ref-subtab.active {
    background-color: var(--text-main) !important; /* Темно-синий */
    color: #FFFFFF !important;
}


/* --- FAQ (ИНДИГО КАРТОЧКИ, ТЕМНО-СИНИЙ ПРИ РАЗВОРОТЕ) --- */
.faq-container {
    gap: 10px;
}

/* Кнопка вопроса (закрытая) */
.faq-item .faq-question {
    background-color: var(--color-primary) !important; /* Индиго */
    color: #FFFFFF !important;
    border: 1px solid rgba(255, 255, 255, 0.1) !important;
    transition: background-color 0.3s ease;
    border-radius: 8px; /* Скругляем кнопку */
}

/* Кнопка вопроса (когда FAQ раскрыт) - ИСПРАВЛЕНО: Остается Индиго */
.faq-item.active .faq-question {
    background-color: var(--color-primary) !important; /* ОСТАВЛЯЕМ ИНДИГО */
    border-radius: 8px 8px 0 0; /* Скругляем только верх */
    border-bottom: none !important;
}

/* Контейнер всего элемента */
.faq-item {
    background-color: transparent !important;
    border: none !important;
}

/* Иконка */
.faq-icon {
    color: #FFFFFF !important;
}

/* Ответ (Темно-синий фон) */
.faq-answer-content {
    background-color: var(--text-main) !important; /* Темно-синий */
    color: #FFFFFF !important;
    border: 1px solid rgba(255, 255, 255, 0.1) !important;
    border-top: none !important; /* Убираем верхнюю границу */
    border-radius: 0 0 8px 8px; /* Скругляем низ */
    padding: 20px;
}
.faq-answer-content p {
    opacity: 0.9;
}

/* Ссылки в FAQ */
.faq-answer-content a {
    color: #FFD700 !important; /* Золотой */
}


/* --- КОШЕЛЕК (ФОН КНОПОК И ТЕКСТ ВКЛАДОК) --- */

/* Фон для кнопок выбора метода (FKWallet, Piastrix, SBP) */
.wallet-method-button {
    background-color: var(--color-primary) !important; /* Индиго фон */
    border: 2px solid transparent !important;
}
/* Активная кнопка метода */
.wallet-method-button.active {
    background-color: var(--color-primary) !important;
    border-color: var(--color-orange) !important; /* Оранжевая рамка */
    box-shadow: 0 0 10px rgba(79, 70, 229, 0.5) !important;
}

/* Текст вкладок "Пополнение" и "Вывод" */
.wallet-tab {
    color: var(--color-primary) !important; /* Индиго для неактивных */
    opacity: 0.6;
}
.wallet-tab.active {
    color: var(--color-primary) !important; /* Индиго для активных */
    opacity: 1;
    border-bottom: 2px solid var(--color-primary) !important; /* Индиго подчеркивание */
}
/* Убираем оранжевую полоску, если она была */
.wallet-tab.active::after {
    background-color: var(--color-primary) !important; 
}


/* --- ЗАДАЧА 2: БОЛЬШИЕ ВЫИГРЫШИ (NEON INDIGO, DARK BLUE BG) --- */
.high-win-card {
    /* Компактный размер */
    width: 125px !important;
    min-width: 125px !important;
    
    /* Темно-синий фон */
    background: var(--text-main) !important; 
    
    /* Индиго рамка + неоновое свечение */
    border: 2px solid var(--color-primary) !important;
    box-shadow: 0 0 10px var(--color-primary) !important;
    
    padding: 0 !important;
    border-radius: 14px !important;
    animation: none !important; /* Убираем золотой перелив */
}

/* Контент внутри карточки выигрыша */
.history-item-content {
    background-color: transparent !important; /* Прозрачный, чтобы видеть фон карточки */
    padding: 10px 5px !important;
    gap: 5px !important;
}

.history-game-img-icon {
    height: 35px !important; /* Чуть меньше иконка */
    width: 35px !important;
    filter: drop-shadow(0 0 5px rgba(255,255,255,0.3));
}

.history-user {
    font-size: 0.85em !important;
    color: #FFFFFF !important;
}

.history-multiplier-tag {
    /* Меняем золотой на индиго стиль */
    background-color: rgba(79, 70, 229, 0.2) !important;
    color: #FFFFFF !important;
    border-color: var(--color-primary) !important;
    box-shadow: none !important;
}

.history-amount.win {
    font-size: 1.1em !important;
    /* Оставляем зеленый для денег, чтобы отличалось */
    color: #00FF99 !important; 
    text-shadow: 0 0 5px rgba(0, 255, 153, 0.4);
}


/* Тумблер снега */
.snow-toggle-wrapper {
    display: flex;
    align-items: center;
    justify-content: space-between;
    background-color: rgba(0, 0, 0, 0.4) !important; /* Темный фон тумблера */
    padding: 15px 20px;
    border-radius: 8px;
    margin-bottom: 15px;
    border: 1px solid rgba(255, 255, 255, 0.1) !important;
}
.snow-toggle-label {
    font-weight: bold;
    color: #FFFFFF !important;
}

/* --- ЗАДАЧА 1: ОКНА ДАЙСОВ (БЕЛЫЕ С ГРАНИЦЕЙ) --- */
.dice-input-group {
    background-color: #FFFFFF !important;
    border: 2px solid #E0E7FF !important; /* Видимая граница */
    box-shadow: 0 4px 10px rgba(0,0,0,0.05) !important;
}

/* Инпуты внутри дайсов тоже делаем светлыми, чтобы читалось */
.dice-input-group input[type="number"] {
    background-color: #F3F4F6 !important;
    color: #111827 !important;
    border-color: #D1D5DB !important;
}
.dice-input-group label {
    color: #4B5563 !important; /* Темно-серый лейбл */
}

/* Кнопки управления ставками (x2, min, max) внутри дайсов */
.dice-input-group .bet-actions-grid button {
    background-color: #E5E7EB !important;
    color: #374151 !important;
    border: 1px solid #D1D5DB !important;
}
.dice-input-group .bet-actions-grid button:hover {
    background-color: #D1D5DB !important;
}


/* --- ЗАДАЧА 2: ИСТОРИЯ ИГР (СВЕТЛЫЙ СТИЛЬ) --- */

/* 1) Фон как у кнопок сайдбара */
.game-history-item {
    background-color: rgba(79, 70, 229, 0.05) !important;
    border: 1px solid rgba(79, 70, 229, 0.1) !important; /* Легкая граница */
    border-radius: 8px !important;
    margin-bottom: 5px !important;
}

/* 2) Ник и Ставка - Серые */
.history-cell.user {
    color: #9CA3AF !important; /* Серый цвет */
    font-weight: 600 !important;
}

.history-cell.bet {
    color: #9CA3AF !important; /* Серый цвет */
}

/* Остальные (Payout/Win/Loss) оставляем как есть, 
   но убедимся, что они видны на светлом фоне */
.game-history-item.win .history-cell.payout {
    color: #00A878 !important; /* Зеленый */
}
.game-history-item.loss .history-cell.payout {
    color: #FF5555 !important; /* Красный */
}

/* --- ЗАДАЧА 4.5: MINES REDESIGN (ИСПРАВЛЕННЫЙ ИНПУТ + НЕТ ОБВОДКИ) --- */

/* 1. Множители (Сверху) */
.mines-multiplier-item {
    background-color: #FFFFFF !important; /* Белый фон */
    border: 1px solid var(--color-border-dark) !important;
}
.mines-multiplier-item .multiplier-value {
    color: var(--color-primary) !important; /* Индиго цифры */
}
.mines-multiplier-item .step-label {
    color: #9CA3AF !important; /* Серый текст "ШАГ" */
}
/* Активный шаг */
.mines-multiplier-item.active {
    background-color: var(--color-primary) !important; /* Индиго фон */
}
.mines-multiplier-item.active .multiplier-value,
.mines-multiplier-item.active .step-label {
    color: #FFFFFF !important; /* Белый текст на активном */
}

/* 2. Сетка Мин (Без границ контейнера, с тенью ячеек, Красные/Белые) */
.mines-grid-wrapper {
    background-color: transparent !important; 
    border: none !important;
    box-shadow: none !important;
    padding: 0 !important;
}

/* Общий стиль ячейки (Закрытая) */
.mine-cell {
    border: none !important; 
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.15) !important; /* Тень */
    background-color: #F3F4F6 !important; /* Светло-серый фон закрытой ячейки */
}
/* При наведении */
.mine-cell:hover {
    transform: translateY(-2px); 
    box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2) !important;
}

/* ОТКРЫТАЯ МИНА (КРАСНЫЙ ФОН) */
.mine-cell.bomb {
    background-color: #FF5555 !important; /* Красный */
    color: #FFFFFF !important;
}

/* ОТКРЫТАЯ РЫБКА (БЕЛЫЙ ФОН) */
.mine-cell.safe {
    background-color: #FFFFFF !important; /* Белый */
    /* Тень сохраняется от .mine-cell */
}

/* 3. Кнопка "Начать игру" - Индиго */
#mines-main-button {
    background: var(--color-primary) !important; /* Индиго */
    color: #FFFFFF !important;
    box-shadow: 0 4px 0 #3730A3 !important; 
}
#mines-main-button:active {
    box-shadow: 0 2px 0 #3730A3 !important;
    transform: translateY(2px);
}

/* 4. Окошки управления (ИСПРАВЛЕННЫЙ СЕЛЕКТОР) */

/* Панель управления (прозрачная) */
.mines-controls-panel {
    background-color: transparent !important;
    border: none !important;
    box-shadow: none !important;
    padding: 0 !important;
}

/* ИНПУТ СТАВКИ (БЕЛЫЙ) - используем ID или более точный селектор */
#mines-game .keno-controls-ref-style .keno-input-wrapper {
    background-color: #FFFFFF !important; /* Белый фон */
    border: 2px solid var(--color-border-dark) !important; /* Контур */
    box-shadow: 0 4px 10px rgba(0,0,0,0.05) !important;
}
/* Сам input внутри */
#mines-game .keno-controls-ref-style .keno-input-wrapper input {
    background-color: transparent !important;
    color: var(--text-main) !important; /* Темный текст */
    outline: none !important; /* Убираем фокус браузера */
}
/* Знак валюты */
#mines-game .keno-controls-ref-style .keno-input-wrapper .currency-icon {
    color: var(--text-main) !important; /* Темный знак */
    opacity: 0.7;
}

/* Кнопки 1/2, 2x и Выбор Мин (Темно-синие) - используем новый селектор */
#mines-game .keno-controls-ref-style .bet-half,
#mines-game .keno-controls-ref-style .bet-double,
.mines-count-btn,
.mines-custom-input {
    background-color: #1E1B4B !important; /* Темно-синий */
    color: #FFFFFF !important; /* Белый текст */
    border: 1px solid #1E1B4B !important;
    border-radius: 8px !important;
}

/* Ховер для кнопок */
#mines-game .keno-controls-ref-style .bet-half:hover,
#mines-game .keno-controls-ref-style .bet-double:hover,
.mines-count-btn:hover {
    background-color: #2D2A5E !important; 
    opacity: 1;
}

/* Активная кнопка мин */
.mines-count-btn.active {
    border: 2px solid var(--color-primary) !important; /* Индиго обводка */
    box-shadow: 0 0 10px var(--color-primary) !important;
}

/* Инпут внутри кастомного выбора мин (ТОЖЕ БЕЛЫЙ) */
.mines-custom-input {
    background-color: #FFFFFF !important;
    border: 2px solid var(--color-border-dark) !important;
}
.mines-custom-input input {
    color: var(--text-main) !important; /* Темный текст */
    background-color: transparent !important;
    outline: none !important;
}

/* Убираем фокус (синий контур) */
input:focus, button:focus {
    outline: none !important;
    box-shadow: none !important;
}
/* Возвращаем тень только нашим элементам, если нужно */
#mines-game .keno-controls-ref-style .keno-input-wrapper:focus-within {
    border-color: var(--color-primary) !important;
}

/* 5. История игр (Светлая) */
.per-game-history-list {
    background-color: transparent !important; 
    border: none !important;
    box-shadow: none !important;
}

/*
 * style2.css - ДОПОЛНЕНИЕ ДЛЯ VISUAL HISTORY MODAL
 * Version 5.9 (Updated: Keno Real History Styling)
 */

/* =========================================
   14. VISUAL HISTORY MODAL (INDIGO STYLE)
   ========================================= */

.visual-history-content {
    width: 95%;
    max-width: 400px;
    background-color: #3D4654; 
    color: #FFFFFF;
    padding: 20px;
    border-radius: 16px;
    display: flex;
    flex-direction: column;
    gap: 15px;
    border: 1px solid var(--color-primary); 
    box-shadow: 0 0 20px rgba(79, 70, 229, 0.2);
}

.visual-grid-container {
    background-color: rgba(30, 33, 40, 0.5);
    border-radius: 12px;
    padding: 10px;
    margin: 0 auto;
    width: 100%;
    display: grid;
    justify-content: center;
}

/* MINES STYLES */
.mines-visual {
    grid-template-columns: repeat(5, 1fr);
    gap: 5px;
    aspect-ratio: 1 / 1; /* Клетки квадратные */
    /* ФИКС БАГА: */
    overflow: hidden; /* Обрезаем всё что торчит */
    position: relative; /* Для позиционирования */
}

/* ФИКС БАГА: Принудительно ограничиваем картинку */
.visual-cell.mine-cell img.mine-cell-icon {
    width: 80% !important; 
    height: 80% !important;
    max-width: 100% !important;
    max-height: 100% !important;
    object-fit: contain !important;
    position: static !important; /* Сбрасываем позиционирование */
}

.visual-cell.mine-cell {
    border-radius: 6px;
    display: flex;
    justify-content: center;
    align-items: center;
    font-size: 1.2em;
    aspect-ratio: 1 / 1;
    box-shadow: inset 0 0 5px rgba(0,0,0,0.2);
}

.visual-cell.mine-cell.safe-opened {
    background-color: #00A878 !important; /* Зеленый */
    color: #FFF;
    box-shadow: 0 0 10px rgba(0, 168, 120, 0.5);
}

.visual-cell.mine-cell.safe-closed {
    background-color: #FFFFFF !important; /* Белый */
    color: #000;
}

.visual-cell.mine-cell.bomb {
    background-color: #FF5555 !important; /* Красный */
    color: #FFF;
    box-shadow: 0 0 10px rgba(255, 85, 85, 0.5);
}


/* KENO STYLES */
.keno-visual {
    grid-template-columns: repeat(8, 1fr);
    gap: 4px;
}

.visual-cell.keno-cell {
    background-color: #2E3035; /* Обычные */
    border-radius: 6px;
    display: flex;
    justify-content: center;
    align-items: center;
    font-weight: bold;
    font-size: 0.8em;
    color: rgba(255,255,255,0.5);
    aspect-ratio: 1 / 1; /* Квадрат */
    /* ФИКС БАГА ДЛЯ КЕНО */
    overflow: hidden; 
    position: relative;
}

/* ФИКС БАГА: Ограничиваем лапку */
.visual-cell.keno-cell img.keno-cell-icon {
    width: 80% !important; 
    height: 80% !important;
    object-fit: contain !important;
    position: static !important;
}

/* 1. Выбранные но не угаданные (Синие) */
.visual-cell.keno-cell.miss {
    background-color: var(--color-primary) !important; /* Индиго */
    color: #FFF;
    opacity: 1;
    box-shadow: 0 0 5px var(--color-primary);
}

/* 2. Угаданные (Зеленые с лапкой) */
.visual-cell.keno-cell.hit {
    background-color: #00A878 !important; /* Зеленый */
    color: transparent; /* Скрываем цифру */
    box-shadow: 0 0 10px rgba(0, 168, 120, 0.6);
    opacity: 1;
}

/* 3. Выпавшие, но не выбранные (Серые, для истории) */
.visual-cell.keno-cell.drawn-history {
    background-color: #4B5563 !important; /* Серый */
    color: #FFF;
    opacity: 0.7;
}


/* DICE VISUALS BOX */
.dice-visual-box div {
    color: var(--color-primary) !important;
}

/* === СТИЛИ ШКАЛЫ ДАЙСОВ === */
.dice-visual-bar-container {
    width: 100%;
    height: 16px;
    background-color: #E0E7FF !important; /* Бледный фон */
    border-radius: 8px;
    overflow: hidden;
    position: relative;
    border: 1px solid var(--color-primary);
}

.dice-visual-bar-fill {
    height: 100%;
    background: linear-gradient(90deg, #4F46E5, #6366F1) !important; /* Индиго */
    border-radius: 8px;
    transition: width 0.5s ease;
    box-shadow: 0 0 10px rgba(79, 70, 229, 0.5);
}


/* FOOTER LABELS (INDIGO) */
.visual-history-footer {
    display: flex;
    flex-direction: column;
    gap: 8px;
    border-top: 1px solid rgba(255,255,255,0.1);
    padding-top: 15px;
}

.vh-row {
    display: flex;
    justify-content: space-between;
    font-size: 0.95em;
    align-items: flex-start;
}

.vh-row span {
    color: var(--color-primary) !important; 
    font-weight: bold;
}

.vh-row strong {
    color: var(--color-primary) !important; 
    text-align: right;
}

.vh-row.result-row strong {
    color: var(--color-primary) !important;
}

#vh-extra-value {
    line-height: 1.4;
}

/* =========================================
   15. KENO VISUAL UPDATE (TASK 1-6)
   ========================================= */

/* Task 1: Dark Grid (Like Modal) */
#keno-grid .keno-cell {
    background-color: #2E3035 !important; /* Dark background */
    border: 1px solid #373D49 !important; /* Subtle border */
    color: rgba(255, 255, 255, 0.6) !important; /* Dimmed numbers */
    border-radius: 8px !important; /* Rounded corners */
    box-shadow: inset 0 -2px 0 rgba(0,0,0,0.3) !important; /* Depth */
}
#keno-grid .keno-cell:hover {
    background-color: #3D4654 !important;
    transform: translateY(-1px);
}
/* Selected/Hit states need to stay visible */
#keno-grid .keno-cell.selected {
    /* ЗАДАЧА 1.1: Желтые клетки теперь Индиго */
    background-color: var(--color-primary) !important; 
    color: #fff !important;
    border-color: var(--color-primary) !important;
    box-shadow: 0 0 10px var(--color-primary) !important;
    opacity: 1 !important;
}
#keno-grid .keno-cell.hit {
    background-color: var(--color-secondary) !important; /* Green */
    border-color: var(--color-secondary) !important;
    color: #fff !important;
}

/* Task 2: Random Cells Text - Dark Blue */
#keno-autopick-button {
    color: #1E1B4B !important; /* Dark Blue */
    border-color: #1E1B4B !important; /* Optional: border to match */
}
#keno-autopick-button:hover {
    background-color: rgba(30, 27, 75, 0.05) !important;
}

/* Task 3 & 1.2: Play Button & Auto Start - Indigo */
#keno-play-button,
#keno-auto-start-button { /* ЗАДАЧА 1.2: Кнопка Авто тоже Индиго */
    background: #4F46E5 !important; /* Indigo */
    color: #FFFFFF !important;
    box-shadow: 0 4px 0 #3730A3 !important; /* Darker Indigo Shadow */
}
#keno-play-button:active,
#keno-auto-start-button:active {
    box-shadow: 0 2px 0 #3730A3 !important;
    transform: translateY(2px);
}

/* Task 4: Bet Input - White */
#keno-game .keno-bet-input-row .keno-input-wrapper {
    background-color: #FFFFFF !important;
    border: 2px solid #E0E7FF !important;
}
#keno-game .keno-bet-input-row .keno-input-wrapper input {
    color: #1E1B4B !important; /* Dark text */
}
#keno-game .keno-bet-input-row .keno-input-wrapper .currency-icon {
    color: #1E1B4B !important;
    opacity: 0.5;
}

/* Task 5: Aux Buttons (Clear, Turbo, x2, 1/2) - Dark Blue */
#keno-clear-button,
#keno-turbo-button,
#keno-game .bet-half,
#keno-game .bet-double {
    background-color: #1E1B4B !important; /* Dark Blue */
    color: #FFFFFF !important;
    border: 1px solid #1E1B4B !important;
}
/* Turbo icon brightness fix since bg is dark */
#keno-turbo-button img, #keno-clear-button img {
    filter: brightness(0) invert(1) !important; /* Make icons white */
    opacity: 0.8;
}

/* FIX (Task 6.2): Restore original color (Yellow) when active */
#keno-turbo-button.active img {
    filter: none !important; /* Remove white filter */
    opacity: 1 !important;
    filter: drop-shadow(0 0 5px var(--color-orange)) !important; /* Optional glow */
}

#keno-game .bet-half:hover,
#keno-game .bet-double:hover,
#keno-clear-button:hover,
#keno-turbo-button:hover {
    background-color: #312E81 !important; /* Slightly lighter dark blue */
}

/* Task 6: Risk Buttons - Dark Blue & Active State */
.keno-risk-selector {
    background-color: transparent !important; /* Remove container bg */
    gap: 8px !important;
}
.keno-risk-btn {
    background-color: #1E1B4B !important; /* Dark Blue */
    color: #FFFFFF !important;
    opacity: 0.6 !important; /* Dimmed when not active */
    border-radius: 8px !important;
    border: none !important;
}
.keno-risk-btn.active {
    opacity: 1 !important;
    background-color: #4F46E5 !important; /* Indigo for active */
    box-shadow: 0 0 15px rgba(79, 70, 229, 0.6) !important; /* Glow */
    transform: scale(1.05);
}

/* =========================================
   16. NOTIFICATION BELL UPDATE (Right Corner & 2x Size)
   ========================================= */

/* Увеличиваем иконку в 2 раза (было 24px -> 48px) */
.bell-icon {
    width: 36px !important;
    height: 36px !important;
}

/* Увеличиваем кнопку под иконку */
.notif-btn {
    width: 40px !important; /* Чуть больше иконки */
    height: 40px !important;
}

/* Адаптируем бейдж (счетчик) под новый размер */
.notif-badge {
    top: 5px !important;
    right: 5px !important;
    font-size: 0.9em !important; /* Крупнее текст */
    min-width: 20px !important;
    height: 20px !important;
    border-radius: 10px !important;
}

/* МОБИЛЬНАЯ ВЕРСИЯ: Жестко в правый угол */
@media (max-width: 768px) {
    /* Выносим из потока в правый верхний угол */
    #header-notif-box {
        position: absolute !important;
        top: 25% !important;
        right: 10px !important;
        transform: translateY(-50%) !important;
        z-index: 100 !important;
    }

    /* Добавляем отступ группе пользователя, чтобы баланс не налез на звонок */
    .header-user-group {
        padding-right: 70px !important; /* Место под большой звонок */
    }
    
    /* Убираем лишние отступы у группы, если были */
    .mobile-header {
        overflow: visible !important; /* Чтобы абсолютный элемент не обрезался */
    }
}
/* =========================================
   17. HEADER WALLET BUTTON
   ========================================= */

/* Кнопка кошелька внутри карточки */
.header-wallet-btn {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 5px;
    background-color: rgba(255, 255, 255, 0.15); /* Полупрозрачный фон */
    border: 1px solid rgba(255, 255, 255, 0.2);
    border-radius: 8px;
    padding: 6px 10px;
    cursor: pointer;
    transition: all 0.2s ease;
    margin-left: auto; /* Прижимаем к правому краю внутри flex-контейнера */
}

.header-wallet-btn:hover {
    background-color: rgba(255, 255, 255, 0.25);
    transform: translateY(-1px);
}

.header-wallet-btn:active {
    transform: translateY(1px);
}

/* Иконка кошелька */
.header-wallet-btn img {
    width: 20px;
    height: 20px;
    object-fit: contain;
    filter: brightness(0) invert(1); /* Делаем иконку белой */
}

/* Плюсик */
.wallet-btn-plus {
    color: #FFFFFF;
    font-weight: 900;
    font-size: 1.2em;
    line-height: 1;
}

/* Адаптация для мобильных */
@media (max-width: 768px) {
    .header-wallet-btn {
        padding: 8px 12px; /* Чуть больше область нажатия */
    }
    .header-wallet-btn img {
        width: 22px;
        height: 22px;
    }
}
/*
 * style2.css
 * GLOBAL REDESIGN: White & Indigo + Dense Winter + Mobile Player Card Update
 * Version 7.8 (CUSTOMIZE MODAL COLORS FIXED)
 */

:root {
    /* =========================================
       НАСТРОЙКИ КАРТОЧЕК (РАЗМЕР И ПОЗИЦИЯ)
       ========================================= */

    /* DICE */
    --img-size-dice: 80px;
    --img-x-dice: 0px;
    --img-y-dice: 0px;

    /* MINES */
    --img-size-mines: 80px;
    --img-x-mines: 0px;
    --img-y-mines: -5px;

    /* KENO */
    --img-size-keno: 105px;
    --img-x-keno: 0px;
    --img-y-keno: 0px;

    /* CRASH */
    --img-size-crash: 100px;
    --img-x-crash: 0px;
    --img-y-crash: 0px;

    /* COIN */
    --img-size-coin: 100px;
    --img-x-coin: 0px;
    --img-y-coin: 0px;

    /* SLEEPY */
    --img-size-sleepy: 100px;
    --img-x-sleepy: 0px;
    --img-y-sleepy: 0px;

    /* WHEEL */
    --img-size-wheel: 100px;
    --img-x-wheel: 0px;
    --img-y-wheel: 0px;

    /* --- ПАЛИТРА --- */
    --color-primary: #4F46E5;       /* Индиго (Яркий) */
    --color-primary-hover: #4338ca;
    
    --bg-main: #FFFFFF;             /* Белый фон страницы */
    --bg-card: #F5F7FF;             /* Светлый фон карточек */
    --bg-panel: #EEF2FF;            /* Светлый фон панелей */
    
    /* ТЕКСТ */
    --text-main: #1E1B4B;           /* Темно-синий текст */
    --text-muted: #6366F1;          /* Индиго текст */
    --text-white: #FFFFFF;          /* Белый */
    
    --border-color: #E0E7FF;
    --border-color-dark: #C7D2FE;
    
    --card-radius: 24px;
    
    /* ЦВЕТА ДЛЯ ЛЬДА */
    --ice-white: #FFFFFF;
    --ice-light: #A5F3FC;           /* Светло-голубой лед */
    --ice-mid: #22D3EE;             /* Голубой */
    --ice-deep: #0284C7;            /* Глубокий синий */
}

/* =========================================
   1. ГЛОБАЛЬНЫЙ ФОН
   ========================================= */

body {
    background-color: var(--bg-main) !important;
    background-image: none !important;
    color: var(--text-main) !important;
    position: relative;
    min-height: 100vh;
}

body::before {
    content: "";
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: 0;
    opacity: 0.3; 
    
    background-repeat: no-repeat;
    background-image: 
        url('assets/snow1.svg'), url('assets/bell.svg'), url('assets/snow2.svg'), url('assets/deer.svg'), url('assets/snowman.svg'),
        url('assets/snow2.svg'), url('assets/snow1.svg'), url('assets/snowman.svg'), url('assets/bell.svg'), url('assets/deer.svg'),
        url('assets/deer.svg'), url('assets/snow2.svg'), url('assets/bell.svg'), url('assets/snow1.svg'), url('assets/snowman.svg'),
        url('assets/bell.svg'), url('assets/snowman.svg'), url('assets/snow1.svg'), url('assets/deer.svg'), url('assets/snow2.svg'),
        url('assets/snow1.svg'), url('assets/deer.svg'), url('assets/snow2.svg'), url('assets/bell.svg'), url('assets/snowman.svg'),
        url('assets/snowman.svg'), url('assets/snow1.svg'), url('assets/bell.svg'), url('assets/snow2.svg'), url('assets/deer.svg'),
        url('assets/snow2.svg'), url('assets/deer.svg'), url('assets/snowman.svg'), url('assets/snow1.svg'), url('assets/bell.svg'),
        url('assets/bell.svg'), url('assets/snow2.svg'), url('assets/deer.svg'), url('assets/snowman.svg'), url('assets/snow1.svg'),
        url('assets/snow1.svg'), url('assets/bell.svg'), url('assets/snow2.svg'), url('assets/snowman.svg'), url('assets/deer.svg'),
        url('assets/deer.svg'), url('assets/snow1.svg'), url('assets/bell.svg'), url('assets/snow2.svg'), url('assets/snowman.svg'),
        url('assets/snowman.svg'), url('assets/deer.svg'), url('assets/snow2.svg'), url('assets/bell.svg'), url('assets/snow1.svg'),
        url('assets/snow2.svg'), url('assets/snow1.svg'), url('assets/deer.svg'), url('assets/snowman.svg'), url('assets/bell.svg');
    
    background-position: 
        2% 3%,   15% 8%,  30% 2%,  45% 7%,  60% 3%,  75% 8%,  90% 2%,  98% 12%,
        5% 18%,  20% 15%, 35% 20%, 50% 16%, 65% 21%, 80% 15%, 95% 22%, 8% 28%,
        25% 32%, 40% 28%, 55% 33%, 70% 29%, 85% 34%, 3% 40%,  18% 45%, 32% 41%,
        48% 46%, 62% 42%, 78% 47%, 92% 43%, 10% 55%, 28% 52%, 42% 58%, 58% 53%,
        72% 59%, 88% 54%, 5% 65%,  22% 68%, 38% 64%, 52% 69%, 68% 65%, 82% 70%,
        96% 63%, 12% 78%, 26% 82%, 40% 77%, 56% 83%, 70% 78%, 86% 84%, 4% 90%,
        18% 95%, 34% 91%, 50% 96%, 66% 92%, 80% 97%, 94% 91%, 9% 8%,   91% 88%,
        45% 90%, 55% 10%, 25% 95%, 75% 5%;
        
    background-size: 
        20px, 24px, 18px, 26px, 22px,
        16px, 20px, 24px, 18px, 22px,
        25px, 17px, 21px, 23px, 19px,
        22px, 20px, 26px, 18px, 24px,
        17px, 23px, 21px, 25px, 19px,
        24px, 16px, 22px, 20px, 26px,
        18px, 24px, 22px, 17px, 25px,
        26px, 19px, 23px, 21px, 20px,
        22px, 18px, 24px, 17px, 25px,
        20px, 26px, 22px, 19px, 23px,
        24px, 18px, 21px, 25px, 16px,
        23px, 20px, 26px, 18px, 22px;
}

.app-container {
    position: relative;
    z-index: 1;
}

/* Снежинки */
.snowflake {
    position: fixed;
    top: -10px;
    color: #A5B4FC;
    user-select: none;
    pointer-events: none;
    z-index: 9999;
    animation-name: fall;
    animation-timing-function: linear;
    animation-iteration-count: infinite;
}
@keyframes fall {
    0% { transform: translateY(0) rotate(0deg); opacity: 0.8; }
    100% { transform: translateY(105vh) rotate(360deg); opacity: 0.2; }
}

/* --- ХЕДЕР --- */
.mobile-header {
    background-color: var(--bg-main) !important;
    border-bottom: 1px solid var(--border-color) !important;
    box-shadow: 0 4px 20px rgba(79, 70, 229, 0.05) !important;
    height: 70px !important;
    display: flex !important; 
    align-items: center !important;
    justify-content: space-between !important;
    padding: 0 15px !important;
}

.logo-text-wrapper {
    position: relative;
    display: inline-block;
    font-weight: 900;
    color: var(--color-primary);
}

.letter-with-hat {
    position: relative;
    display: inline-block;
}

.santa-hat {
    position: absolute;
    width: 0.6em !important; 
    height: auto;
    top: 0.05em !important; 
    left: -0.08em !important; 
    z-index: 10;
    pointer-events: none;
    transform: rotate(0deg); 
    filter: drop-shadow(0 2px 2px rgba(0,0,0,0.2));
}

.logo-text {
    background: none !important;
    -webkit-text-fill-color: var(--color-primary) !important; 
    color: var(--color-primary) !important;
    text-shadow: none !important;
    font-weight: 900 !important;
}

.header-user-group {
    display: flex;
    align-items: center;
    gap: 15px;
}

.profile-balance-box {
    background-color: var(--color-primary) !important; 
    border: none !important;
    border-radius: 12px !important;
    padding: 5px 15px !important;
    box-shadow: 0 4px 10px rgba(79, 70, 229, 0.3) !important;
}

.profile-name {
    color: #FFFFFF !important; 
    opacity: 0.9;
    font-weight: normal !important;
}

.profile-balance-box .balance {
    color: #FFFFFF !important;
    font-weight: 900 !important;
    text-shadow: none !important;
}

.header-avatar-img {
    border: 2px solid rgba(255,255,255,0.5) !important;
}

/* Уведомления */
.bell-icon {
    fill: var(--color-primary) !important;
    color: var(--color-primary) !important;
}
.notif-btn:hover {
    background-color: var(--bg-panel) !important;
}
.notif-badge {
    background-color: var(--color-orange) !important;
    color: #FFF !important;
    box-shadow: 0 0 0 2px var(--bg-main) !important;
}

.notif-dropdown {
    background-color: var(--text-main) !important;
    border: 1px solid var(--color-primary) !important;
    border-radius: 12px !important;
    box-shadow: 0 10px 30px rgba(30, 27, 75, 0.5) !important;
    overflow: hidden !important;
}

.notif-header {
    background-color: rgba(0, 0, 0, 0.2) !important;
    color: #FFFFFF !important;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1) !important;
}

.notif-item {
    border-bottom: 1px solid rgba(255, 255, 255, 0.1) !important;
}
.notif-item:hover {
    background-color: rgba(255, 255, 255, 0.05) !important;
}

.notif-title { color: #FFFFFF !important; }
.notif-text { color: rgba(255, 255, 255, 0.8) !important; }
.notif-time { color: rgba(255, 255, 255, 0.5) !important; }

/* --- МОБИЛЬНАЯ АДАПТАЦИЯ ФОНА И ХЕДЕРА --- */
@media (max-width: 768px) {
    body::before {
        background-position: 
            5% 2%,   30% 5%,  55% 3%,  80% 6%, 
            15% 15%, 40% 12%, 65% 16%, 90% 13%,
            8% 25%,  35% 22%, 60% 26%, 85% 23%,
            20% 35%, 45% 32%, 70% 36%, 95% 33%,
            5% 45%,  30% 42%, 55% 46%, 80% 43%,
            15% 55%, 40% 52%, 65% 56%, 90% 53%,
            10% 65%, 35% 62%, 60% 66%, 85% 63%,
            20% 75%, 45% 72%, 70% 76%, 95% 73%,
            5% 85%,  30% 82%, 55% 86%, 80% 83%,
            15% 95%, 40% 92%, 65% 96%, 90% 93%,
            50% 8%, 98% 30%, 2% 50%, 98% 70%, 50% 98%,
            25% 10%, 75% 90%, 10% 30%, 90% 60%, 40% 80%,
            60% 20%, 30% 60%, 80% 30%, 10% 80%, 70% 10%,
            20% 50%, 50% 30%, 90% 40%, 30% 90%, 60% 70% !important;
            
        background-size: 
            20px, 18px, 22px, 16px, 24px,
            19px, 21px, 17px, 23px, 20px,
            18px, 22px, 20px, 16px, 24px,
            19px, 21px, 23px, 17px, 20px,
            22px, 18px, 24px, 16px, 21px,
            19px, 23px, 20px, 17px, 22px,
            18px, 24px, 21px, 16px, 20px,
            23px, 19px, 22px, 17px, 24px,
            15px, 15px, 15px, 15px, 15px !important;
    }

    .mobile-header {
        flex-direction: column !important;
        height: auto !important;
        min-height: auto !important;
        padding: 10px 15px !important;
        gap: 10px !important;
    }

    .mobile-header .logo {
        position: static !important;
        width: 100%;
        display: flex;
        justify-content: flex-start !important; 
        transform: none !important;
        margin: 0 !important;
    }
    .mobile-header .logo-image {
        height: 60px !important;
        display: none !important;
    }
    .logo-text-wrapper {
        font-size: 1.5em; 
    }

    .header-user-group {
        width: 100%;
        display: flex;
        justify-content: space-between !important;
        align-items: center;
        margin: 0 !important;
        gap: 10px !important;
    }

    .profile-balance-box {
        flex-grow: 1; 
        display: flex;
        align-items: center !important; 
        justify-content: flex-start !important;
        padding: 10px 25px !important; 
        margin: 0 !important;
        transform: none !important;
        gap: 25px !important; 
    }
    
    .header-avatar-img {
        width: 48px !important;
        height: 48px !important;
        border: 2px solid rgba(255,255,255,0.8) !important;
    }

    .profile-text-content {
        display: flex !important;
        flex-direction: column !important;
        align-items: flex-start !important;
        justify-content: center !important;
        gap: 2px !important;
    }

    .mobile-header .profile-name {
        font-size: 1.7em !important; 
        font-weight: 800 !important; 
        line-height: 1.1 !important;
        color: #FFFFFF !important;
        text-transform: none !important; 
    }

    .mobile-header .profile-balance-box .balance {
        font-size: 1.3em !important; 
        font-weight: 500 !important; 
        opacity: 0.9 !important; 
        color: #FFFFFF !important;
    }
    
    .notification-wrapper { flex-shrink: 0; }
    
    .guest-header-actions {
        width: 100%;
        flex-direction: row !important;
        gap: 10px !important;
    }
}

/* =========================================
   2. КАРТОЧКИ ИГР (ICE & GRADIENTS & BLUR)
   ========================================= */

.game-cards-list {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 15px;
    padding: 0 15px;
    max-width: 800px;
    margin: 0 auto;
}

.lobby-game-wrapper {
    position: relative;
    width: 100%;
}

@keyframes ice-shimmer {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
}

/* Основной стиль карточки */
.lobby-game-card {
    width: 100% !important;
    height: 140px !important; 
    aspect-ratio: auto !important;
    border-radius: var(--card-radius) !important;
    border: 3px solid transparent !important;
    
    /* Дефолтный фон (если не переопределен) */
    background-image: 
        linear-gradient(var(--bg-card), var(--bg-card)), 
        linear-gradient(135deg, var(--ice-white) 0%, var(--ice-light) 25%, var(--ice-deep) 50%, var(--ice-light) 75%, var(--ice-white) 100%) !important;
    
    background-origin: padding-box, border-box !important;
    background-clip: padding-box, border-box !important;
    background-size: 100% 100%, 200% 200% !important;
    
    animation: ice-shimmer 4s ease infinite !important;
    box-shadow: 0 4px 15px rgba(34, 211, 238, 0.25), inset 0 0 20px rgba(165, 243, 252, 0.1) !important;
    
    position: relative;
    overflow: hidden;
    transition: transform 0.2s ease, box-shadow 0.2s ease !important;
    margin-bottom: 0 !important;
}

/* --- УНИКАЛЬНЫЕ ГРАДИЕНТЫ ДЛЯ ИГР --- */

/* DICE - Приятный голубой/индиго */
.lobby-game-wrapper[data-game-type="dice"] .lobby-game-card {
    background-image: 
        linear-gradient(135deg, #EEF2FF 0%, #E0E7FF 100%), /* Внутренний фон */
        linear-gradient(135deg, var(--ice-white) 0%, var(--ice-light) 25%, var(--ice-deep) 50%, var(--ice-light) 75%, var(--ice-white) 100%) !important; /* Обводка */
}

/* MINES - Приятный мятный/зеленый */
.lobby-game-wrapper[data-game-type="mines"] .lobby-game-card {
    background-image: 
        linear-gradient(135deg, #F0FDF4 0%, #D1FAE5 100%), 
        linear-gradient(135deg, var(--ice-white) 0%, var(--ice-light) 25%, var(--ice-deep) 50%, var(--ice-light) 75%, var(--ice-white) 100%) !important;
}

/* KENO - Приятный лавандовый/розовый */
.lobby-game-wrapper[data-game-type="keno"] .lobby-game-card {
    background-image: 
        linear-gradient(135deg, #FAF5FF 0%, #F3E8FF 100%), 
        linear-gradient(135deg, var(--ice-white) 0%, var(--ice-light) 25%, var(--ice-deep) 50%, var(--ice-light) 75%, var(--ice-white) 100%) !important;
}


.lobby-game-card:hover {
    transform: translateY(-3px) !important;
    box-shadow: 0 8px 25px rgba(34, 211, 238, 0.4) !important;
}
.lobby-game-card:active {
    transform: translateY(2px) !important;
    box-shadow: none !important;
}

/* Ледяной уголок */
.lobby-game-card::after {
    content: '';
    position: absolute;
    top: 0;
    right: 0;
    width: 45px;
    height: 45px;
    background: linear-gradient(135deg, var(--ice-white) 0%, var(--ice-light) 25%, var(--ice-deep) 50%, var(--ice-light) 75%, var(--ice-white) 100%) !important;
    background-size: 200% 200% !important;
    animation: ice-shimmer 4s ease infinite !important;
    border-top-right-radius: 20px;
    z-index: 10;
    clip-path: polygon(100% 0, 0 0, 100% 100%);
    box-shadow: none !important;
}

/* --- ОБЩИЙ СТИЛЬ КАРТИНКИ --- */
.game-card-cat {
    width: auto !important;
    object-fit: contain;
    position: absolute;
    top: 50%;
    left: 50%;
    z-index: 1;
    filter: drop-shadow(0 4px 6px rgba(0,0,0,0.1));
}

/* --- КОНФИГУРАЦИЯ ИЗОБРАЖЕНИЙ ПОКАРТОЧНО --- */

/* Dice */
.lobby-game-wrapper[data-game-type="dice"] .game-card-cat {
    height: var(--img-size-dice) !important;
    transform: translate(calc(-50% + var(--img-x-dice)), calc(-50% + var(--img-y-dice))) !important;
}
.lobby-game-wrapper[data-game-type="dice"]:hover .game-card-cat {
    transform: translate(calc(-50% + var(--img-x-dice)), calc(-50% + var(--img-y-dice))) scale(1.1) !important;
}

/* Mines */
.lobby-game-wrapper[data-game-type="mines"] .game-card-cat {
    height: var(--img-size-mines) !important;
    transform: translate(calc(-50% + var(--img-x-mines)), calc(-50% + var(--img-y-mines))) !important;
}
.lobby-game-wrapper[data-game-type="mines"]:hover .game-card-cat {
    transform: translate(calc(-50% + var(--img-x-mines)), calc(-50% + var(--img-y-mines))) scale(1.1) !important;
}

/* Keno */
.lobby-game-wrapper[data-game-type="keno"] .game-card-cat {
    height: var(--img-size-keno) !important;
    transform: translate(calc(-50% + var(--img-x-keno)), calc(-50% + var(--img-y-keno))) !important;
}
.lobby-game-wrapper[data-game-type="keno"]:hover .game-card-cat {
    transform: translate(calc(-50% + var(--img-x-keno)), calc(-50% + var(--img-y-keno))) scale(1.1) !important;
}

/* Crash */
.lobby-game-wrapper[data-game-type="crash"] .game-card-cat {
    height: var(--img-size-crash) !important;
    transform: translate(calc(-50% + var(--img-x-crash)), calc(-50% + var(--img-y-crash))) !important;
}
.lobby-game-wrapper[data-game-type="crash"]:hover .game-card-cat {
    transform: translate(calc(-50% + var(--img-x-crash)), calc(-50% + var(--img-y-crash))) scale(1.1) !important;
}

/* Coin */
.lobby-game-wrapper[data-game-type="coin"] .game-card-cat {
    height: var(--img-size-coin) !important;
    transform: translate(calc(-50% + var(--img-x-coin)), calc(-50% + var(--img-y-coin))) !important;
}
.lobby-game-wrapper[data-game-type="coin"]:hover .game-card-cat {
    transform: translate(calc(-50% + var(--img-x-coin)), calc(-50% + var(--img-y-coin))) scale(1.1) !important;
}

/* Sleepy */
.lobby-game-wrapper[data-game-type="sleepy"] .game-card-cat {
    height: var(--img-size-sleepy) !important;
    transform: translate(calc(-50% + var(--img-x-sleepy)), calc(-50% + var(--img-y-sleepy))) !important;
}
.lobby-game-wrapper[data-game-type="sleepy"]:hover .game-card-cat {
    transform: translate(calc(-50% + var(--img-x-sleepy)), calc(-50% + var(--img-y-sleepy))) scale(1.1) !important;
}

/* Wheel */
.lobby-game-wrapper[data-game-type="wheel"] .game-card-cat {
    height: var(--img-size-wheel) !important;
    transform: translate(calc(-50% + var(--img-x-wheel)), calc(-50% + var(--img-y-wheel))) !important;
}
.lobby-game-wrapper[data-game-type="wheel"]:hover .game-card-cat {
    transform: translate(calc(-50% + var(--img-x-wheel)), calc(-50% + var(--img-y-wheel))) scale(1.1) !important;
}


/* Название игры */
.game-card-panel {
    position: absolute;
    bottom: 8px;
    left: 8px;
    right: 8px;
    background-color: rgba(255, 255, 255, 0.85) !important;
    backdrop-filter: blur(4px);
    border: 1px solid var(--border-color) !important;
    border-radius: 12px !important;
    padding: 4px !important;
    text-align: center;
    z-index: 2;
    pointer-events: none;
}

.game-card-title {
    font-size: 0.85em !important;
    font-weight: 800 !important;
    color: var(--color-primary) !important;
    text-transform: uppercase;
}

/* --- COMING SOON И БЛЮР --- */

.lobby-game-wrapper.locked-game {
    opacity: 1 !important; /* Убираем прозрачность блока */
    filter: none !important; /* Убираем ч/б фильтр */
}

/* Сама карточка светлая, не серая */
.lobby-game-wrapper.locked-game .lobby-game-card {
    background: #E0E7FF !important; /* Легкий голубой оттенок */
    border: 2px solid #C7D2FE !important; /* Рамка */
    animation: none !important; 
    box-shadow: none !important;
    cursor: not-allowed;
    overflow: hidden; /* Важно для обрезки блюра */
}

/* Блюрим ТОЛЬКО картинку внутри */
.lobby-game-wrapper.locked-game .game-card-cat {
    filter: blur(8px) grayscale(0.3) !important; /* Сильный блюр + немного серости */
    opacity: 0.6 !important; /* Полупрозрачность */
}

/* Убираем ледяной уголок у закрытых (или делаем его простым) */
.lobby-game-wrapper.locked-game .lobby-game-card::after {
    display: none !important;
}

/* Текст COMING SOON поверх всего */
.lobby-game-wrapper.locked-game .lobby-game-card::before {
    content: 'COMING SOON';
    position: absolute;
    top: 50%; /* Идеальный центр */
    left: 50%;
    transform: translate(-50%, -50%);
    z-index: 10;
    width: 100%; /* На всю ширину для гарантии центровки */
    
    font-size: 1.4em;
    font-weight: 900;
    color: var(--color-primary); /* Индиго */
    text-transform: uppercase;
    text-align: center;
    white-space: nowrap;
    
    /* Обводка текста для читаемости */
    text-shadow: 
        0 2px 0 #fff,
        0 -1px 0 #fff,
        1px 0 0 #fff,
        -1px 0 0 #fff,
        0 0 10px rgba(255,255,255,0.8);
        
    filter: none !important; /* Текст должен быть четким */
}

/* --- ОСТАЛЬНЫЕ СТИЛИ ИНТЕРФЕЙСА (Индиго) --- */
.dice-controls, .mines-controls-panel, .crash-controls-panel, .coin-controls-panel, .keno-controls-ref-style {
    background-color: var(--bg-panel) !important;
    border: 1px solid var(--border-color-dark) !important;
    border-radius: 16px !important;
    box-shadow: 0 4px 15px rgba(79, 70, 229, 0.1) !important;
}

.primary-button, .auth-button, .wallet-deposit-button, .wallet-withdrawal-button, #mines-start-button, #crash-start-button, #coin-start-button, #keno-play-button, #wheel-spin-button {
    background-color: var(--color-primary) !important;
    color: #FFFFFF !important;
    border-radius: 12px !important;
    box-shadow: 0 4px 0 #3730A3 !important;
}

input[type="text"], input[type="number"], input[type="password"] {
    background-color: var(--bg-input) !important;
    border: 2px solid var(--border-color) !important;
    color: var(--text-main) !important;
}
input:focus { border-color: var(--color-primary) !important; }

.lobby-header { text-align: left !important; }
.game-list-title {
    font-size: 0.95em !important;
    font-weight: 700 !important;
    color: #1E1B4B !important; 
    text-transform: none !important;
    text-align: left !important;
    margin-left: 5px !important;
    padding: 0 !important;
    letter-spacing: 0.5px !important; 
    text-shadow: none !important;
    display: flex !important;
    align-items: center;
}
.game-list-title::after { display: none !important; }

@media (max-width: 768px) {
    .lobby-header { text-align: left !important; }
    .game-list-title { font-size: 0.9em !important; text-align: left !important; }
}

.bottom-nav {
    background-color: var(--color-primary) !important;
    border-top: 1px solid rgba(255, 255, 255, 0.1) !important;
}
.bottom-nav-item { color: rgba(255, 255, 255, 0.7) !important; }
.bottom-nav-item .nav-icon { filter: brightness(0) invert(1) !important; opacity: 0.7 !important; }
.bottom-nav-item.active { color: #FFFFFF !important; }
.bottom-nav-item.active .nav-icon { opacity: 1 !important; filter: brightness(0) invert(1) drop-shadow(0 0 5px rgba(255,255,255,0.5)) !important; }

.sidebar-nav, .wallet-modal-content {
    background-color: var(--bg-main) !important;
    color: var(--text-main) !important;
}

.sidebar-links a {
    color: var(--color-primary) !important;
    font-weight: 800 !important;
    background-color: rgba(79, 70, 229, 0.05) !important; 
    border: 1px solid var(--border-color) !important;
    margin-bottom: 10px; 
}
.sidebar-links a:hover {
    color: var(--color-primary-hover) !important;
    background-color: var(--bg-panel) !important; 
    border-color: var(--color-primary) !important;
}

.quest-button {
    background-color: var(--color-primary) !important;
    color: #FFFFFF !important;
    box-shadow: 0 3px 0 #3730A3 !important;
}
.quest-button:hover { background-color: var(--color-primary-hover) !important; }

#profile-page .profile-container {
    background-color: var(--text-main) !important;
    color: #FFFFFF !important;
    border: 1px solid var(--color-primary) !important;
    box-shadow: 0 4px 20px rgba(30, 27, 75, 0.5) !important;
}
#profile-page .profile-box {
    background-color: rgba(0, 0, 0, 0.4) !important;
    border: 1px solid rgba(255, 255, 255, 0.1) !important;
    color: #FFFFFF !important;
}
.profile-link, .profile-subheader, #profile-page label {
    color: #FFFFFF !important;
    opacity: 0.9 !important;
}
#profile-page .profile-form .form-group input {
    background-color: rgba(255, 255, 255, 0.1) !important;
    border: 1px solid rgba(255, 255, 255, 0.2) !important;
    color: #FFFFFF !important;
}
#profile-page .profile-form .form-group input::placeholder {
    color: rgba(255, 255, 255, 0.5) !important;
}
.social-link-button {
    background-color: rgba(0, 0, 0, 0.4) !important;
    border: 1px solid rgba(255, 255, 255, 0.1) !important;
    color: #FFFFFF !important;
}
.social-link-button:hover { background-color: rgba(255, 255, 255, 0.1) !important; }
.profile-form .auth-button { background-color: var(--color-primary) !important; }

#ranks-page .rank-card-wrapper {
    background-color: var(--text-main) !important;
    color: #FFFFFF !important;
    border: 1px solid rgba(255, 255, 255, 0.1) !important;
}
.rank-card__title { color: #FFFFFF !important; }
.rank-card__info-item {
    color: rgba(255, 255, 255, 0.8) !important;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1) !important;
}
.rank-card__info-item strong { color: #FFFFFF !important; }
.rank-card-wrapper.current {
    background-color: var(--text-main) !important;
    border: 2px solid var(--color-orange) !important;
    box-shadow: 0 0 15px rgba(245, 166, 35, 0.3) !important;
}

.bonus-display-box {
    background-color: var(--text-main) !important;
    color: #FFFFFF !important;
    border: 1px solid var(--color-primary) !important;
    box-shadow: 0 8px 20px rgba(30, 27, 75, 0.4) !important;
}
#bonus-amount-display, #bonus-page-text { color: #FFFFFF !important; text-shadow: none !important; }
.bonus-display-box .currency { color: rgba(255,255,255,0.7) !important; }

.weekly-bonus-item {
    background-color: var(--text-main) !important;
    color: #FFFFFF !important;
    border: 1px solid rgba(255,255,255,0.1) !important;
}
.weekly-bonus-title, .weekly-bonus-value { color: #FFFFFF !important; }

.quest-box {
    background-color: var(--text-main) !important;
    color: #FFFFFF !important;
    border: 1px solid rgba(255,255,255,0.1) !important;
}
.quest-title, .quest-subtitle, .quest-text, .quest-text a { color: #FFFFFF !important; }
.quest-subtitle, .quest-text small { opacity: 0.7 !important; }
.quest-status-icon.status-pending { color: rgba(255,255,255,0.5) !important; }

.promocode-header { color: var(--text-main) !important; }
.promocode-box { background-color: var(--bg-panel) !important; }

.admin-container { background-color: var(--color-primary) !important; color: #FFFFFF !important; }
#admin-tabs .ref-tab { color: rgba(255, 255, 255, 0.7) !important; }
#admin-tabs .ref-tab.active { color: #FFFFFF !important; border-bottom-color: #FFFFFF !important; }
#admin-tabs .ref-tab.active::after { background-color: #FFFFFF !important; }
#admin-page .form-group label { color: #FFFFFF !important; }
.admin-user-table tr, .admin-user-table th, .admin-user-table td { border-color: rgba(255, 255, 255, 0.2) !important; color: #FFFFFF !important; }
@media (max-width: 768px) {
    .admin-user-table tr { background-color: var(--text-main) !important; border-color: rgba(255, 255, 255, 0.2) !important; }
}

.ref-container { background-color: var(--color-primary) !important; color: #FFFFFF !important; }
.ref-subheader, .ref-manager-link, .ref-link-box label, .ref-form-header { color: #FFFFFF !important; opacity: 0.9 !important; }
.ref-link { color: #FFD700 !important; text-decoration: underline; }
.ref-link-box, .ref-form, .ref-table-wrapper, .ref-list { background-color: var(--text-main) !important; border: 1px solid rgba(255, 255, 255, 0.1) !important; }
.ref-tabs .ref-tab { color: rgba(255, 255, 255, 0.7) !important; }
.ref-tabs .ref-tab.active { color: #FFFFFF !important; }
.ref-tabs .ref-tab.active::after { background-color: #FFFFFF !important; }
.ref-subtab { background-color: rgba(0, 0, 0, 0.2) !important; color: rgba(255, 255, 255, 0.7) !important; }
.ref-subtab.active { background-color: var(--text-main) !important; color: #FFFFFF !important; }

.faq-container { gap: 10px; }
.faq-item .faq-question { background-color: var(--color-primary) !important; color: #FFFFFF !important; border: 1px solid rgba(255, 255, 255, 0.1) !important; transition: background-color 0.3s ease; border-radius: 8px; }
.faq-item.active .faq-question { background-color: var(--color-primary) !important; border-radius: 8px 8px 0 0; border-bottom: none !important; }
.faq-item { background-color: transparent !important; border: none !important; }
.faq-icon { color: #FFFFFF !important; }
.faq-answer-content { background-color: var(--text-main) !important; color: #FFFFFF !important; border: 1px solid rgba(255, 255, 255, 0.1) !important; border-top: none !important; border-radius: 0 0 8px 8px; padding: 20px; }
.faq-answer-content p { opacity: 0.9; }
.faq-answer-content a { color: #FFD700 !important; }

.wallet-method-button { background-color: var(--color-primary) !important; border: 2px solid transparent !important; }
.wallet-method-button.active { background-color: var(--color-primary) !important; border-color: var(--color-orange) !important; box-shadow: 0 0 10px rgba(79, 70, 229, 0.5) !important; }
.wallet-tab { color: var(--color-primary) !important; opacity: 0.6; }
.wallet-tab.active { color: var(--color-primary) !important; opacity: 1; border-bottom: 2px solid var(--color-primary) !important; }
.wallet-tab.active::after { background-color: var(--color-primary) !important; }

.high-win-card { width: 125px !important; min-width: 125px !important; background: var(--text-main) !important; border: 2px solid var(--color-primary) !important; box-shadow: 0 0 10px var(--color-primary) !important; padding: 0 !important; border-radius: 14px !important; animation: none !important; }
.history-item-content { background-color: transparent !important; padding: 10px 5px !important; gap: 5px !important; }
.history-game-img-icon { height: 35px !important; width: 35px !important; filter: drop-shadow(0 0 5px rgba(255,255,255,0.3)); }
.history-user { font-size: 0.85em !important; color: #FFFFFF !important; }
.history-multiplier-tag { background-color: rgba(79, 70, 229, 0.2) !important; color: #FFFFFF !important; border-color: var(--color-primary) !important; box-shadow: none !important; }
.history-amount.win { font-size: 1.1em !important; color: #00FF99 !important; text-shadow: 0 0 5px rgba(0, 255, 153, 0.4); }

.snow-toggle-wrapper { display: flex; align-items: center; justify-content: space-between; background-color: rgba(0, 0, 0, 0.4) !important; padding: 15px 20px; border-radius: 8px; margin-bottom: 15px; border: 1px solid rgba(255, 255, 255, 0.1) !important; }
.snow-toggle-label { font-weight: bold; color: #FFFFFF !important; }

.dice-input-group { background-color: #FFFFFF !important; border: 2px solid #E0E7FF !important; box-shadow: 0 4px 10px rgba(0,0,0,0.05) !important; }
.dice-input-group input[type="number"] { background-color: #F3F4F6 !important; color: #111827 !important; border-color: #D1D5DB !important; }
.dice-input-group label { color: #4B5563 !important; }
.dice-input-group .bet-actions-grid button { background-color: #E5E7EB !important; color: #374151 !important; border: 1px solid #D1D5DB !important; }
.dice-input-group .bet-actions-grid button:hover { background-color: #D1D5DB !important; }

.game-history-item { background-color: rgba(79, 70, 229, 0.05) !important; border: 1px solid rgba(79, 70, 229, 0.1) !important; border-radius: 8px !important; margin-bottom: 5px !important; }
.history-cell.user { color: #9CA3AF !important; font-weight: 600 !important; }
.history-cell.bet { color: #9CA3AF !important; }
.game-history-item.win .history-cell.payout { color: #00A878 !important; }
.game-history-item.loss .history-cell.payout { color: #FF5555 !important; }

.mines-multiplier-item { background-color: #FFFFFF !important; border: 1px solid var(--color-border-dark) !important; }
.mines-multiplier-item .multiplier-value { color: var(--color-primary) !important; }
.mines-multiplier-item .step-label { color: #9CA3AF !important; }
.mines-multiplier-item.active { background-color: var(--color-primary) !important; }
.mines-multiplier-item.active .multiplier-value, .mines-multiplier-item.active .step-label { color: #FFFFFF !important; }

.mines-grid-wrapper { background-color: transparent !important; border: none !important; box-shadow: none !important; padding: 0 !important; }
.mine-cell { border: none !important; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.15) !important; background-color: #F3F4F6 !important; }
.mine-cell:hover { transform: translateY(-2px); box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2) !important; }
.mine-cell.bomb { background-color: #FF5555 !important; color: #FFFFFF !important; }
.mine-cell.safe { background-color: #FFFFFF !important; }
#mines-main-button { background: var(--color-primary) !important; color: #FFFFFF !important; box-shadow: 0 4px 0 #3730A3 !important; }
#mines-main-button:active { box-shadow: 0 2px 0 #3730A3 !important; transform: translateY(2px); }

.mines-controls-panel { background-color: transparent !important; border: none !important; box-shadow: none !important; padding: 0 !important; }
#mines-game .keno-controls-ref-style .keno-input-wrapper { background-color: #FFFFFF !important; border: 2px solid var(--color-border-dark) !important; box-shadow: 0 4px 10px rgba(0,0,0,0.05) !important; }
#mines-game .keno-controls-ref-style .keno-input-wrapper input { background-color: transparent !important; color: var(--text-main) !important; outline: none !important; }
#mines-game .keno-controls-ref-style .keno-input-wrapper .currency-icon { color: var(--text-main) !important; opacity: 0.7; }
#mines-game .keno-controls-ref-style .bet-half, #mines-game .keno-controls-ref-style .bet-double, .mines-count-btn, .mines-custom-input { background-color: #1E1B4B !important; color: #FFFFFF !important; border: 1px solid #1E1B4B !important; border-radius: 8px !important; }
#mines-game .keno-controls-ref-style .bet-half:hover, #mines-game .keno-controls-ref-style .bet-double:hover, .mines-count-btn:hover { background-color: #2D2A5E !important; opacity: 1; }
.mines-count-btn.active { border: 2px solid var(--color-primary) !important; box-shadow: 0 0 10px var(--color-primary) !important; }
.mines-custom-input { background-color: #FFFFFF !important; border: 2px solid var(--color-border-dark) !important; }
.mines-custom-input input { color: var(--text-main) !important; background-color: transparent !important; outline: none !important; }
input:focus, button:focus { outline: none !important; box-shadow: none !important; }
#mines-game .keno-controls-ref-style .keno-input-wrapper:focus-within { border-color: var(--color-primary) !important; }
.per-game-history-list { background-color: transparent !important; border: none !important; box-shadow: none !important; }

.visual-history-content { width: 95%; max-width: 400px; background-color: #3D4654; color: #FFFFFF; padding: 20px; border-radius: 16px; display: flex; flex-direction: column; gap: 15px; border: 1px solid var(--color-primary); box-shadow: 0 0 20px rgba(79, 70, 229, 0.2); }
.visual-grid-container { background-color: rgba(30, 33, 40, 0.5); border-radius: 12px; padding: 10px; margin: 0 auto; width: 100%; display: grid; justify-content: center; }
.mines-visual { grid-template-columns: repeat(5, 1fr); gap: 5px; aspect-ratio: 1 / 1; overflow: hidden; position: relative; }
.visual-cell.mine-cell img.mine-cell-icon { width: 80% !important; height: 80% !important; max-width: 100% !important; max-height: 100% !important; object-fit: contain !important; position: static !important; }
.visual-cell.mine-cell { border-radius: 6px; display: flex; justify-content: center; align-items: center; font-size: 1.2em; aspect-ratio: 1 / 1; box-shadow: inset 0 0 5px rgba(0,0,0,0.2); }
.visual-cell.mine-cell.safe-opened { background-color: #00A878 !important; color: #FFF; box-shadow: 0 0 10px rgba(0, 168, 120, 0.5); }
.visual-cell.mine-cell.safe-closed { background-color: #FFFFFF !important; color: #000; }
.visual-cell.mine-cell.bomb { background-color: #FF5555 !important; color: #FFF; box-shadow: 0 0 10px rgba(255, 85, 85, 0.5); }
.keno-visual { grid-template-columns: repeat(8, 1fr); gap: 4px; }
.visual-cell.keno-cell { background-color: #2E3035; border-radius: 6px; display: flex; justify-content: center; align-items: center; font-weight: bold; font-size: 0.8em; color: rgba(255,255,255,0.5); aspect-ratio: 1 / 1; overflow: hidden; position: relative; }
.visual-cell.keno-cell img.keno-cell-icon { width: 80% !important; height: 80% !important; object-fit: contain !important; position: static !important; }
.visual-cell.keno-cell.miss { background-color: var(--color-primary) !important; color: #FFF; opacity: 1; box-shadow: 0 0 5px var(--color-primary); }
.visual-cell.keno-cell.hit { background-color: #00A878 !important; color: transparent; box-shadow: 0 0 10px rgba(0, 168, 120, 0.6); opacity: 1; }
.visual-cell.keno-cell.drawn-history { background-color: #4B5563 !important; color: #FFF; opacity: 0.7; }
.dice-visual-box div { color: var(--color-primary) !important; }
.dice-visual-bar-container { width: 100%; height: 16px; background-color: #E0E7FF !important; border-radius: 8px; overflow: hidden; position: relative; border: 1px solid var(--color-primary); }
.dice-visual-bar-fill { height: 100%; background: linear-gradient(90deg, #4F46E5, #6366F1) !important; border-radius: 8px; transition: width 0.5s ease; box-shadow: 0 0 10px rgba(79, 70, 229, 0.5); }
.visual-history-footer { display: flex; flex-direction: column; gap: 8px; border-top: 1px solid rgba(255,255,255,0.1); padding-top: 15px; }
.vh-row { display: flex; justify-content: space-between; font-size: 0.95em; align-items: flex-start; }
.vh-row span { color: var(--color-primary) !important; font-weight: bold; }
.vh-row strong { color: var(--color-primary) !important; text-align: right; }
.vh-row.result-row strong { color: var(--color-primary) !important; }
#vh-extra-value { line-height: 1.4; }

#keno-grid .keno-cell { background-color: #2E3035 !important; border: 1px solid #373D49 !important; color: rgba(255, 255, 255, 0.6) !important; border-radius: 8px !important; box-shadow: inset 0 -2px 0 rgba(0,0,0,0.3) !important; }
#keno-grid .keno-cell:hover { background-color: #3D4654 !important; transform: translateY(-1px); }
#keno-grid .keno-cell.selected { background-color: var(--color-primary) !important; color: #fff !important; border-color: var(--color-primary) !important; box-shadow: 0 0 10px var(--color-primary) !important; opacity: 1 !important; }
#keno-grid .keno-cell.hit { background-color: var(--color-secondary) !important; border-color: var(--color-secondary) !important; color: #fff !important; }
#keno-autopick-button { color: #1E1B4B !important; border-color: #1E1B4B !important; }
#keno-autopick-button:hover { background-color: rgba(30, 27, 75, 0.05) !important; }
#keno-play-button, #keno-auto-start-button { background: #4F46E5 !important; color: #FFFFFF !important; box-shadow: 0 4px 0 #3730A3 !important; }
#keno-play-button:active, #keno-auto-start-button:active { box-shadow: 0 2px 0 #3730A3 !important; transform: translateY(2px); }
#keno-game .keno-bet-input-row .keno-input-wrapper { background-color: #FFFFFF !important; border: 2px solid #E0E7FF !important; }
#keno-game .keno-bet-input-row .keno-input-wrapper input { color: #1E1B4B !important; }
#keno-game .keno-bet-input-row .keno-input-wrapper .currency-icon { color: #1E1B4B !important; opacity: 0.5; }
#keno-clear-button, #keno-turbo-button, #keno-game .bet-half, #keno-game .bet-double { background-color: #1E1B4B !important; color: #FFFFFF !important; border: 1px solid #1E1B4B !important; }
#keno-turbo-button img, #keno-clear-button img { filter: brightness(0) invert(1) !important; opacity: 0.8; }
#keno-turbo-button.active img { filter: none !important; opacity: 1 !important; filter: drop-shadow(0 0 5px var(--color-orange)) !important; }
#keno-game .bet-half:hover, #keno-game .bet-double:hover, #keno-clear-button:hover, #keno-turbo-button:hover { background-color: #312E81 !important; }
.keno-risk-selector { background-color: transparent !important; gap: 8px !important; }
.keno-risk-btn { background-color: #1E1B4B !important; color: #FFFFFF !important; opacity: 0.6 !important; border-radius: 8px !important; border: none !important; }
.keno-risk-btn.active { opacity: 1 !important; background-color: #4F46E5 !important; box-shadow: 0 0 15px rgba(79, 70, 229, 0.6) !important; transform: scale(1.05); }

.bell-icon { width: 36px !important; height: 36px !important; }
.notif-btn { width: 40px !important; height: 40px !important; }
.notif-badge { top: 5px !important; right: 5px !important; font-size: 0.9em !important; min-width: 20px !important; height: 20px !important; border-radius: 10px !important; }
@media (max-width: 768px) {
    #header-notif-box { position: absolute !important; top: 25% !important; right: 10px !important; transform: translateY(-50%) !important; z-index: 100 !important; }
    .header-user-group { padding-right: 70px !important; }
    .mobile-header { overflow: visible !important; }
}

.header-wallet-btn { display: flex; align-items: center; justify-content: center; gap: 5px; background-color: rgba(255, 255, 255, 0.15); border: 1px solid rgba(255, 255, 255, 0.2); border-radius: 8px; padding: 6px 10px; cursor: pointer; transition: all 0.2s ease; margin-left: auto; }
.header-wallet-btn:hover { background-color: rgba(255, 255, 255, 0.25); transform: translateY(-1px); }
.header-wallet-btn:active { transform: translateY(1px); }
.header-wallet-btn img { width: 20px; height: 20px; object-fit: contain; filter: brightness(0) invert(1); }
.wallet-btn-plus { color: #FFFFFF; font-weight: 900; font-size: 1.2em; line-height: 1; }
@media (max-width: 768px) {
    .header-wallet-btn { padding: 8px 12px; }
    .header-wallet-btn img { width: 22px; height: 22px; }
}

#theme-toggle-btn {
    background-color: var(--bg-input) !important;
    border: 1px solid var(--border-color) !important;
    color: var(--text-main) !important;
    margin-top: 10px;
    cursor: pointer;
}

/* Stop button style (Keno/General) */
.keno-big-play-btn.stop-mode {
    background-color: var(--bg-input) !important;
    color: var(--text-muted) !important;
}

/* =========================================
   18. UPDATES (TASK LIST FIXES)
   ========================================= */

/* 1 & 2. Wallet Labels (Deposit & Withdraw) -> Dark Blue */
.wallet-form .form-group label {
    color: var(--text-main) !important; /* #1E1B4B */
    font-weight: 700 !important;
}

/* 3. Theme Toggle Button Text -> White */
#theme-toggle-btn {
    color: #FFFFFF !important;
}

/* 4. Profile Rank Text -> Indigo */
#profile-rank {
    color: var(--color-primary) !important; /* Indigo */
    font-weight: 900 !important;
}

/* 5. FAQ Link Color -> Indigo (Make sure it stands out) */
.faq-answer-content a {
    color: var(--color-primary) !important;
    text-decoration: underline !important;
    font-weight: bold !important;
}

/* =========================================
   19. UPDATES (LINKS & UNDERLINES)
   ========================================= */

/* 1. Referral Links -> Dark Blue (Using var(--text-main)) */
.ref-subheader .ref-link,
.ref-manager-link a {
    color: var(--text-main) !important;
    font-weight: 800 !important;
}

/* 2. Bonus Quest Links Underline -> Indigo (KEEP THIS) */
.quest-text a {
    text-decoration-color: var(--color-primary) !important;
}

/* =========================================
   20. USER CARD IN PROFILE (PREMIUM DARK BLUE REDESIGN)
   ========================================= */

.user-info-card {
    display: flex;
    align-items: center;
    /* Глубокий темно-синий градиент с легкой прозрачностью */
    background: linear-gradient(135deg, rgba(30, 27, 75, 0.95) 0%, rgba(49, 46, 129, 0.9) 100%) !important;
    /* Эффект матового стекла */
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    /* Тонкая ледяная рамка */
    border: 1px solid rgba(255, 255, 255, 0.15) !important;
    /* Глубокая мягкая тень */
    box-shadow: 0 15px 35px rgba(30, 27, 75, 0.25) !important;
    border-radius: 24px; /* Более скругленные углы */
    padding: 25px;
    margin-bottom: 25px;
    gap: 25px;
    position: relative;
    overflow: hidden;
}

/* Легкий блик сверху для объема */
.user-info-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(to bottom, rgba(255,255,255,0.05) 0%, transparent 100%);
    pointer-events: none;
}

/* Левая часть (Аватар + Кнопка) */
.user-info-left {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 15px;
    flex-shrink: 0;
    position: relative;
    z-index: 2;
}

.profile-large-avatar {
    width: 110px;
    height: 110px;
    border-radius: 50%;
    /* Более выразительная рамка с свечением */
    border: 4px solid var(--color-primary);
    box-shadow: 0 0 20px rgba(79, 70, 229, 0.4);
    object-fit: cover;
    cursor: pointer;
    transition: all 0.3s ease;
}
.profile-large-avatar:hover {
    transform: scale(1.05) rotate(2deg);
    box-shadow: 0 0 30px rgba(79, 70, 229, 0.6);
}

/* Правая часть (Инфо + Кнопка) */
.user-info-right {
    flex-grow: 1;
    display: flex;
    flex-direction: column;
    justify-content: center;
    gap: 8px;
    position: relative;
    z-index: 2;
}

#profile-username-display {
    color: var(--color-primary) !important; /* <-- ИЗМЕНЕНО НА INDIGO */
    font-size: 1.8em; /* Крупнее */
    font-weight: 900;
    margin: 0;
    letter-spacing: 0.5px;
    text-shadow: 0 2px 4px rgba(0,0,0,0.3); /* Тень текста */
}

.user-info-subtitle {
    font-size: 0.95em;
    color: #A5B4FC; /* Светлый индиго для контраста */
    font-weight: 500;
    margin-bottom: 12px;
}

/* --- Кнопки в карточке --- */

.user-info-card .auth-button {
    margin-top: 5px;
    width: fit-content;
    padding: 10px 20px;
    font-size: 0.95em;
    border-radius: 12px;
    transition: all 0.3s ease;
}

/* Маленькая кнопка "Выбрать аватар" - Контурный стиль */
.user-info-left .auth-button.small {
    font-size: 0.85em;
    padding: 6px 12px;
    background-color: transparent !important;
    border: 2px solid var(--color-primary) !important;
    color: var(--color-primary) !important;
    font-weight: 700;
    box-shadow: none !important;
}
.user-info-left .auth-button.small:hover {
    background-color: var(--color-primary) !important;
    color: #FFFFFF !important;
    box-shadow: 0 4px 15px rgba(79, 70, 229, 0.3) !important;
}

/* Главная кнопка "Сменить/Оплатить" - Градиентный стиль */
#profile-change-name-btn {
    background: linear-gradient(to right, var(--color-primary), #6366F1) !important;
    border: none !important;
    box-shadow: 0 4px 15px rgba(79, 70, 229, 0.4) !important;
    font-weight: 800;
    letter-spacing: 0.5px;
}
#profile-change-name-btn:hover {
    transform: translateY(-3px);
    box-shadow: 0 8px 25px rgba(79, 70, 229, 0.6) !important;
}

/* Адаптация для мобильных */
@media (max-width: 480px) {
    .user-info-card {
        flex-direction: column;
        text-align: center;
        padding: 20px;
        gap: 15px;
    }
    .user-info-right {
        align-items: center;
        width: 100%;
    }
    #profile-username-display {
        font-size: 1.5em;
    }
    .user-info-card .auth-button, 
    #profile-change-name-btn {
        width: 100%; /* Кнопки на всю ширину на мобилках */
        justify-content: center;
    }
}

/* =========================================
   21. STYLISH CUSTOMIZE MODAL TITLES
   ========================================= */

/* Заголовки в модальном окне кастомизации -> Темно-синие */
.customize-section-title {
    color: var(--text-main) !important; /* #1E1B4B */
    border-bottom: 1px solid var(--color-border-dark); /* Keep border */
    opacity: 1; /* Make sure it's fully visible */
}

/* =========================================
   22. CUSTOMIZE MODAL UPDATE (TASK: Dark Blue BG & Indigo Text)
   ========================================= */

.customize-modal-content {
    /* 1. Фон темно-синий */
    background-color: #1E1B4B !important; /* var(--text-main) */
    border: 1px solid var(--color-primary) !important; /* Индиго рамка для стиля */
    box-shadow: 0 10px 30px rgba(30, 27, 75, 0.6) !important;
}

.customize-section-title {
    /* 2. Надписи индиго */
    color: #4F46E5 !important; /* var(--color-primary) */
    border-bottom: 1px solid rgba(79, 70, 229, 0.3) !important; /* Индиго разделитель */
    opacity: 1 !important;
}

/* Также поправим кнопку закрытия, чтобы ее было видно на темном фоне */
#customize-modal-close {
    color: #FFFFFF !important;
}
#customize-modal-close:hover {
    color: #4F46E5 !important;
}
/*
 * style2.css
 * GLOBAL REDESIGN: White & Indigo + Dense Winter + Mobile Player Card Update
 * Version 8.3 (REF PAGE: WHITE HEADERS & INDIGO REVSHARE)
 */

:root {
    /* =========================================
       НАСТРОЙКИ КАРТОЧЕК (РАЗМЕР И ПОЗИЦИЯ)
       ========================================= */

    /* DICE */
    --img-size-dice: 80px;
    --img-x-dice: 0px;
    --img-y-dice: 0px;

    /* MINES */
    --img-size-mines: 80px;
    --img-x-mines: 0px;
    --img-y-mines: -5px;

    /* KENO */
    --img-size-keno: 105px;
    --img-x-keno: 0px;
    --img-y-keno: 0px;

    /* CRASH */
    --img-size-crash: 100px;
    --img-x-crash: 0px;
    --img-y-crash: 0px;

    /* COIN */
    --img-size-coin: 100px;
    --img-x-coin: 0px;
    --img-y-coin: 0px;

    /* SLEEPY */
    --img-size-sleepy: 100px;
    --img-x-sleepy: 0px;
    --img-y-sleepy: 0px;

    /* WHEEL */
    --img-size-wheel: 100px;
    --img-x-wheel: 0px;
    --img-y-wheel: 0px;

    /* --- ПАЛИТРА --- */
    --color-primary: #4F46E5;       /* Индиго (Яркий) */
    --color-primary-hover: #4338ca;
    
    --bg-main: #FFFFFF;             /* Белый фон страницы */
    --bg-card: #F5F7FF;             /* Светлый фон карточек */
    --bg-panel: #EEF2FF;            /* Светлый фон панелей */
    
    /* ТЕКСТ */
    --text-main: #1E1B4B;           /* Темно-синий текст (Dark Blue) */
    --text-muted: #6366F1;          /* Индиго текст */
    --text-white: #FFFFFF;          /* Белый */
    
    --border-color: #E0E7FF;
    --border-color-dark: #C7D2FE;
    
    --card-radius: 24px;
    
    /* ЦВЕТА ДЛЯ ЛЬДА */
    --ice-white: #FFFFFF;
    --ice-light: #A5F3FC;           /* Светло-голубой лед */
    --ice-mid: #22D3EE;             /* Голубой */
    --ice-deep: #0284C7;            /* Глубокий синий */
}

/* =========================================
   1. ГЛОБАЛЬНЫЙ ФОН
   ========================================= */

body {
    background-color: var(--bg-main) !important;
    background-image: none !important;
    color: var(--text-main) !important;
    position: relative;
    min-height: 100vh;
}

body::before {
    content: "";
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: 0;
    opacity: 0.3; 
    
    background-repeat: no-repeat;
    background-image: 
        url('assets/snow1.svg'), url('assets/bell.svg'), url('assets/snow2.svg'), url('assets/deer.svg'), url('assets/snowman.svg'),
        url('assets/snow2.svg'), url('assets/snow1.svg'), url('assets/snowman.svg'), url('assets/bell.svg'), url('assets/deer.svg'),
        url('assets/deer.svg'), url('assets/snow2.svg'), url('assets/bell.svg'), url('assets/snow1.svg'), url('assets/snowman.svg'),
        url('assets/bell.svg'), url('assets/snowman.svg'), url('assets/snow1.svg'), url('assets/deer.svg'), url('assets/snow2.svg'),
        url('assets/snow1.svg'), url('assets/deer.svg'), url('assets/snow2.svg'), url('assets/bell.svg'), url('assets/snowman.svg'),
        url('assets/snowman.svg'), url('assets/snow1.svg'), url('assets/bell.svg'), url('assets/snow2.svg'), url('assets/deer.svg'),
        url('assets/snow2.svg'), url('assets/deer.svg'), url('assets/snowman.svg'), url('assets/snow1.svg'), url('assets/bell.svg'),
        url('assets/bell.svg'), url('assets/snow2.svg'), url('assets/deer.svg'), url('assets/snowman.svg'), url('assets/snow1.svg'),
        url('assets/snow1.svg'), url('assets/bell.svg'), url('assets/snow2.svg'), url('assets/snowman.svg'), url('assets/deer.svg'),
        url('assets/deer.svg'), url('assets/snow1.svg'), url('assets/bell.svg'), url('assets/snow2.svg'), url('assets/snowman.svg'),
        url('assets/snowman.svg'), url('assets/deer.svg'), url('assets/snow2.svg'), url('assets/bell.svg'), url('assets/snow1.svg'),
        url('assets/snow2.svg'), url('assets/snow1.svg'), url('assets/deer.svg'), url('assets/snowman.svg'), url('assets/bell.svg');
    
    background-position: 
        2% 3%,   15% 8%,  30% 2%,  45% 7%,  60% 3%,  75% 8%,  90% 2%,  98% 12%,
        5% 18%,  20% 15%, 35% 20%, 50% 16%, 65% 21%, 80% 15%, 95% 22%, 8% 28%,
        25% 32%, 40% 28%, 55% 33%, 70% 29%, 85% 34%, 3% 40%,  18% 45%, 32% 41%,
        48% 46%, 62% 42%, 78% 47%, 92% 43%, 10% 55%, 28% 52%, 42% 58%, 58% 53%,
        72% 59%, 88% 54%, 5% 65%,  22% 68%, 38% 64%, 52% 69%, 68% 65%, 82% 70%,
        96% 63%, 12% 78%, 26% 82%, 40% 77%, 56% 83%, 70% 78%, 86% 84%, 4% 90%,
        18% 95%, 34% 91%, 50% 96%, 66% 92%, 80% 97%, 94% 91%, 9% 8%,   91% 88%,
        45% 90%, 55% 10%, 25% 95%, 75% 5%;
        
    background-size: 
        20px, 24px, 18px, 26px, 22px,
        16px, 20px, 24px, 18px, 22px,
        25px, 17px, 21px, 23px, 19px,
        22px, 20px, 26px, 18px, 24px,
        17px, 23px, 21px, 25px, 19px,
        24px, 16px, 22px, 20px, 26px,
        18px, 24px, 22px, 17px, 25px,
        26px, 19px, 23px, 21px, 20px,
        22px, 18px, 24px, 17px, 25px,
        20px, 26px, 22px, 19px, 23px,
        24px, 18px, 21px, 25px, 16px,
        23px, 20px, 26px, 18px, 22px;
}

.app-container {
    position: relative;
    z-index: 1;
}

/* Снежинки */
.snowflake {
    position: fixed;
    top: -10px;
    color: #A5B4FC;
    user-select: none;
    pointer-events: none;
    z-index: 9999;
    animation-name: fall;
    animation-timing-function: linear;
    animation-iteration-count: infinite;
}
@keyframes fall {
    0% { transform: translateY(0) rotate(0deg); opacity: 0.8; }
    100% { transform: translateY(105vh) rotate(360deg); opacity: 0.2; }
}

/* --- ХЕДЕР --- */
.mobile-header {
    background-color: var(--bg-main) !important;
    border-bottom: 1px solid var(--border-color) !important;
    box-shadow: 0 4px 20px rgba(79, 70, 229, 0.05) !important;
    height: 70px !important;
    display: flex !important; 
    align-items: center !important;
    justify-content: space-between !important;
    padding: 0 15px !important;
}

.logo-text-wrapper {
    position: relative;
    display: inline-block;
    font-weight: 900;
    color: var(--color-primary);
}

.letter-with-hat {
    position: relative;
    display: inline-block;
}

.santa-hat {
    position: absolute;
    width: 0.6em !important; 
    height: auto;
    top: 0.05em !important; 
    left: -0.08em !important; 
    z-index: 10;
    pointer-events: none;
    transform: rotate(0deg); 
    filter: drop-shadow(0 2px 2px rgba(0,0,0,0.2));
}

.logo-text {
    background: none !important;
    -webkit-text-fill-color: var(--color-primary) !important; 
    color: var(--color-primary) !important;
    text-shadow: none !important;
    font-weight: 900 !important;
}

.header-user-group {
    display: flex;
    align-items: center;
    gap: 15px;
}

.profile-balance-box {
    background-color: var(--color-primary) !important; 
    border: none !important;
    border-radius: 12px !important;
    padding: 5px 15px !important;
    box-shadow: 0 4px 10px rgba(79, 70, 229, 0.3) !important;
}

.profile-name {
    color: #FFFFFF !important; 
    opacity: 0.9;
    font-weight: normal !important;
}

.profile-balance-box .balance {
    color: #FFFFFF !important;
    font-weight: 900 !important;
    text-shadow: none !important;
}

.header-avatar-img {
    border: 2px solid rgba(255,255,255,0.5) !important;
}

/* Уведомления */
.bell-icon {
    fill: var(--color-primary) !important;
    color: var(--color-primary) !important;
}
.notif-btn:hover {
    background-color: var(--bg-panel) !important;
}
.notif-badge {
    background-color: var(--color-orange) !important;
    color: #FFF !important;
    box-shadow: 0 0 0 2px var(--bg-main) !important;
}

.notif-dropdown {
    background-color: var(--text-main) !important;
    border: 1px solid var(--color-primary) !important;
    border-radius: 12px !important;
    box-shadow: 0 10px 30px rgba(30, 27, 75, 0.5) !important;
    overflow: hidden !important;
}

.notif-header {
    background-color: rgba(0, 0, 0, 0.2) !important;
    color: #FFFFFF !important;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1) !important;
}

.notif-item {
    border-bottom: 1px solid rgba(255, 255, 255, 0.1) !important;
}
.notif-item:hover {
    background-color: rgba(255, 255, 255, 0.05) !important;
}

.notif-title { color: #FFFFFF !important; }
.notif-text { color: rgba(255, 255, 255, 0.8) !important; }
.notif-time { color: rgba(255, 255, 255, 0.5) !important; }

/* --- МОБИЛЬНАЯ АДАПТАЦИЯ ФОНА И ХЕДЕРА --- */
@media (max-width: 768px) {
    body::before {
        background-position: 
            5% 2%,   30% 5%,  55% 3%,  80% 6%, 
            15% 15%, 40% 12%, 65% 16%, 90% 13%,
            8% 25%,  35% 22%, 60% 26%, 85% 23%,
            20% 35%, 45% 32%, 70% 36%, 95% 33%,
            5% 45%,  30% 42%, 55% 46%, 80% 43%,
            15% 55%, 40% 52%, 65% 56%, 90% 53%,
            10% 65%, 35% 62%, 60% 66%, 85% 63%,
            20% 75%, 45% 72%, 70% 76%, 95% 73%,
            5% 85%,  30% 82%, 55% 86%, 80% 83%,
            15% 95%, 40% 92%, 65% 96%, 90% 93%,
            50% 8%, 98% 30%, 2% 50%, 98% 70%, 50% 98%,
            25% 10%, 75% 90%, 10% 30%, 90% 60%, 40% 80%,
            60% 20%, 30% 60%, 80% 30%, 10% 80%, 70% 10%,
            20% 50%, 50% 30%, 90% 40%, 30% 90%, 60% 70% !important;
            
        background-size: 
            20px, 18px, 22px, 16px, 24px,
            19px, 21px, 17px, 23px, 20px,
            18px, 22px, 20px, 16px, 24px,
            19px, 21px, 23px, 17px, 20px,
            22px, 18px, 24px, 16px, 21px,
            19px, 23px, 20px, 17px, 22px,
            18px, 24px, 21px, 16px, 20px,
            23px, 19px, 22px, 17px, 24px,
            15px, 15px, 15px, 15px, 15px !important;
    }

    .mobile-header {
        flex-direction: column !important;
        height: auto !important;
        min-height: auto !important;
        padding: 10px 15px !important;
        gap: 10px !important;
    }

    .mobile-header .logo {
        position: static !important;
        width: 100%;
        display: flex;
        justify-content: flex-start !important; 
        transform: none !important;
        margin: 0 !important;
    }
    .mobile-header .logo-image {
        height: 60px !important;
        display: none !important;
    }
    .logo-text-wrapper {
        font-size: 1.5em; 
    }

    .header-user-group {
        width: 100%;
        display: flex;
        justify-content: space-between !important;
        align-items: center;
        margin: 0 !important;
        gap: 10px !important;
    }

    .profile-balance-box {
        flex-grow: 1; 
        display: flex;
        align-items: center !important; 
        justify-content: flex-start !important;
        padding: 10px 25px !important; 
        margin: 0 !important;
        transform: none !important;
        gap: 25px !important; 
    }
    
    .header-avatar-img {
        width: 48px !important;
        height: 48px !important;
        border: 2px solid rgba(255,255,255,0.8) !important;
    }

    .profile-text-content {
        display: flex !important;
        flex-direction: column !important;
        align-items: flex-start !important;
        justify-content: center !important;
        gap: 2px !important;
    }

    .mobile-header .profile-name {
        font-size: 1.7em !important; 
        font-weight: 800 !important; 
        line-height: 1.1 !important;
        color: #FFFFFF !important;
        text-transform: none !important; 
    }

    .mobile-header .profile-balance-box .balance {
        font-size: 1.3em !important; 
        font-weight: 500 !important; 
        opacity: 0.9 !important; 
        color: #FFFFFF !important;
    }
    
    .notification-wrapper { flex-shrink: 0; }
    
    .guest-header-actions {
        width: 100%;
        flex-direction: row !important;
        gap: 10px !important;
    }
}

/* =========================================
   2. КАРТОЧКИ ИГР (ICE & GRADIENTS & BLUR)
   ========================================= */

.game-cards-list {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 15px;
    padding: 0 15px;
    max-width: 800px;
    margin: 0 auto;
}

.lobby-game-wrapper {
    position: relative;
    width: 100%;
}

@keyframes ice-shimmer {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
}

/* Основной стиль карточки */
.lobby-game-card {
    width: 100% !important;
    height: 140px !important; 
    aspect-ratio: auto !important;
    border-radius: var(--card-radius) !important;
    border: 3px solid transparent !important;
    
    /* Дефолтный фон (если не переопределен) */
    background-image: 
        linear-gradient(var(--bg-card), var(--bg-card)), 
        linear-gradient(135deg, var(--ice-white) 0%, var(--ice-light) 25%, var(--ice-deep) 50%, var(--ice-light) 75%, var(--ice-white) 100%) !important;
    
    background-origin: padding-box, border-box !important;
    background-clip: padding-box, border-box !important;
    background-size: 100% 100%, 200% 200% !important;
    
    animation: ice-shimmer 4s ease infinite !important;
    box-shadow: 0 4px 15px rgba(34, 211, 238, 0.25), inset 0 0 20px rgba(165, 243, 252, 0.1) !important;
    
    position: relative;
    overflow: hidden;
    transition: transform 0.2s ease, box-shadow 0.2s ease !important;
    margin-bottom: 0 !important;
}

/* --- УНИКАЛЬНЫЕ ГРАДИЕНТЫ ДЛЯ ИГР --- */

/* DICE - Приятный голубой/индиго */
.lobby-game-wrapper[data-game-type="dice"] .lobby-game-card {
    background-image: 
        linear-gradient(135deg, #EEF2FF 0%, #E0E7FF 100%), /* Внутренний фон */
        linear-gradient(135deg, var(--ice-white) 0%, var(--ice-light) 25%, var(--ice-deep) 50%, var(--ice-light) 75%, var(--ice-white) 100%) !important; /* Обводка */
}

/* MINES - Приятный мятный/зеленый */
.lobby-game-wrapper[data-game-type="mines"] .lobby-game-card {
    background-image: 
        linear-gradient(135deg, #F0FDF4 0%, #D1FAE5 100%), 
        linear-gradient(135deg, var(--ice-white) 0%, var(--ice-light) 25%, var(--ice-deep) 50%, var(--ice-light) 75%, var(--ice-white) 100%) !important;
}

/* KENO - Приятный лавандовый/розовый */
.lobby-game-wrapper[data-game-type="keno"] .lobby-game-card {
    background-image: 
        linear-gradient(135deg, #FAF5FF 0%, #F3E8FF 100%), 
        linear-gradient(135deg, var(--ice-white) 0%, var(--ice-light) 25%, var(--ice-deep) 50%, var(--ice-light) 75%, var(--ice-white) 100%) !important;
}


.lobby-game-card:hover {
    transform: translateY(-3px) !important;
    box-shadow: 0 8px 25px rgba(34, 211, 238, 0.4) !important;
}
.lobby-game-card:active {
    transform: translateY(2px) !important;
    box-shadow: none !important;
}

/* Ледяной уголок */
.lobby-game-card::after {
    content: '';
    position: absolute;
    top: 0;
    right: 0;
    width: 45px;
    height: 45px;
    background: linear-gradient(135deg, var(--ice-white) 0%, var(--ice-light) 25%, var(--ice-deep) 50%, var(--ice-light) 75%, var(--ice-white) 100%) !important;
    background-size: 200% 200% !important;
    animation: ice-shimmer 4s ease infinite !important;
    border-top-right-radius: 20px;
    z-index: 10;
    clip-path: polygon(100% 0, 0 0, 100% 100%);
    box-shadow: none !important;
}

/* --- ОБЩИЙ СТИЛЬ КАРТИНКИ --- */
.game-card-cat {
    width: auto !important;
    object-fit: contain;
    position: absolute;
    top: 50%;
    left: 50%;
    z-index: 1;
    filter: drop-shadow(0 4px 6px rgba(0,0,0,0.1));
}

/* --- КОНФИГУРАЦИЯ ИЗОБРАЖЕНИЙ ПОКАРТОЧНО --- */

/* Dice */
.lobby-game-wrapper[data-game-type="dice"] .game-card-cat {
    height: var(--img-size-dice) !important;
    transform: translate(calc(-50% + var(--img-x-dice)), calc(-50% + var(--img-y-dice))) !important;
}
.lobby-game-wrapper[data-game-type="dice"]:hover .game-card-cat {
    transform: translate(calc(-50% + var(--img-x-dice)), calc(-50% + var(--img-y-dice))) scale(1.1) !important;
}

/* Mines */
.lobby-game-wrapper[data-game-type="mines"] .game-card-cat {
    height: var(--img-size-mines) !important;
    transform: translate(calc(-50% + var(--img-x-mines)), calc(-50% + var(--img-y-mines))) !important;
}
.lobby-game-wrapper[data-game-type="mines"]:hover .game-card-cat {
    transform: translate(calc(-50% + var(--img-x-mines)), calc(-50% + var(--img-y-mines))) scale(1.1) !important;
}

/* Keno */
.lobby-game-wrapper[data-game-type="keno"] .game-card-cat {
    height: var(--img-size-keno) !important;
    transform: translate(calc(-50% + var(--img-x-keno)), calc(-50% + var(--img-y-keno))) !important;
}
.lobby-game-wrapper[data-game-type="keno"]:hover .game-card-cat {
    transform: translate(calc(-50% + var(--img-x-keno)), calc(-50% + var(--img-y-keno))) scale(1.1) !important;
}

/* Crash */
.lobby-game-wrapper[data-game-type="crash"] .game-card-cat {
    height: var(--img-size-crash) !important;
    transform: translate(calc(-50% + var(--img-x-crash)), calc(-50% + var(--img-y-crash))) !important;
}
.lobby-game-wrapper[data-game-type="crash"]:hover .game-card-cat {
    transform: translate(calc(-50% + var(--img-x-crash)), calc(-50% + var(--img-y-crash))) scale(1.1) !important;
}

/* Coin */
.lobby-game-wrapper[data-game-type="coin"] .game-card-cat {
    height: var(--img-size-coin) !important;
    transform: translate(calc(-50% + var(--img-x-coin)), calc(-50% + var(--img-y-coin))) !important;
}
.lobby-game-wrapper[data-game-type="coin"]:hover .game-card-cat {
    transform: translate(calc(-50% + var(--img-x-coin)), calc(-50% + var(--img-y-coin))) scale(1.1) !important;
}

/* Sleepy */
.lobby-game-wrapper[data-game-type="sleepy"] .game-card-cat {
    height: var(--img-size-sleepy) !important;
    transform: translate(calc(-50% + var(--img-x-sleepy)), calc(-50% + var(--img-y-sleepy))) !important;
}
.lobby-game-wrapper[data-game-type="sleepy"]:hover .game-card-cat {
    transform: translate(calc(-50% + var(--img-x-sleepy)), calc(-50% + var(--img-y-sleepy))) scale(1.1) !important;
}

/* Wheel */
.lobby-game-wrapper[data-game-type="wheel"] .game-card-cat {
    height: var(--img-size-wheel) !important;
    transform: translate(calc(-50% + var(--img-x-wheel)), calc(-50% + var(--img-y-wheel))) !important;
}
.lobby-game-wrapper[data-game-type="wheel"]:hover .game-card-cat {
    transform: translate(calc(-50% + var(--img-x-wheel)), calc(-50% + var(--img-y-wheel))) scale(1.1) !important;
}


/* Название игры */
.game-card-panel {
    position: absolute;
    bottom: 8px;
    left: 8px;
    right: 8px;
    background-color: rgba(255, 255, 255, 0.85) !important;
    backdrop-filter: blur(4px);
    border: 1px solid var(--border-color) !important;
    border-radius: 12px !important;
    padding: 4px !important;
    text-align: center;
    z-index: 2;
    pointer-events: none;
}

.game-card-title {
    font-size: 0.85em !important;
    font-weight: 800 !important;
    color: var(--color-primary) !important;
    text-transform: uppercase;
}

/* --- COMING SOON И БЛЮР --- */

.lobby-game-wrapper.locked-game {
    opacity: 1 !important; /* Убираем прозрачность блока */
    filter: none !important; /* Убираем ч/б фильтр */
}

/* Сама карточка светлая, не серая */
.lobby-game-wrapper.locked-game .lobby-game-card {
    background: #E0E7FF !important; /* Легкий голубой оттенок */
    border: 2px solid #C7D2FE !important; /* Рамка */
    animation: none !important; 
    box-shadow: none !important;
    cursor: not-allowed;
    overflow: hidden; /* Важно для обрезки блюра */
}

/* Блюрим ТОЛЬКО картинку внутри */
.lobby-game-wrapper.locked-game .game-card-cat {
    filter: blur(8px) grayscale(0.3) !important; /* Сильный блюр + немного серости */
    opacity: 0.6 !important; /* Полупрозрачность */
}

/* Убираем ледяной уголок у закрытых (или делаем его простым) */
.lobby-game-wrapper.locked-game .lobby-game-card::after {
    display: none !important;
}

/* Текст COMING SOON поверх всего */
.lobby-game-wrapper.locked-game .lobby-game-card::before {
    content: 'COMING SOON';
    position: absolute;
    top: 50%; /* Идеальный центр */
    left: 50%;
    transform: translate(-50%, -50%);
    z-index: 10;
    width: 100%; /* На всю ширину для гарантии центровки */
    
    font-size: 1.4em;
    font-weight: 900;
    color: var(--color-primary); /* Индиго */
    text-transform: uppercase;
    text-align: center;
    white-space: nowrap;
    
    /* Обводка текста для читаемости */
    text-shadow: 
        0 2px 0 #fff,
        0 -1px 0 #fff,
        1px 0 0 #fff,
        -1px 0 0 #fff,
        0 0 10px rgba(255,255,255,0.8);
        
    filter: none !important; /* Текст должен быть четким */
}

/* --- ОСТАЛЬНЫЕ СТИЛИ ИНТЕРФЕЙСА (Индиго) --- */
.dice-controls, .mines-controls-panel, .crash-controls-panel, .coin-controls-panel, .keno-controls-ref-style {
    background-color: var(--bg-panel) !important;
    border: 1px solid var(--border-color-dark) !important;
    border-radius: 16px !important;
    box-shadow: 0 4px 15px rgba(79, 70, 229, 0.1) !important;
}

.primary-button, .auth-button, .wallet-deposit-button, .wallet-withdrawal-button, #mines-start-button, #crash-start-button, #coin-start-button, #keno-play-button, #wheel-spin-button {
    background-color: var(--color-primary) !important;
    color: #FFFFFF !important;
    border-radius: 12px !important;
    box-shadow: 0 4px 0 #3730A3 !important;
}

input[type="text"], input[type="number"], input[type="password"] {
    background-color: var(--bg-input) !important;
    border: 2px solid var(--border-color) !important;
    color: var(--text-main) !important;
}
input:focus { border-color: var(--color-primary) !important; }

.lobby-header { text-align: left !important; }
.game-list-title {
    font-size: 0.95em !important;
    font-weight: 700 !important;
    color: #1E1B4B !important; 
    text-transform: none !important;
    text-align: left !important;
    margin-left: 5px !important;
    padding: 0 !important;
    letter-spacing: 0.5px !important; 
    text-shadow: none !important;
    display: flex !important;
    align-items: center;
}
.game-list-title::after { display: none !important; }

@media (max-width: 768px) {
    .lobby-header { text-align: left !important; }
    .game-list-title { font-size: 0.9em !important; text-align: left !important; }
}

.bottom-nav {
    background-color: var(--color-primary) !important;
    border-top: 1px solid rgba(255, 255, 255, 0.1) !important;
}
.bottom-nav-item { color: rgba(255, 255, 255, 0.7) !important; }
.bottom-nav-item .nav-icon { filter: brightness(0) invert(1) !important; opacity: 0.7 !important; }
.bottom-nav-item.active { color: #FFFFFF !important; }
.bottom-nav-item.active .nav-icon { opacity: 1 !important; filter: brightness(0) invert(1) drop-shadow(0 0 5px rgba(255,255,255,0.5)) !important; }

.sidebar-nav, .wallet-modal-content {
    background-color: var(--bg-main) !important;
    color: var(--text-main) !important;
}

.sidebar-links a {
    color: var(--color-primary) !important;
    font-weight: 800 !important;
    background-color: rgba(79, 70, 229, 0.05) !important; 
    border: 1px solid var(--border-color) !important;
    margin-bottom: 10px; 
}
.sidebar-links a:hover {
    color: var(--color-primary-hover) !important;
    background-color: var(--bg-panel) !important; 
    border-color: var(--color-primary) !important;
}

.quest-button {
    background-color: var(--color-primary) !important;
    color: #FFFFFF !important;
    box-shadow: 0 3px 0 #3730A3 !important;
}
.quest-button:hover { background-color: var(--color-primary-hover) !important; }

#profile-page .profile-container {
    background-color: var(--text-main) !important;
    color: #FFFFFF !important;
    border: 1px solid var(--color-primary) !important;
    box-shadow: 0 4px 20px rgba(30, 27, 75, 0.5) !important;
}
#profile-page .profile-box {
    background-color: rgba(0, 0, 0, 0.4) !important;
    border: 1px solid rgba(255, 255, 255, 0.1) !important;
    color: #FFFFFF !important;
}
.profile-link, .profile-subheader, #profile-page label {
    color: #FFFFFF !important;
    opacity: 0.9 !important;
}
#profile-page .profile-form .form-group input {
    background-color: rgba(255, 255, 255, 0.1) !important;
    border: 1px solid rgba(255, 255, 255, 0.2) !important;
    color: #FFFFFF !important;
}
#profile-page .profile-form .form-group input::placeholder {
    color: rgba(255, 255, 255, 0.5) !important;
}
.social-link-button {
    background-color: rgba(0, 0, 0, 0.4) !important;
    border: 1px solid rgba(255, 255, 255, 0.1) !important;
    color: #FFFFFF !important;
}
.social-link-button:hover { background-color: rgba(255, 255, 255, 0.1) !important; }
.profile-form .auth-button { background-color: var(--color-primary) !important; }

#ranks-page .rank-card-wrapper {
    background-color: var(--text-main) !important;
    color: #FFFFFF !important;
    border: 1px solid rgba(255, 255, 255, 0.1) !important;
}
.rank-card__title { color: #FFFFFF !important; }
.rank-card__info-item {
    color: rgba(255, 255, 255, 0.8) !important;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1) !important;
}
.rank-card__info-item strong { color: #FFFFFF !important; }
.rank-card-wrapper.current {
    background-color: var(--text-main) !important;
    border: 2px solid var(--color-orange) !important;
    box-shadow: 0 0 15px rgba(245, 166, 35, 0.3) !important;
}

.bonus-display-box {
    background-color: var(--text-main) !important;
    color: #FFFFFF !important;
    border: 1px solid var(--color-primary) !important;
    box-shadow: 0 8px 20px rgba(30, 27, 75, 0.4) !important;
}
#bonus-amount-display, #bonus-page-text { color: #FFFFFF !important; text-shadow: none !important; }
.bonus-display-box .currency { color: rgba(255,255,255,0.7) !important; }

.weekly-bonus-item {
    background-color: var(--text-main) !important;
    color: #FFFFFF !important;
    border: 1px solid rgba(255,255,255,0.1) !important;
}
.weekly-bonus-title, .weekly-bonus-value { color: #FFFFFF !important; }

.quest-box {
    background-color: var(--text-main) !important;
    color: #FFFFFF !important;
    border: 1px solid rgba(255,255,255,0.1) !important;
}
.quest-title, .quest-subtitle, .quest-text, .quest-text a { color: #FFFFFF !important; }
.quest-subtitle, .quest-text small { opacity: 0.7 !important; }
.quest-status-icon.status-pending { color: rgba(255,255,255,0.5) !important; }

.promocode-header { color: var(--text-main) !important; }
.promocode-box { background-color: var(--bg-panel) !important; }

.admin-container { background-color: var(--color-primary) !important; color: #FFFFFF !important; }
#admin-tabs .ref-tab { color: rgba(255, 255, 255, 0.7) !important; }
#admin-tabs .ref-tab.active { color: #FFFFFF !important; border-bottom-color: #FFFFFF !important; }
#admin-tabs .ref-tab.active::after { background-color: #FFFFFF !important; }
#admin-page .form-group label { color: #FFFFFF !important; }
.admin-user-table tr, .admin-user-table th, .admin-user-table td { border-color: rgba(255, 255, 255, 0.2) !important; color: #FFFFFF !important; }
@media (max-width: 768px) {
    .admin-user-table tr { background-color: var(--text-main) !important; border-color: rgba(255, 255, 255, 0.2) !important; }
}

/* --- ПАРТНЕРКА (ТЕМНО-СИНИЙ ФОН) --- */
.ref-container {
    background-color: var(--text-main) !important; /* #1E1B4B */
    color: #FFFFFF !important;
}

.ref-subheader, .ref-manager-link, .ref-link-box label, .ref-form-header { color: #FFFFFF !important; opacity: 0.9 !important; }

/* ЗАДАЧА 1: "Мои Каналы" и "Мои Промокоды" - БЕЛЫЕ */
.ref-list-header {
    color: #FFFFFF !important;
    font-weight: 800 !important;
}

/* ЗАДАЧА 2: Ссылка RevShare - ИНДИГО (Исправление) */
.ref-link {
    color: #4F46E5 !important; /* Indigo */
    text-decoration: underline;
    font-weight: 800 !important;
}

/* Ссылка на менеджера - Оставляем БЕЛОЙ (как просили ранее) */
.ref-manager-link a {
    color: #FFFFFF !important;
    text-decoration: underline;
    font-weight: 800 !important;
}

/* Текст внутри инпута ссылки */
#ref-link-input {
    color: #4F46E5 !important; /* Indigo */
    font-weight: bold !important;
}

/* ЗАДАЧА 3: Обводка разделов (Индиго) и темный фон */
.ref-link-box, /* Ваша ссылка */
.ref-table-wrapper, /* Таблицы (Рефералы/Промокоды) */
.ref-form /* Формы создания */
{
    background-color: rgba(30, 27, 75, 0.5) !important; /* Полупрозрачный темный */
    border: 2px solid var(--color-primary) !important; /* Индиго обводка */
}

/* Кнопка "Копировать" - ИНДИГО */
#ref-copy-button {
    background-color: #4F46E5 !important; /* Индиго */
    color: #FFFFFF !important;
    border: none !important;
    box-shadow: 0 4px 0 #3730A3 !important; /* Тень */
}
#ref-copy-button:active {
    box-shadow: 0 2px 0 #3730A3 !important;
    transform: translateY(2px);
}

/* Остальные стили партнерки */
.ref-tabs .ref-tab { color: rgba(255, 255, 255, 0.7) !important; }
.ref-tabs .ref-tab.active { color: #FFFFFF !important; }
.ref-tabs .ref-tab.active::after { background-color: #FFFFFF !important; }
.ref-subtab { background-color: rgba(0, 0, 0, 0.2) !important; color: rgba(255, 255, 255, 0.7) !important; }
.ref-subtab.active { background-color: var(--text-main) !important; color: #FFFFFF !important; }
/* --- КОНЕЦ ПАРТНЕРКИ --- */

.faq-container { gap: 10px; }
.faq-item .faq-question { background-color: var(--color-primary) !important; color: #FFFFFF !important; border: 1px solid rgba(255, 255, 255, 0.1) !important; transition: background-color 0.3s ease; border-radius: 8px; }
.faq-item.active .faq-question { background-color: var(--color-primary) !important; border-radius: 8px 8px 0 0; border-bottom: none !important; }
.faq-item { background-color: transparent !important; border: none !important; }
.faq-icon { color: #FFFFFF !important; }
.faq-answer-content { background-color: var(--text-main) !important; color: #FFFFFF !important; border: 1px solid rgba(255, 255, 255, 0.1) !important; border-top: none !important; border-radius: 0 0 8px 8px; padding: 20px; }
.faq-answer-content p { opacity: 0.9; }
.faq-answer-content a { color: var(--color-primary) !important; text-decoration: underline !important; font-weight: bold !important; }

/* =========================================
   2. КОШЕЛЕК (BUTTONS, TABS, HISTORY)
   ========================================= */

/* 1. Кнопки методов оплаты (FK, Piastrix, SBP) */
.wallet-method-button {
    background-color: #1E1B4B !important; /* Темно-синий фон */
    border: 1px solid var(--color-primary) !important; /* Индиго обводка */
    border-radius: 8px !important; /* На всякий случай */
}

/* При наведении */
.wallet-method-button:hover {
    background-color: #2D2A5E !important; /* Чуть светлее темно-синий */
    border-color: var(--color-primary) !important;
}

/* Активная кнопка (выбранная) */
.wallet-method-button.active {
    background-color: #1E1B4B !important; 
    border-color: var(--color-primary) !important;
    box-shadow: 0 0 15px var(--color-primary) !important; /* Индиго свечение */
}

/* 2. Полоска и свечение вкладок */
.wallet-tab.active::after {
    background-color: var(--color-primary) !important; /* Индиго полоска */
    box-shadow: 0 0 10px var(--color-primary) !important; /* Индиго свечение */
    height: 2px !important; /* Тонкая полоска */
    bottom: 0 !important;
}
/* Убираем border-bottom у самого элемента, чтобы не двоилось с ::after */
.wallet-tab.active {
    border-bottom: none !important; /* Полагаемся на ::after для свечения */
    color: var(--color-primary) !important;
    opacity: 1;
}
.wallet-tab { 
    color: var(--color-primary) !important; 
    opacity: 0.6; 
}

/* ЗАДАЧА 1: ФОН МОДАЛКИ КОШЕЛЬКА */
.wallet-modal-content {
    /* Изменено на насыщенный темно-синий */
    background-color: #1E1B4B !important; 
    color: var(--text-main) !important;
}

/* ЗАДАЧА 2 & 3: ЦВЕТ ТЕКСТА ЗАГОЛОВКОВ (LABELS) В КОШЕЛЬКЕ */
.wallet-form .form-group label {
    color: #FFFFFF !important; /* Белый цвет принудительно */
    font-weight: 700 !important;
}

.high-win-card { width: 125px !important; min-width: 125px !important; background: var(--text-main) !important; border: 2px solid var(--color-primary) !important; box-shadow: 0 0 10px var(--color-primary) !important; padding: 0 !important; border-radius: 14px !important; animation: none !important; }
.history-item-content { background-color: transparent !important; padding: 10px 5px !important; gap: 5px !important; }
.history-game-img-icon { height: 35px !important; width: 35px !important; filter: drop-shadow(0 0 5px rgba(255,255,255,0.3)); }
.history-user { font-size: 0.85em !important; color: #FFFFFF !important; }
.history-multiplier-tag { background-color: rgba(79, 70, 229, 0.2) !important; color: #FFFFFF !important; border-color: var(--color-primary) !important; box-shadow: none !important; }
.history-amount.win { font-size: 1.1em !important; color: #00FF99 !important; text-shadow: 0 0 5px rgba(0, 255, 153, 0.4); }

.snow-toggle-wrapper { display: flex; align-items: center; justify-content: space-between; background-color: rgba(0, 0, 0, 0.4) !important; padding: 15px 20px; border-radius: 8px; margin-bottom: 15px; border: 1px solid rgba(255, 255, 255, 0.1) !important; }
.snow-toggle-label { font-weight: bold; color: #FFFFFF !important; }

.dice-input-group { background-color: #FFFFFF !important; border: 2px solid #E0E7FF !important; box-shadow: 0 4px 10px rgba(0,0,0,0.05) !important; }
.dice-input-group input[type="number"] { background-color: #F3F4F6 !important; color: #111827 !important; border-color: #D1D5DB !important; }
.dice-input-group label { color: #4B5563 !important; }
.dice-input-group .bet-actions-grid button { background-color: #E5E7EB !important; color: #374151 !important; border: 1px solid #D1D5DB !important; }
.dice-input-group .bet-actions-grid button:hover { background-color: #D1D5DB !important; }

.game-history-item { background-color: rgba(79, 70, 229, 0.05) !important; border: 1px solid rgba(79, 70, 229, 0.1) !important; border-radius: 8px !important; margin-bottom: 5px !important; }
.history-cell.user { color: #9CA3AF !important; font-weight: 600 !important; }
.history-cell.bet { color: #9CA3AF !important; }
.game-history-item.win .history-cell.payout { color: #00A878 !important; }
.game-history-item.loss .history-cell.payout { color: #FF5555 !important; }

.mines-multiplier-item { background-color: #FFFFFF !important; border: 1px solid var(--color-border-dark) !important; }
.mines-multiplier-item .multiplier-value { color: var(--color-primary) !important; }
.mines-multiplier-item .step-label { color: #9CA3AF !important; }
.mines-multiplier-item.active { background-color: var(--color-primary) !important; }
.mines-multiplier-item.active .multiplier-value, .mines-multiplier-item.active .step-label { color: #FFFFFF !important; }

.mines-grid-wrapper { background-color: transparent !important; border: none !important; box-shadow: none !important; padding: 0 !important; }
.mine-cell { border: none !important; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.15) !important; background-color: #F3F4F6 !important; }
.mine-cell:hover { transform: translateY(-2px); box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2) !important; }
.mine-cell.bomb { background-color: #FF5555 !important; color: #FFFFFF !important; }
.mine-cell.safe { background-color: #FFFFFF !important; }
#mines-main-button { background: var(--color-primary) !important; color: #FFFFFF !important; box-shadow: 0 4px 0 #3730A3 !important; }
#mines-main-button:active { box-shadow: 0 2px 0 #3730A3 !important; transform: translateY(2px); }

.mines-controls-panel { background-color: transparent !important; border: none !important; box-shadow: none !important; padding: 0 !important; }
#mines-game .keno-controls-ref-style .keno-input-wrapper { background-color: #FFFFFF !important; border: 2px solid var(--color-border-dark) !important; box-shadow: 0 4px 10px rgba(0,0,0,0.05) !important; }
#mines-game .keno-controls-ref-style .keno-input-wrapper input { background-color: transparent !important; color: var(--text-main) !important; outline: none !important; }
#mines-game .keno-controls-ref-style .keno-input-wrapper .currency-icon { color: var(--text-main) !important; opacity: 0.7; }
#mines-game .keno-controls-ref-style .bet-half, #mines-game .keno-controls-ref-style .bet-double, .mines-count-btn, .mines-custom-input { background-color: #1E1B4B !important; color: #FFFFFF !important; border: 1px solid #1E1B4B !important; border-radius: 8px !important; }
#mines-game .keno-controls-ref-style .bet-half:hover, #mines-game .keno-controls-ref-style .bet-double:hover, .mines-count-btn:hover { background-color: #2D2A5E !important; opacity: 1; }
.mines-count-btn.active { border: 2px solid var(--color-primary) !important; box-shadow: 0 0 10px var(--color-primary) !important; }
.mines-custom-input { background-color: #FFFFFF !important; border: 2px solid var(--color-border-dark) !important; }
.mines-custom-input input { color: var(--text-main) !important; background-color: transparent !important; outline: none !important; }
input:focus, button:focus { outline: none !important; box-shadow: none !important; }
#mines-game .keno-controls-ref-style .keno-input-wrapper:focus-within { border-color: var(--color-primary) !important; }
.per-game-history-list { background-color: transparent !important; border: none !important; box-shadow: none !important; }

.visual-history-content { width: 95%; max-width: 400px; background-color: #3D4654; color: #FFFFFF; padding: 20px; border-radius: 16px; display: flex; flex-direction: column; gap: 15px; border: 1px solid var(--color-primary); box-shadow: 0 0 20px rgba(79, 70, 229, 0.2); }
.visual-grid-container { background-color: rgba(30, 33, 40, 0.5); border-radius: 12px; padding: 10px; margin: 0 auto; width: 100%; display: grid; justify-content: center; }
.mines-visual { grid-template-columns: repeat(5, 1fr); gap: 5px; aspect-ratio: 1 / 1; overflow: hidden; position: relative; }
.visual-cell.mine-cell img.mine-cell-icon { width: 80% !important; height: 80% !important; max-width: 100% !important; max-height: 100% !important; object-fit: contain !important; position: static !important; }
.visual-cell.mine-cell { border-radius: 6px; display: flex; justify-content: center; align-items: center; font-size: 1.2em; aspect-ratio: 1 / 1; box-shadow: inset 0 0 5px rgba(0,0,0,0.2); }
.visual-cell.mine-cell.safe-opened { background-color: #00A878 !important; color: #FFF; box-shadow: 0 0 10px rgba(0, 168, 120, 0.5); }
.visual-cell.mine-cell.safe-closed { background-color: #FFFFFF !important; color: #000; }
.visual-cell.mine-cell.bomb { background-color: #FF5555 !important; color: #FFF; box-shadow: 0 0 10px rgba(255, 85, 85, 0.5); }
.keno-visual { grid-template-columns: repeat(8, 1fr); gap: 4px; }
.visual-cell.keno-cell { background-color: #2E3035; border-radius: 6px; display: flex; justify-content: center; align-items: center; font-weight: bold; font-size: 0.8em; color: rgba(255,255,255,0.5); aspect-ratio: 1 / 1; overflow: hidden; position: relative; }
.visual-cell.keno-cell img.keno-cell-icon { width: 80% !important; height: 80% !important; object-fit: contain !important; position: static !important; }
.visual-cell.keno-cell.miss { background-color: var(--color-primary) !important; color: #FFF; opacity: 1; box-shadow: 0 0 5px var(--color-primary); }
.visual-cell.keno-cell.hit { background-color: #00A878 !important; color: transparent; box-shadow: 0 0 10px rgba(0, 168, 120, 0.6); opacity: 1; }
.visual-cell.keno-cell.drawn-history { background-color: #4B5563 !important; color: #FFF; opacity: 0.7; }
.dice-visual-box div { color: var(--color-primary) !important; }
.dice-visual-bar-container { width: 100%; height: 16px; background-color: #E0E7FF !important; border-radius: 8px; overflow: hidden; position: relative; border: 1px solid var(--color-primary); }
.dice-visual-bar-fill { height: 100%; background: linear-gradient(90deg, #4F46E5, #6366F1) !important; border-radius: 8px; transition: width 0.5s ease; box-shadow: 0 0 10px rgba(79, 70, 229, 0.5); }
.visual-history-footer { display: flex; flex-direction: column; gap: 8px; border-top: 1px solid rgba(255,255,255,0.1); padding-top: 15px; }
.vh-row { display: flex; justify-content: space-between; font-size: 0.95em; align-items: flex-start; }
.vh-row span { color: var(--color-primary) !important; font-weight: bold; }
.vh-row strong { color: var(--color-primary) !important; text-align: right; }
.vh-row.result-row strong { color: var(--color-primary) !important; }
#vh-extra-value { line-height: 1.4; }

#keno-grid .keno-cell { background-color: #2E3035 !important; border: 1px solid #373D49 !important; color: rgba(255, 255, 255, 0.6) !important; border-radius: 8px !important; box-shadow: inset 0 -2px 0 rgba(0,0,0,0.3) !important; }
#keno-grid .keno-cell:hover { background-color: #3D4654 !important; transform: translateY(-1px); }
#keno-grid .keno-cell.selected { background-color: var(--color-primary) !important; color: #fff !important; border-color: var(--color-primary) !important; box-shadow: 0 0 10px var(--color-primary) !important; opacity: 1 !important; }
#keno-grid .keno-cell.hit { background-color: var(--color-secondary) !important; border-color: var(--color-secondary) !important; color: #fff !important; }
#keno-autopick-button { color: #1E1B4B !important; border-color: #1E1B4B !important; }
#keno-autopick-button:hover { background-color: rgba(30, 27, 75, 0.05) !important; }
#keno-play-button, #keno-auto-start-button { background: #4F46E5 !important; color: #FFFFFF !important; box-shadow: 0 4px 0 #3730A3 !important; }
#keno-play-button:active, #keno-auto-start-button:active { box-shadow: 0 2px 0 #3730A3 !important; transform: translateY(2px); }
#keno-game .keno-bet-input-row .keno-input-wrapper { background-color: #FFFFFF !important; border: 2px solid #E0E7FF !important; }
#keno-game .keno-bet-input-row .keno-input-wrapper input { color: #1E1B4B !important; }
#keno-game .keno-bet-input-row .keno-input-wrapper .currency-icon { color: #1E1B4B !important; opacity: 0.5; }
#keno-clear-button, #keno-turbo-button, #keno-game .bet-half, #keno-game .bet-double { background-color: #1E1B4B !important; color: #FFFFFF !important; border: 1px solid #1E1B4B !important; }
#keno-turbo-button img, #keno-clear-button img { filter: brightness(0) invert(1) !important; opacity: 0.8; }
#keno-turbo-button.active img { filter: none !important; opacity: 1 !important; filter: drop-shadow(0 0 5px var(--color-orange)) !important; }
#keno-game .bet-half:hover, #keno-game .bet-double:hover, #keno-clear-button:hover, #keno-turbo-button:hover { background-color: #312E81 !important; }
.keno-risk-selector { background-color: transparent !important; gap: 8px !important; }
.keno-risk-btn { background-color: #1E1B4B !important; color: #FFFFFF !important; opacity: 0.6 !important; border-radius: 8px !important; border: none !important; }
.keno-risk-btn.active { opacity: 1 !important; background-color: #4F46E5 !important; box-shadow: 0 0 15px rgba(79, 70, 229, 0.6) !important; transform: scale(1.05); }

.bell-icon { width: 36px !important; height: 36px !important; }
.notif-btn { width: 40px !important; height: 40px !important; }
.notif-badge { top: 5px !important; right: 5px !important; font-size: 0.9em !important; min-width: 20px !important; height: 20px !important; border-radius: 10px !important; }
@media (max-width: 768px) {
    #header-notif-box { position: absolute !important; top: 25% !important; right: 10px !important; transform: translateY(-50%) !important; z-index: 100 !important; }
    .header-user-group { padding-right: 70px !important; }
    .mobile-header { overflow: visible !important; }
}

.header-wallet-btn { display: flex; align-items: center; justify-content: center; gap: 5px; background-color: rgba(255, 255, 255, 0.15); border: 1px solid rgba(255, 255, 255, 0.2); border-radius: 8px; padding: 6px 10px; cursor: pointer; transition: all 0.2s ease; margin-left: auto; }
.header-wallet-btn:hover { background-color: rgba(255, 255, 255, 0.25); transform: translateY(-1px); }
.header-wallet-btn:active { transform: translateY(1px); }
.header-wallet-btn img { width: 20px; height: 20px; object-fit: contain; filter: brightness(0) invert(1); }
.wallet-btn-plus { color: #FFFFFF; font-weight: 900; font-size: 1.2em; line-height: 1; }
@media (max-width: 768px) {
    .header-wallet-btn { padding: 8px 12px; }
    .header-wallet-btn img { width: 22px; height: 22px; }
}

#theme-toggle-btn {
    color: #FFFFFF !important;
}

/* Stop button style (Keno/General) */
.keno-big-play-btn.stop-mode {
    background-color: var(--bg-input) !important;
    color: var(--text-muted) !important;
}

/* 4. Profile Rank Text -> Indigo */
#profile-rank {
    color: var(--color-primary) !important; /* Indigo */
    font-weight: 900 !important;
}

/* 2. Bonus Quest Links Underline -> Indigo (KEEP THIS) */
.quest-text a {
    text-decoration-color: var(--color-primary) !important;
}

/* =========================================
   20. USER CARD IN PROFILE (PREMIUM DARK BLUE REDESIGN)
   ========================================= */

.user-info-card {
    display: flex;
    align-items: center;
    /* Глубокий темно-синий градиент с легкой прозрачностью */
    background: linear-gradient(135deg, rgba(30, 27, 75, 0.95) 0%, rgba(49, 46, 129, 0.9) 100%) !important;
    /* Эффект матового стекла */
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    /* Тонкая ледяная рамка */
    border: 1px solid rgba(255, 255, 255, 0.15) !important;
    /* Глубокая мягкая тень */
    box-shadow: 0 15px 35px rgba(30, 27, 75, 0.25) !important;
    border-radius: 24px; /* Более скругленные углы */
    padding: 25px;
    margin-bottom: 25px;
    gap: 25px;
    position: relative;
    overflow: hidden;
}

/* Легкий блик сверху для объема */
.user-info-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(to bottom, rgba(255,255,255,0.05) 0%, transparent 100%);
    pointer-events: none;
}

/* Левая часть (Аватар + Кнопка) */
.user-info-left {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 15px;
    flex-shrink: 0;
    position: relative;
    z-index: 2;
}

.profile-large-avatar {
    width: 110px;
    height: 110px;
    border-radius: 50%;
    /* Более выразительная рамка с свечением */
    border: 4px solid var(--color-primary);
    box-shadow: 0 0 20px rgba(79, 70, 229, 0.4);
    object-fit: cover;
    cursor: pointer;
    transition: all 0.3s ease;
}
.profile-large-avatar:hover {
    transform: scale(1.05) rotate(2deg);
    box-shadow: 0 0 30px rgba(79, 70, 229, 0.6);
}

/* Правая часть (Инфо + Кнопка) */
.user-info-right {
    flex-grow: 1;
    display: flex;
    flex-direction: column;
    justify-content: center;
    gap: 8px;
    position: relative;
    z-index: 2;
}

#profile-username-display {
    color: var(--color-primary) !important; /* <-- ИЗМЕНЕНО НА INDIGO */
    font-size: 1.8em; /* Крупнее */
    font-weight: 900;
    margin: 0;
    letter-spacing: 0.5px;
    text-shadow: 0 2px 4px rgba(0,0,0,0.3); /* Тень текста */
}

.user-info-subtitle {
    font-size: 0.95em;
    color: #A5B4FC; /* Светлый индиго для контраста */
    font-weight: 500;
    margin-bottom: 12px;
}

/* --- Кнопки в карточке --- */

.user-info-card .auth-button {
    margin-top: 5px;
    width: fit-content;
    padding: 10px 20px;
    font-size: 0.95em;
    border-radius: 12px;
    transition: all 0.3s ease;
}

/* Маленькая кнопка "Выбрать аватар" - Контурный стиль */
.user-info-left .auth-button.small {
    font-size: 0.85em;
    padding: 6px 12px;
    background-color: transparent !important;
    border: 2px solid var(--color-primary) !important;
    color: var(--color-primary) !important;
    font-weight: 700;
    box-shadow: none !important;
}
.user-info-left .auth-button.small:hover {
    background-color: var(--color-primary) !important;
    color: #FFFFFF !important;
    box-shadow: 0 4px 15px rgba(79, 70, 229, 0.3) !important;
}

/* Главная кнопка "Сменить/Оплатить" - Градиентный стиль */
#profile-change-name-btn {
    background: linear-gradient(to right, var(--color-primary), #6366F1) !important;
    border: none !important;
    box-shadow: 0 4px 15px rgba(79, 70, 229, 0.4) !important;
    font-weight: 800;
    letter-spacing: 0.5px;
}
#profile-change-name-btn:hover {
    transform: translateY(-3px);
    box-shadow: 0 8px 25px rgba(79, 70, 229, 0.6) !important;
}

/* Адаптация для мобильных */
@media (max-width: 480px) {
    .user-info-card {
        flex-direction: column;
        text-align: center;
        padding: 20px;
        gap: 15px;
    }
    .user-info-right {
        align-items: center;
        width: 100%;
    }
    #profile-username-display {
        font-size: 1.5em;
    }
    .user-info-card .auth-button, 
    #profile-change-name-btn {
        width: 100%; /* Кнопки на всю ширину на мобилках */
        justify-content: center;
    }
}

/* =========================================
   21. STYLISH CUSTOMIZE MODAL TITLES
   ========================================= */

/* Заголовки в модальном окне кастомизации -> Темно-синие */
.customize-section-title {
    color: var(--text-main) !important; /* #1E1B4B */
    border-bottom: 1px solid var(--color-border-dark); /* Keep border */
    opacity: 1; /* Make sure it's fully visible */
}

/* =========================================
   22. CUSTOMIZE MODAL UPDATE (TASK: Dark Blue BG & Indigo Text)
   ========================================= */

.customize-modal-content {
    /* 1. Фон темно-синий */
    background-color: #1E1B4B !important; /* var(--text-main) */
    border: 1px solid var(--color-primary) !important; /* Индиго рамка для стиля */
    box-shadow: 0 10px 30px rgba(30, 27, 75, 0.6) !important;
}

.customize-section-title {
    /* 2. Надписи индиго */
    color: #4F46E5 !important; /* var(--color-primary) */
    border-bottom: 1px solid rgba(79, 70, 229, 0.3) !important; /* Индиго разделитель */
    opacity: 1 !important;
}

/* Также поправим кнопку закрытия, чтобы ее было видно на темном фоне */
#customize-modal-close {
    color: #FFFFFF !important;
}
#customize-modal-close:hover {
    color: #4F46E5 !important;
}

/* =========================================
   23. LOADER (INDIGO CAT)
   ========================================= */
   
#loader-overlay {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: var(--bg-main); /* Белый фон */
    z-index: 9999;
    display: flex;
    justify-content: center;
    align-items: center;
    transition: opacity 0.5s ease;
}

.loader-content {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 20px;
}

.drawing-cat {
    width: 150px; 
    height: 150px;
    overflow: visible;
}

.cat-lines line,
.cat-lines polyline {
    fill: none;
    stroke: var(--color-primary); /* Индиго */
    stroke-width: 1.5px; /* Чуть толще для видимости */
    stroke-linecap: round;
    stroke-linejoin: round;
    /* stroke-dasharray/offset задаются в JS */
}

@keyframes drawLine {
    to { stroke-dashoffset: 0; }
}

.loader-text {
    font-size: 1.2em;
    font-weight: 800;
    color: var(--color-primary);
    text-transform: uppercase;
    letter-spacing: 2px;
    animation: pulse 1.5s infinite;
}

@keyframes pulse {
    0% { opacity: 0.6; transform: scale(0.98); }
    50% { opacity: 1; transform: scale(1.02); }
    100% { opacity: 0.6; transform: scale(0.98); }
}