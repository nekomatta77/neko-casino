/*
 * style4.css
 * GLOBAL DARK THEME OVERHAUL (Основной приоритет)
 * Версия 4.8 - Sleepy Cat Update
 */

:root {
    /* --- НОВАЯ ГЛОБАЛЬНАЯ ПАЛИТРА (DARK MODE) --- */
    --bg-main: #1B1E24; 
    --bg-panel: #272B34;
    --bg-input: #131519; 
    
    --text-main: #E0E6ED;
    --text-muted: #94A3B8;
    
    --border-color: #373D49;
    
    --accent-orange: #F5A623;
    --accent-green: #00A878;
    --accent-blue: #4A90E2;
    --accent-red: #FF5555;
    
    /* Переопределение */
    --color-background: var(--bg-main);
    --color-sidebar: var(--bg-panel);
    --color-card: var(--bg-panel);
    --color-text: var(--text-main);
    --color-text-light: var(--text-main);
    --color-border: var(--border-color);
    --color-border-dark: var(--border-color);
    --balance-info-bg: var(--bg-input);
    
    --color-mine-closed: var(--bg-input);
}

/* =========================================
   1. ГЛОБАЛЬНЫЙ СБРОС И ФОН
   ========================================= */
body {
    background-color: var(--bg-main) !important;
    background-image: none !important;
    color: var(--text-main) !important;
}

::-webkit-scrollbar { width: 6px; height: 6px; }
::-webkit-scrollbar-track { background: var(--bg-main); }
::-webkit-scrollbar-thumb { background: var(--border-color); border-radius: 3px; }

h1, h2, h3, h4, h5, h6, p, span, div, a, li, label { color: var(--text-main); }
a:hover { color: var(--accent-orange); }

.game-list-title { color: var(--text-main) !important; }

/* "Большие выигрыши" - Золотой */
.bet-history-container h3 {
    font-size: 1.5em;
    font-weight: 900;
    margin-bottom: 15px;
    background: linear-gradient(to right, #F5A623, #FFD700, #F5A623) !important;
    -webkit-background-clip: text !important;
    background-clip: text !important;
    color: transparent !important;
    text-shadow: none !important;
}

hr, .lobby-divider, .hash-divider { background-color: var(--border-color) !important; opacity: 0.5; }

/* =========================================
   2. ЛОББИ И КАРТОЧКИ
   ========================================= */
.lobby-game-card {
    background-color: var(--bg-panel) !important;
    border: 3px solid transparent !important;
    background-image: 
        linear-gradient(var(--bg-panel), var(--bg-panel)), 
        linear-gradient(90deg, var(--accent-orange), #FFD700, var(--accent-orange)) !important;
    background-origin: padding-box, border-box !important;
    background-clip: padding-box, border-box !important;
    background-size: 100% 100%, 200% auto !important;
    animation: gold-shimmer-border 4s linear infinite !important;
    box-shadow: 0 4px 15px rgba(0,0,0,0.3) !important;
}

.lobby-game-card::after {
    background: linear-gradient(90deg, var(--accent-orange), #FFD700) !important;
    border: none !important;
    z-index: 10;
}

.game-card-panel {
    background-color: var(--bg-input) !important;
    border: 1px solid var(--border-color) !important;
}
.game-card-title {
    color: var(--text-muted) !important;
}

/* =========================================
   3. ХЕДЕР И НАВИГАЦИЯ
   ========================================= */
.mobile-header {
    background-color: var(--bg-panel) !important;
    border-bottom: 1px solid var(--border-color);
    box-shadow: 0 4px 20px rgba(0,0,0,0.2);
}

.profile-balance-box {
    background-color: var(--bg-input) !important;
    border: 1px solid var(--border-color); 
    color: var(--text-main) !important;
}

.profile-name { color: var(--text-muted) !important; -webkit-text-stroke: 0 !important; }
.profile-balance-box .balance { color: var(--accent-green) !important; -webkit-text-stroke: 0 !important; }

.bottom-nav { background-color: rgba(39, 43, 52, 0.98) !important; border-top: 1px solid var(--border-color) !important; }
.bottom-nav-item { color: var(--text-muted) !important; }
.bottom-nav-item.active { color: var(--accent-orange) !important; }
.bottom-nav-item .nav-icon { filter: grayscale(100%) brightness(1.5); }
.bottom-nav-item.active .nav-icon { filter: none; }

.sidebar-nav { background-color: var(--bg-panel) !important; border-right: 1px solid var(--border-color) !important; }

/* =========================================
   4. ИНПУТЫ И ФОРМЫ
   ========================================= */
input[type="text"],
input[type="number"],
input[type="password"],
.keno-input-wrapper, 
.mines-custom-input,
.mines-custom-input input {
    background-color: var(--bg-input) !important;
    border: 1px solid var(--border-color) !important;
    color: #FFFFFF !important;
    border-radius: 8px !important;
}
.keno-input-wrapper input {
    background-color: transparent !important;
    border: none !important;
}

.bet-input-group, 
.dice-input-group,
.ref-link-box,
.profile-box,
.ref-form {
    background-color: var(--bg-panel) !important;
    border: 1px solid var(--border-color) !important;
}

.bet-actions button,
.dice-input-group .bet-actions-grid button,
.keno-bet-modifiers button {
    background-color: var(--bg-input) !important;
    border: 1px solid var(--border-color) !important;
    color: var(--text-muted) !important;
}
.bet-actions button:hover,
.dice-input-group .bet-actions-grid button:hover {
    background-color: var(--border-color) !important;
    color: var(--text-main) !important;
}

.mines-count-btn {
    background-color: var(--bg-input) !important; 
    border: 1px solid var(--border-color) !important;
    color: var(--text-muted) !important;
}
.mines-count-btn.active {
    background-color: var(--border-color) !important;
    color: var(--accent-orange) !important;
    border-color: var(--accent-orange) !important;
}

/* =========================================
   5. DICE
   ========================================= */
.dice-buttons .roll-button {
    background: var(--bg-input) !important; 
    color: var(--text-main) !important;     
    border: 1px solid var(--border-color) !important;
    box-shadow: 0 4px 0 rgba(0,0,0,0.2) !important;
}
.dice-buttons .roll-button:active {
    transform: translateY(2px) !important;
    box-shadow: none !important;
}

.dice-calculator-box {
    background-color: var(--bg-panel) !important;
    border: 1px solid var(--border-color) !important;
}
#dice-profit-display {
    color: var(--accent-green) !important;
}

/* =========================================
   6. KENO (ИСПРАВЛЕНО ОБРЕЗАНИЕ)
   ========================================= */

.keno-board-area {
    display: flex !important;
    flex-direction: column !important;
    order: 1 !important; 
}

.keno-grid-wrapper { order: 1 !important; }
#keno-status { order: 2 !important; }
.keno-controls-panel { order: 3 !important; margin-top: 0 !important; }

/* МНОЖИТЕЛИ */
.keno-payout-scroll-wrapper {
    order: 4 !important; 
    margin-top: 5px !important; /* Внешний отступ от кнопок */
    /* ВАЖНО: padding-top позволяет лапкам не обрезаться сверху */
    padding-top: 15px !important; 
    background-color: transparent !important;
    border: none !important;
}

/* Стили ячеек */
.keno-cell, .mine-cell.closed {
    background-color: var(--bg-input) !important;
    border: 1px solid var(--border-color) !important;
}

.keno-cell.selected {
    background-color: var(--accent-orange) !important;
    color: #FFF !important;
    border-color: var(--accent-orange) !important;
    box-shadow: 0 0 15px var(--accent-orange) !important;
    opacity: 1 !important;
    z-index: 2;
}

.keno-cell.hit {
    background-color: var(--accent-green) !important;
    border-color: var(--accent-green) !important;
    color: #FFF !important;
    box-shadow: 0 0 15px var(--accent-green) !important;
    opacity: 1 !important;
    z-index: 3;
}

.keno-cell.drawn {
    background-color: #5A6578 !important; 
    border-color: #5A6578 !important;
    color: #FFF !important;
    opacity: 1 !important;
    box-shadow: none !important;
    z-index: 1;
}

/* =========================================
   7. ПРОЧЕЕ
   ========================================= */
.auth-button, .primary-button, #mines-start-button, #crash-start-button, #coin-start-button, .keno-big-play-btn, .wallet-deposit-button {
    border: none !important;
    box-shadow: 0 4px 0 rgba(0,0,0,0.2) !important;
}

#keno-play-button, #coin-start-button, #mines-start-button, #crash-start-button {
    background: var(--accent-orange) !important;
    color: #fff !important;
}

.wallet-modal-content, .customize-modal-content, .hash-modal-content, .admin-stats-modal-content {
    background-color: var(--bg-panel) !important;
    border: 1px solid var(--border-color) !important;
}
.per-game-history-list, #bet-history-list > li {
    background-color: var(--bg-panel) !important;
    border: 1px solid var(--border-color) !important;
}
.history-multiplier-bar {
    background-color: var(--bg-input) !important;
    border-top-color: var(--border-color) !important;
}

#theme-toggle-btn {
    background-color: var(--bg-input) !important;
    border: 1px solid var(--border-color) !important;
    color: var(--text-main) !important;
    margin-top: 10px;
    cursor: pointer;
}

/* Stop button style (Keno/General) */
.keno-big-play-btn.stop-mode {
    background-color: var(--bg-input) !important;
    color: var(--text-muted) !important;
}
