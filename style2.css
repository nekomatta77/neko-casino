/*
 * style2.css
 */

/* === СТИЛИ ДЛЯ ГОСТЕВОГО РЕЖИМА В ХЕДЕРЕ === */

.guest-header-actions {
    display: flex;
    flex-direction: column; /* Кнопки друг под другом */
    gap: 5px;
    /* ИЗМЕНЕНО: Выравнивание */
    align-items: stretch; 
    justify-content: center;
    min-width: 120px; /* Такая же ширина, как у профиля */
    margin-left: auto; /* Прижимаем вправо (если во flex container) */
}

/* Общий стиль для гостевых кнопок */
.guest-btn {
    border: none;
    border-radius: 6px;
    padding: 6px 0; /* Вертикальный паддинг */
    font-size: 0.9em;
    font-weight: bold;
    color: white;
    cursor: pointer;
    transition: opacity 0.2s, transform 0.1s;
    text-align: center;
    width: 100%;
}

.guest-btn:active {
    transform: scale(0.98);
}

/* Кнопка Вход (Оранжевая) */
.login-btn {
    /* Градиент как у логотипа/рамок */
    background: linear-gradient(90deg, #F5A623, #FFC857);
    box-shadow: 0 2px 5px rgba(245, 166, 35, 0.4);
}

/* Кнопка Регистрация (Зеленая) */
.register-btn {
    background: linear-gradient(90deg, #00A878, #00D699);
    box-shadow: 0 2px 5px rgba(0, 168, 120, 0.4);
}

/* Скрытие элементов в зависимости от состояния входа */
body.logged-in .guest-header-actions {
    display: none !important;
}
body.logged-out #header-profile-box {
    display: none !important;
}
body.logged-out .guest-header-actions {
    display: flex !important;
}

/* === Адаптация для мобильных === */
@media (max-width: 768px) {
    .guest-header-actions {
        min-width: 100px;
        gap: 4px;
    }
    .guest-btn {
        font-size: 0.8em; /* Чуть меньше шрифт */
        padding: 5px 0;
    }
}

/* === Стили для Модального Окна Авторизации (Наследует wallet-modal) === */
/* Дополнительные стили не требуются, так как мы используем классы .wallet-* для консистентности дизайна */

/* === Улучшения для Crash (Задача 1) === */

/* 1. Панель управления Crash теперь вертикальная */
.crash-controls-panel {
    display: flex;
    flex-direction: column;
    gap: 15px; /* Отступ между блоками "Авто" и "Ставка" */
}

/* 2. Убираем старую flex-обертку из layout */
.crash-auto-bet-wrapper {
    display: contents; /* Элементы "Авто" и "Ставка" становятся прямыми детьми .crash-controls-panel */
}

/* 3. Блок "Авто-вывод" */
.auto-cashout-group {
    flex-basis: auto; /* Сбрасываем старую ширину */
    background-color: #2E3035; /* Фон (темнее, чем --color-sidebar) для контраста */
    padding: 15px;
    border-radius: 8px;
    order: 2; /* Ставим блок "Авто" ПОСЛЕ блока "Ставка" */
    
    /* ИЗМЕНЕНО: (Разделение) Добавляем отступ сверху, а не снизу */
    margin-top: 15px;
    border: 1px solid #444; /* Небольшая граница для лучшего отделения */
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2); /* Тень для отделения */
}

/* 4. Блок "Сумма ставки" */
.bet-input-group.crash-bet-group {
    background-color: #2E3035; /* Такой же фон */
    padding: 15px;
    border-radius: 8px;
    display: flex;
    flex-direction: column;
    gap: 10px; /* Отступ между label, input и сеткой кнопок */
    margin-bottom: 0; /* Убираем старый отступ */
    order: 1; /* Ставим блок "Ставка" ПЕРВЫМ */
    
    /* ИЗМЕНЕНО: (Разделение) */
    border: 1px solid #444;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
}

/* 5. Убираем старую вложенную группу инпута (она была в HTML) */
.crash-bet-group .bet-input-group {
    margin-bottom: 0;
    /* (Мы удалили ее из HTML, этот селектор больше не должен работать) */
}

/* 6. Стилизуем инпут (он теперь прямой потомок .crash-bet-group) */
.crash-bet-group > input[type="number"] {
    width: 100%;
    padding: 10px;
    border: 1px solid var(--color-border);
    border-radius: 6px;
    background-color: #FFFFFF;
    color: var(--color-text);
    font-size: 1.1em;
    text-align: center;
}

/* 7. Новая сетка кнопок (которую мы добавили в HTML) */
.crash-bet-group .bet-actions-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 8px;
}

/* 8. Кнопки в новой сетке */
.crash-bet-group .bet-actions-grid button {
    padding: 12px 5px;
    background-color: var(--color-border-dark);
    color: var(--color-text-light);
    border: none;
    border-radius: 4px;
    font-size: 0.9em;
    font-weight: bold;
    cursor: pointer;
    transition: background-color 0.2s;
}
.crash-bet-group .bet-actions-grid button:hover {
    background-color: #6A788C;
}

/* 9. Сбрасываем отступ у кнопок "Начать игру" */
.crash-action-buttons {
    margin-top: 0;
}


/* === Улучшения для Coinflip (Задача 2) === */

#coin-cashout-button {
    width: 100%; /* Делаем кнопку "Забрать" на всю ширину */
}

/* === Перекрашиваем кнопку "Начать игру" в Минах === */

#mines-start-button {
    background-color: var(--color-orange);
    color: #FFFFFF;
}

/* === ИСПРАВЛЕНИЯ для Mobile Header (Задачи 2 и 3) === */

/* 1. Центрируем панель баланса по высоте в хедере */
.mobile-header {
    /* ИЗМЕНЕНО: Выравниваем элементы по центру по вертикали */
    align-items: center; 
    /* УБИРАЕМ: align-items: flex-end; */
}

/* 2. Убираем сдвиг и трансформации с панели при клике */
.profile-balance-box:hover {
    /* Сброс, который был в style.css */
    transform: none; 
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
}
.profile-balance-box:active {
    /* Убираем сдвиг при нажатии */
    transform: none; 
}
/* Убираем старые трансформации, которые сдвигали панель */
.mobile-header .profile-balance-box {
    transform: none;
    margin-bottom: 0; /* Сброс margin-bottom, который мог быть */
}


/* === Стили для Панели Профиля (с Аватаром) === */

.profile-balance-box {
    /* Переопределяем: Аватар слева, текст справа */
    display: flex;
    flex-direction: row; 
    align-items: center; 
    gap: 10px; 
    padding: 8px; 
    min-width: 0; 
}

.header-avatar-img {
    width: 40px;  
    height: 40px; 
    border-radius: 50%; 
    border: 2px solid var(--color-text-light); 
    object-fit: cover; 
    flex-shrink: 0; 
    cursor: pointer; 
    transition: transform 0.2s ease, box-shadow 0.2s ease;
}

.header-avatar-img:hover {
    transform: scale(1.1);
    box-shadow: 0 0 10px var(--color-orange);
}

.profile-text-content {
    display: flex;
    flex-direction: column;
    align-items: flex-start; 
    gap: 2px;
    min-width: 0; 
}

/* Адаптация текста */
.profile-balance-box .profile-name {
    font-size: 0.9em;
    line-height: 1.2;
    text-align: left;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    width: 100%;
}

.profile-balance-box .balance {
    font-size: 1.0em; 
    line-height: 1.2;
    text-align: left;
}

/* Адаптация для мобильного хедера (где баланс меньше) */
.mobile-header .header-avatar-img {
    width: 36px;
    height: 36px;
    border-width: 1px;
}
.mobile-header .profile-balance-box {
    gap: 8px;
    padding: 6px;
}

/* === Стили для Модального Окна Кастомизации (CUSTOMIZE) === */

.customize-modal-content {
    background-color: rgba(61, 70, 84, 0.85); 
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.1); 
    color: var(--color-text-light);
    padding: 20px;
    border-radius: 12px;
    box-shadow: 0 5px 20px rgba(0, 0, 0, 0.5);
    text-align: left;
    width: 95%;
    max-width: 420px;
    display: flex; 
    flex-direction: column;
    gap: 25px; 
}

.customize-section-title {
    font-size: 1.1em;
    font-weight: bold;
    color: var(--color-text-light);
    opacity: 0.7;
    margin-bottom: 15px;
    padding-bottom: 10px;
    border-bottom: 1px solid var(--color-border-dark);
}

.customize-avatar-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr); 
    gap: 15px; 
}

.customize-avatar-choice {
    width: 100%;
    height: auto;
    aspect-ratio: 1 / 1; 
    border-radius: 10px; 
    object-fit: cover;
    cursor: pointer;
    border: 3px solid transparent; 
    opacity: 0.6; 
    transition: all 0.2s ease;
}

.customize-avatar-choice:hover {
    opacity: 1;
}

.customize-avatar-choice.selected {
    opacity: 1;
    border-color: var(--color-orange); 
    transform: scale(1.05);
    box-shadow: 0 0 15px var(--color-orange);
}

.customize-color-grid {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 15px;
}

.customize-color-choice {
    width: 100%;
    height: 50px; 
    border-radius: 8px;
    cursor: pointer;
    border: 2px solid #000000; 
    display: flex; 
    justify-content: center;
    align-items: center;
    transition: all 0.2s ease;
}

.customize-color-choice.selected {
    border-color: var(--color-text-light); 
    transform: scale(1.05);
    box-shadow: 0 0 10px var(--color-text-light);
}

.no-style-icon {
    font-size: 1.5em;
    line-height: 1;
}

/* === ИСПРАВЛЕНИЕ: (ЗАДАНИЕ) Убираем размытие иконок мин на iPhone (Retina) === */
.mine-cell-icon {
    /* Говорим браузеру не сглаживать, а сохранять пиксели */
    image-rendering: -moz-crisp-edges;         /* Firefox */
    image-rendering: -webkit-crisp-edges;      /* Old WebKit */
    image-rendering: pixelated;                /* Modern */
    image-rendering: crisp-edges;              /* Old standard */
}

/* === (ИЗМЕНЕНО: ЗАДАЧА 4 И НОВЫЙ ЗАПРОС) Стили для скролла мини-игр === */

/* ИЗМЕНЕНО: Контейнер */
.mini-games-nav-container {
    position: relative;
    max-width: 1000px;
    margin: 0 auto 15px;
    padding: 0 10px; 
}

.mini-games-nav {
    display: flex; 
    /* ИЗМЕНЕНО: Включаем перенос */
    flex-wrap: wrap; 
    /* ИЗМЕНЕНО: Убираем горизонтальный скролл */
    overflow-x: visible; 
    background-color: transparent;
    border-radius: 0;
    padding: 0; 
    gap: 10px;
    margin: 0; 
    
    /* ИЗМЕНЕНО: Убираем стили свайпа */
    /* cursor: grab; */
    /* user-select: none; */
    
    /* ИЗМЕНЕНО: Убираем плавную прокрутку */
    /* scroll-behavior: smooth; */
    
    /* Скрываем скроллбар (на всякий случай) */
    scrollbar-width: none; 
    -ms-overflow-style: none;
}
.mini-games-nav::-webkit-scrollbar {
    display: none; 
}

/* ИЗМЕНЕНО: Удаляем стили для кнопок прокрутки */
.mini-games-scroll-btn {
    display: none;
}


.mini-games-nav-item {
    display: flex;
    flex-direction: row;
    align-items: center;
    justify-content: center;
    gap: 8px;
    
    /* ИЗМЕНЕНО: flex-basis задает базовую ширину */
    flex-basis: 110px;
    /* ИЗМЕНЕНО: flex-grow позволяет растягиваться */
    flex-grow: 1;
    /* ИЗМЕНЕНО: flex-shrink: 0; (оставляем, чтобы не сжимались) */
    flex-shrink: 0; 
    
    background-color: var(--color-sidebar);
    border: 2px solid var(--color-border-dark);
    padding: 8px 10px; 
    color: var(--color-text-light);
    font-weight: bold;
    font-size: 0.9em;
    border-radius: 10px;
    cursor: pointer;
    transition: all 0.2s ease;
    -webkit-tap-highlight-color: transparent;
    text-align: center;
}

/* ИСПРАВЛЕНИЕ: Убираем pointer-events: none; отсюда */
.mini-games-nav-item .nav-game-icon {
    /* pointer-events: none; */
}


/* Адаптация скролла для мобильных */
@media (max-width: 768px) {
    .mini-games-nav-container {
        padding: 0 10px;
    }
    .mini-games-nav {
        padding: 0; 
    }
    .mini-games-nav-item {
        /* ИЗМЕНЕНО: Базовая ширина 100px, растягиваем */
        flex-basis: 100px;
        flex-grow: 1;
        font-size: 0.8em;
        gap: 5px;
        padding: 8px 5px;
    }
}
/* === КОНЕЦ СТИЛЕЙ СЛРОЛЛА МИНИ-ИГР === */


/* === (НОВОЕ) Стили для KENO (Макет v2) === */

.keno-game-container {
    display: flex;
    flex-direction: column;
    gap: 15px;
    max-width: 800px; /* ИЗМЕНЕНО: 500px -> 800px (Задача 2) */
    margin: 0 auto;
}

/* --- ИЗМЕНЕНО: (ЗАПРОС 1) Меняем порядок элементов --- */
.keno-payout-bar-wrapper { 
    order: 3; /* <-- ИСПРАВЛЕНО (было 4) */
    margin-top: 0; /* <-- ИСПРАВЛЕНО (было 15px) */
}
.keno-grid-wrapper { order: 1; }
#keno-status { order: 2; }
.keno-controls-panel { order: 4; } /* <-- ИСПРАВЛЕНО (было 3) */
/* --- КОНЕЦ ИСПРАВЛЕНИЯ --- */


/* 1. Шкала выплат */
.keno-payout-bar-wrapper {
    width: 100%;
    overflow: hidden;
    background-color: var(--color-sidebar);
    border-radius: 8px;
    padding: 10px;
}

.keno-payout-bar {
    display: flex;
    gap: 5px;
    overflow-x: auto;
    overflow-y: hidden;
    scrollbar-width: none; /* Firefox */
}
.keno-payout-bar::-webkit-scrollbar {
    display: none; /* Chrome/Safari */
}

/* ИЗМЕНЕНО: (ЗАДАЧА 1 из 2-го) Стили контейнера лапки и текста */
.keno-payout-item {
    flex-shrink: 0;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: flex-start; /* Начинаем сверху */
    background-color: transparent;
    border-radius: 6px;
    width: 55px;
    height: auto; /* Высота стала автоматической */
    color: var(--color-text-light);
    transition: all 0.2s ease;
    border: 1px solid transparent;
    position: relative;
    gap: 2px; /* Отступ между лапкой и текстом */
}

/* ИЗМЕНЕНО: (ЗАДАЧА 1 из 2-го) Новая обертка для лапок */
.keno-paw-wrapper {
    position: relative;
    width: 50px;
    height: 50px;
    flex-shrink: 0; /* Чтобы не сжималась */
}

/* ИЗМЕНЕНО: (ЗАДАЧА 1 из 2-го) Лапки теперь внутри обертки */
.payout-paw-grey,
.payout-paw-keno {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    object-fit: contain;
    transition: opacity 0.3s ease;
    filter: none; 
}

.payout-paw-grey {
    opacity: 1; /* По умолчанию серая лапка видна */
}

.payout-paw-keno {
    opacity: 0; /* По умолчанию цветная лапка скрыта */
}
/* --- */

.keno-payout-item .hits {
    /* ИЗМЕНЕНО: (ЗАДАНИЕ 5) Скрываем нумерацию */
    display: none;
    position: relative;
    z-index: 2;
}

/* ИЗМЕНЕНО: (ЗАДАЧА 1 из 2-го) Стили для множителя под лапкой */
.keno-payout-item .mult {
    font-size: 1.0em; /* Уменьшили шрифт */
    font-weight: bold;
    color: var(--color-text-light);
    opacity: 0.7;
    position: static; /* Убрали position: relative */
    z-index: 0;
    text-shadow: none; /* Убрали тень */
}

.keno-payout-placeholder {
    width: 100%;
    text-align: center;
    padding: 25px 0; /* Увеличили отступ */
    font-size: 0.9em;
    color: var(--color-text-light);
    opacity: 0.6;
}

/* Состояния шкалы */
.keno-payout-item.filled {
    /* ИЗМЕНЕНО: (ЗАДАНИЕ 1) Убираем фон */
    background-color: transparent;
}
.keno-payout-item.filled .mult {
    opacity: 1;
}

/* ИЗМЕНЕНО: (ЗАДАНИЕ 1 & 4) Стиль активного множителя (показываем keno_paw) */
.keno-payout-item.active {
    /* Убираем старые стили */
    background-color: transparent;
    transform: scale(1.05);
    border-color: transparent; /* Убираем зеленую рамку с квадрата */
    box-shadow: none; /* Убираем зеленое свечение с квадрата */
}

.keno-payout-item.active .payout-paw-grey {
    opacity: 0; /* Скрываем серую */
}

.keno-payout-item.active .payout-paw-keno {
    opacity: 1; /* Показываем цветную */
    /* ИЗМЕНЕНО: (ЗАДАЧА 3) Убираем свечение */
    filter: none;
}

/* ИЗМЕНЕНО: (ЗАДАЧА 1 из 2-го) Стили для активного множителя под лапкой */
.keno-payout-item.active .mult {
    color: #FFFFFF;
    opacity: 1;
    text-shadow: none; /* Тень не нужна */
}

/* (ИЗМЕНЕНО: ЗАДАЧА 2) Стили для 0x */
.keno-payout-item.zero .mult {
    opacity: 0.4;
}

/* 2. Сетка */
.keno-grid-wrapper {
    background-color: var(--color-sidebar);
    padding: 10px;
    border-radius: 8px;
    position: relative; /* ИЗМЕНЕНО: (Задача 3) Для оверлея */
}

.keno-grid {
    display: grid;
    grid-template-columns: repeat(8, 1fr); /* 8 колонок */
    gap: 5px; /* ИЗМЕНЕНО: 8px -> 5px (По запросу) */
}

.keno-cell {
    aspect-ratio: 1 / 1;
    background-color: #2E3035;
    border: none;
    border-radius: 6px;
    color: var(--color-text-light);
    font-size: 1.5em; /* ИЗМЕНЕНО: 2.2em -> 1.5em (Исправление) */
    font-weight: bold;
    cursor: pointer;
    transition: all 0.2s ease;
    padding: 0;
    display: flex;
    justify-content: center;
    align-items: center;
    transform: translateZ(0); 
}
.keno-cell:hover {
    background-color: var(--color-border-dark);
}
.keno-grid.disabled .keno-cell:not(.selected) {
    pointer-events: none;
}
/* Адаптивный размер шрифта в ячейках */
@media (max-width: 400px) {
    .keno-cell { font-size: 1.1em; } /* ИЗМЕНЕНО: 1.5em -> 1.1em (Исправление) */
    .keno-grid { gap: 3px; } /* ИЗМЕНЕНО: 5px -> 3px (По запросу) */
}


/* Состояния ячеек */
.keno-cell.selected {
    background-color: var(--color-orange);
    color: #FFFFFF;
    transform: scale(1.05);
    box-shadow: 0 0 10px var(--color-orange);
}
.keno-cell.idle {
    opacity: 0.3; /* "Потухшие" */
}
.keno-cell.miss {
    background-color: #2E3035; /* Как idle, но не .selected */
    opacity: 0.7;
}
/* ИЗМЕНЕНО: (ЗАДАНИЕ 3) Стиль "выпавших" (синих) стал блеклым */
.keno-cell.drawn {
    background-color: var(--color-blue);
    color: #FFFFFF;
    opacity: 0.6; /* <-- Слегка прозрачный */
    font-size: 1.5em; /* Для точки '●' */
}
.keno-cell.hit {
    background-color: var(--color-secondary);
    color: #FFFFFF;
    opacity: 1;
    animation: bounceIn 0.3s ease;
}
.keno-cell-icon {
    width: 70%;
    height: 70%;
    object-fit: contain;
    /* Исправляем размытие (наследуется от .mine-cell-icon) */
    image-rendering: -moz-crisp-edges;
    image-rendering: -webkit-crisp-edges;
    image-rendering: pixelated;
    image-rendering: crisp-edges;
}


/* 3. Статус бар */
#keno-status {
    /* Стили .dice-status-bar (win/loss) будут применены */
    width: 100%;
    margin-top: 0;
}

/* 4. Панель управления */
.keno-controls-panel {
    background-color: var(--color-sidebar);
    padding: 15px;
    border-radius: 8px;
    display: flex;
    flex-direction: column;
    gap: 15px;
}
.keno-controls-panel label {
    display: block;
    margin-bottom: 5px;
    font-size: 0.9em;
    color: var(--color-text-light);
    font-weight: bold;
}

.keno-bet-actions-wrapper {
    display: flex;
    gap: 10px;
    align-items: center;
}
/* (ИЗМЕНЕНО: ЗАДАЧА 3) Добавляем min-width, чтобы инпут мог сжиматься */
.keno-bet-actions-wrapper .bet-input-group {
    flex-grow: 1;
    margin-bottom: 0;
    min-width: 0; /* <-- Вот фикс */
}
.keno-bet-actions-wrapper .bet-input-group input {
    height: 50px; /* Выше инпут */
    font-size: 1.2em;
}

.keno-action-btn {
    padding: 15px;
    font-size: 1.1em;
    font-weight: bold;
    border: none;
    border-radius: 6px;
    cursor: pointer;
    transition: all 0.2s ease;
    flex-shrink: 0;
}
.keno-action-btn.autopick {
    /* ИЗМЕНЕНО: (ЗАДАНИЕ 3) Авто-выбор стал синим */
    background-color: var(--color-blue); 
    color: #FFFFFF;
}
.keno-action-btn.play {
    /* ИЗМЕНЕНО: (ЗАДАНИЕ 3) Кнопка "Играть" стала желтой (оранжевой) */
    background-color: var(--color-orange); 
    color: #FFFFFF;
}
.keno-action-btn:disabled {
    opacity: 0.5;
    cursor: not-allowed;
}

.keno-bet-modifiers {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 5px;
}
/* Используем стили кнопок из Dice */
.keno-bet-modifiers button {
    padding: 10px 5px;
    background-color: var(--color-border-dark);
    color: var(--color-text-light);
    border: 1px solid var(--color-border-dark);
    border-radius: 4px;
    font-weight: normal;
    font-size: 0.9em;
    cursor: pointer;
    transition: background-color 0.2s;
}
.keno-bet-modifiers button:hover {
    background-color: #6A788C;
}

.keno-risk-selector {
    display: grid;
    grid-template-columns: 1fr 1fr 1fr;
    gap: 5px;
    background-color: #2E3035;
    border-radius: 6px;
    padding: 4px;
}
.keno-risk-btn {
    background-color: transparent;
    border: none;
    color: var(--color-text-light);
    opacity: 0.6;
    padding: 10px 5px; /* Выше кнопки */
    font-size: 0.9em;
    font-weight: bold;
    border-radius: 4px;
    cursor: pointer;
    transition: all 0.2s;
}
.keno-risk-btn.active {
    background-color: var(--color-border-dark);
    opacity: 1;
}
.keno-risk-btn:disabled {
    opacity: 0.3;
    cursor: not-allowed;
}

.keno-clear-btn {
    width: 100%;
    background-color: var(--color-border-dark);
    color: var(--color-text-light);
    opacity: 0.7;
    border: none;
    border-radius: 6px;
    padding: 10px;
    font-size: 0.9em;
    font-weight: bold;
    cursor: pointer;
    transition: all 0.2s;
}
.keno-clear-btn:hover {
    opacity: 1;
    background-color: #6A788C;
}
.keno-clear-btn:disabled {
    opacity: 0.3;
    cursor: not-allowed;
}


/* 5. История */
#keno-game .per-game-history-container {
    margin-top: 0; /* Уже есть gap */
    max-width: none;
    padding: 0;
}

/* === (НОВОЕ) Стили для Keno Overlay (Задача 3) === */
.keno-grid-wrapper {
    position: relative; /* Для оверлея */
}
.keno-result-overlay {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: rgba(0, 0, 0, 0.75);
    backdrop-filter: blur(4px);
    -webkit-backdrop-filter: blur(4px);
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 10;
    border-radius: 8px; /* Совпадает с .keno-grid-wrapper */
    opacity: 1;
    transition: opacity 0.3s ease;
    /* ИЗМЕНЕНО: (ЗАДАНИЕ 2) Легкая прозрачность */
    opacity: 0.95; 
    cursor: pointer; /* ИЗМЕНЕНО: (ЗАДАНИЕ 1) Можно кликнуть */
}
.keno-result-overlay.hidden {
    opacity: 0;
    pointer-events: none;
}

.keno-result-box {
    background-color: var(--color-sidebar);
    /* ИЗМЕНЕНО: (ЗАДАНИЕ 2) Обводка стала зеленой */
    border: 2px solid var(--color-secondary); 
    /* ИЗМЕНЕНО: (ЗАДАНИЕ 2, 4) Аккуратная неоновая обводка */
    box-shadow: 0 0 15px var(--color-secondary); 
    /* ИЗМЕНЕНО: (ЗАДАНИЕ 2) Уменьшаем отступы (делаем меньше) */
    padding: 20px 30px; 
    border-radius: 10px;
    display: flex;
    flex-direction: column;
    gap: 15px;
    text-align: center;
    /* Анимация появления */
    animation: bounceIn 0.3s ease;
    /* ИЗМЕНЕНО: (ЗАДАНИЕ 2) Делаем прямоугольником и уменьшаем */
    width: 300px;
    max-width: 90%;
    /* ИЗМЕНЕНО: (ЗАПРОС 2) 1 / 1.5 = 0.667 */
    transform: scale(0.667); 
}

/* (Задача 3) Меняем цвет рамки/тени при проигрыше */
.keno-result-overlay.loss .keno-result-box {
     /* ИЗМЕНЕНО: (ЗАДАНИЕ 2) Обводка остается зеленой */
     border-color: var(--color-secondary);
     box-shadow: 0 0 15px var(--color-secondary);
}

.keno-result-line {
    display: flex;
    flex-direction: column; /* Ставим друг под друга */
    gap: 5px;
    font-size: 1.2em;
    color: var(--color-text-light);
}

.keno-result-line span:first-child {
    font-size: 0.9em;
    opacity: 0.7;
}
.keno-result-line span:last-child {
    font-weight: bold;
    font-size: 1.5em;
}

/* ИЗМЕНЕНО: (ЗАДАНИЕ 4) Множитель (Х) стал зеленым */
#keno-result-multiplier {
    color: var(--color-secondary);
}
/* ИЗМЕНЕНО: (ЗАДАНИЕ 4) Выигрыш стал зеленым */
#keno-result-winnings {
    color: var(--color-secondary);
}
.keno-result-overlay.loss #keno-result-winnings {
    /* ИЗМЕНЕНО: (ЗАДАНИЕ 4) При проигрыше (0.00) тоже зеленый */
    color: var(--color-secondary);
}

/* === КОНЕЦ СТИЛЕЙ KENO OVERLAY === */

/* === (ЗАДАНИЕ 1) Позиционирование Keno Cat === */
.lobby-game-wrapper[data-game-type="keno"] .game-card-cat {
    /* Было: translateX(-10px) translateY(10px) scale(1.15); */
    transform: translateX(-15px) translateY(15px) scale(0.95); /* Новое положение */
}

.lobby-game-wrapper[data-game-type="keno"]:hover .game-card-cat {
    /* Было: scale(1.08); */
    transform: translateX(5px) translateY(10px) scale(1.25); /* Немного приподнимается при наведении */
}

/* === (ЗАДАЧА 2) Keno: Сохраняем подсветку выбранных ячеек === */

/* 1. .selected.hit (Выбрано и Попало) */
/* ИЗМЕНЕНО: Делаем фон ЗЕЛЕНЫМ (от .hit), но сохраняем свечение (от .selected) */
.keno-cell.selected.hit {
    background-color: var(--color-secondary); /* ИЗМЕНЕНО: Фон стал зеленым */
    animation: bounceIn 0.3s ease; /* Анимация от .hit */
    opacity: 1; /* От .hit */
    box-shadow: 0 0 10px var(--color-secondary); /* ИЗМЕНЕНО: Свечение стало зеленым */
}

/* 2. .selected.miss (Выбрано и Промах) */
/* Делаем фон ОРАНЖЕВЫМ, но тусклым (комбинация .selected и .miss) */
.keno-cell.selected.miss {
    background-color: var(--color-orange); /* Фон от .selected */
    opacity: 0.7; /* Тусклость от .miss */
    box-shadow: 0 0 10px var(--color-orange); /* От .selected */
}

/* 3. .selected.drawn (Выбрано, но шар выпал позже - не должно случиться, но на всякий) */
.keno-cell.selected.drawn {
    background-color: var(--color-orange);
    opacity: 1;
}

/* === (ДОБАВЛЕНО) Стили для кнопки Турбо Keno === */

/* 1. Обертка для кнопок "Играть" и "Турбо" */
.keno-play-wrapper {
    display: flex;
    flex-shrink: 0;
    /* Кнопки в этой обертке унаследуют высоту 50px от .keno-bet-actions-wrapper */
    height: 50px;
    /* ИЗМЕНЕНО: (Новый запрос 2) Кнопка "Играть" теперь растягивается */
    flex-grow: 1;
}

/* 2. Изменяем кнопку "Играть", чтобы убрать скругление справа */
#keno-play-button {
    border-top-right-radius: 6px; /* ИЗМЕНЕНО: (Новый запрос 2) Восстанавливаем */
    border-bottom-right-radius: 6px; /* ИЗМЕНЕНО: (Новый запрос 2) Восстанавливаем */
    height: 100%; /* Растягиваем на 50px */
    /* ИЗМЕНЕНО: (Новый запрос 2) Растягиваем */
    flex-grow: 1;
}

/* 3. Стилизуем новую кнопку "Турбо" */
.keno-action-btn.turbo {
    /* ИЗМЕНЕНО: (Новый запрос 2) Убираем фон и рамки */
    background-color: transparent;
    border: none;
    /* ИЗМЕНЕНО: (Новый запрос 2) Убираем отступы */
    padding: 0;
    width: auto; /* Авто-ширина */
    height: auto; /* Авто-высота */
    border-radius: 0;
    /* ИЗМЕНЕНО: (Новый запрос 2) Убираем центрирование */
    display: block; 
}

/* 4. Стилизуем иконку молнии внутри кнопки */
#keno-turbo-button img {
    height: 28px; /* ИЗМЕНЕНО: (Новый запрос 2) Размер иконки */
    width: auto;
    object-fit: contain;
    /* Четкость иконки */
    image-rendering: -webkit-crisp-edges;
    image-rendering: crisp-edges;
    /* ИЗМЕНЕНО: (Новый запрос 2) Тусклая по умолчанию */
    opacity: 0.6;
    transition: opacity 0.2s, filter 0.2s;
}

/* 5. Стиль при наведении (для .turbo) */
.keno-action-btn.turbo:hover img {
    opacity: 1;
}

/* 6. Стиль "Включено" (Task 3: Neon Glow) */
.keno-action-btn.turbo.active img {
    opacity: 1;
    /* Task 3: Оранжевый неон */
    filter: drop-shadow(0 0 8px var(--color-orange)) drop-shadow(0 0 4px var(--color-orange));
}

/* === (НОВЫЙ ЗАПРОС 2) Стили для новой обертки Keno Label === */
.keno-label-wrapper {
    display: flex;
    justify-content: space-between; /* Label слева, кнопка справа */
    align-items: center;
    margin-bottom: 5px; /* Стандартный отступ label */
}
        
.keno-label-wrapper label {
    display: block;
    font-size: 0.9em;
    color: var(--color-text-light);
    font-weight: bold;
    margin-bottom: 0; /* Убираем отступ, т.к. он на wrapper'е */
}

/* === (НОВЫЙ ЗАПРОС 3) Эстетика Keno Input === */

/* 1. Сначала стилизуем обертку инпута (.bet-input-group) */
/* Она станет "фоном" для инпута */
.keno-bet-actions-wrapper .bet-input-group {
    background-color: #2E3035; /* Темный фон, как у ячеек */
    border: 1px solid var(--color-border-dark); /* Темная рамка */
    border-radius: 6px;
    padding: 0; /* Убираем внутренний отступ, он будет у инпута */
    /* ИСПОЛЬЗУЕМ FLEX для центрирования текста, т.к. input[type=number] плохо слушается text-align */
    display: flex;
    justify-content: center;
    align-items: center;
    height: 50px; /* Синхронизируем высоту с кнопками */
    transition: border-color 0.2s, box-shadow 0.2s; /* Для :focus-within */
}

/* 2. Теперь "обнуляем" сам инпут, делая его прозрачным */
.keno-bet-actions-wrapper .bet-input-group input#keno-bet {
    background: transparent;
    border: none;
    color: var(--color-text-light); /* Светлый текст */
    text-align: center; /* Центрируем текст */
    font-size: 1.5em; /* Крупный шрифт */
    font-weight: bold;
    padding: 10px 5px; /* Внутренний отступ */
    height: auto; /* Сбрасываем фикс. высоту */
    /* Убираем стрелочки у number input */
    -moz-appearance: textfield;
}

.keno-bet-actions-wrapper .bet-input-group input#keno-bet::-webkit-outer-spin-button,
.keno-bet-actions-wrapper .bet-input-group input#keno-bet::-webkit-inner-spin-button {
    -webkit-appearance: none;
    margin: 0;
}

/* 3. Синхронизируем высоту кнопок "Автовыбор" и "Играть" */
.keno-action-btn.autopick {
     height: 50px; /* Та же высота, что и у инпута */
}

.keno-play-wrapper {
     height: 50px; /* Та же высота, что и у инпута */
}

/* 4. При фокусе на инпут, подсвечиваем обертку */
.keno-bet-actions-wrapper .bet-input-group:focus-within {
    border-color: var(--color-orange);
    box-shadow: 0 0 10px var(--color-orange);
}

/* === КОНЕЦ ЭСТЕТИКИ KENO INPUT === */

/* === (ИСПРАВЛЕНИЕ) Стили для Keno Status Bar (Задача пользователя) === */

.keno-status-bar {
    text-align: center;
    color: var(--color-text); 
    min-height: 20px;
    font-size: 0.9em;
    font-weight: bold;
    margin-top: 0; /* Уже есть 'order: 2' */
    
    /* Стили по умолчанию для прямоугольника (как в Dice/Coin) */
    padding: 10px;
    border-radius: 6px;
    display: none; /* Скрыт, пока нет .win/.loss */
    
    width: 100%; 
    max-width: 500px; /* Ограничиваем ширину, как у других */
    margin-left: auto;
    margin-right: auto;
}

.keno-status-bar.win {
    display: block;
    background-color: var(--color-secondary);
    color: var(--color-text-light);
    box-shadow: 0 0 10px rgba(0, 168, 120, 0.5);
}

.keno-status-bar.loss {
    display: block;
    background-color: var(--color-mine-bomb);
    color: var(--color-text-light);
    box-shadow: 0 0 10px rgba(255, 85, 85, 0.7);
}

/* === (ЗАДАЧА) Плавная анимация для статуса в Dice === */

/* 1. Определяем @keyframes для "плавного появления" */
@keyframes smooth-pop-in {
  0% {
    opacity: 0;
    transform: scale(0.9); /* Начинаем чуть меньше */
  }
  70% {
    opacity: 1;
    transform: scale(1.03); /* Слегка "перепрыгиваем" */
  }
  100% {
    opacity: 1;
    transform: scale(1.0); /* Возвращаемся в норму */
  }
}

/* 2. Применяем анимацию, когда появляется класс .win или .loss */
/* Мы используем #dice-status, чтобы быть уверенными, 
   что анимация применится только к Dice */
#dice-status.win,
#dice-status.loss {
  /* Длительность 0.3 секунды */
  animation: smooth-pop-in 0.3s ease-out;
}

/* === (ЗАДАЧА 3) Анимация для кота на странице бонусов === */
@keyframes floatCat {
    0% {
        transform: translateY(0px);
    }
    50% {
        transform: translateY(-10px); /* Поднимается */
    }
    100% {
        transform: translateY(0px);
    }
}

/* === (ЗАДАЧА 4) Фикс "прыжка" истории в Dice === */

/* 1. Обертка для статус-бара и ссылки "Проверить игру" */
.dice-status-wrapper {
  width: 100%;
  max-width: 500px; /* Та же ширина, что и у .dice-status-bar */
  margin: 0 auto;
  
  /* * Резервируем место.
   * .dice-status-bar (padding 20px + min-height 20px) = 40px
   * .game-check-link (font-size 0.9em + margin-top 10px) = ~25px
   * Задаем min-height, достаточный для ОБОИХ.
   * 40px (статус) + 25px (ссылка) = ~65px. 
   * Возьмем 70px с запасом.
   */
  min-height: 70px;
  
  /* Центрируем, если контент меньше */
  display: flex;
  flex-direction: column;
  justify-content: flex-start; /* Начинаем сверху */
  align-items: center;
}

/* 2. Убираем margin-top у элементов, так как он теперь на обертке */
#dice-status {
  margin-top: 10px; /* Оставляем отступ от кнопок */
}

.game-check-link {
  margin-top: 10px; /* Отступ от статус-бара (если он есть) или от верха */
}

/* 3. Когда статус-бар скрыт, ссылка "Проверить игру"
   все равно будет иметь отступ 10px сверху,
   но общая высота .dice-status-wrapper (70px) не даст истории "подпрыгнуть"
*/

/* === (ЗАДАЧА 1) Исправление верстки Промокода === */
.promocode-box {
    /* Восстанавливаем отступы, которые сбрасывал .dice-controls */
    padding: 20px;
}

.promocode-box .form-group input {
    /* Добавляем стили, которые отсутствовали из-за конфликта */
    padding: 10px;
    border-radius: 6px;
    font-size: 1em;
}

/* === (ЗАДАЧА 2) Плашка выигрыша Dice на всю ширину === */
#dice-status.dice-status-bar {
    width: 100%;
    max-width: none; /* Снимаем ограничение max-width (если оно было) */
    margin-left: 0;
    margin-right: 0;
}

/* === (НОВЫЕ) СТИЛИ ДЛЯ СТРАНИЦЫ РАНГОВ === */
.rank-container {
    display: grid;
    grid-template-columns: 1fr; /* 1 колонка на мобильных */
    gap: 15px;
    max-width: 500px;
    margin: 20px auto;
}

.rank-card {
    background-color: var(--color-sidebar);
    color: var(--color-text-light);
    border-radius: 12px;
    padding: 20px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    border: 1px solid var(--color-border-dark);
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
    transition: all 0.2s ease;
}

.rank-card:hover {
    transform: translateY(-3px);
    box-shadow: 0 6px 15px rgba(0, 0, 0, 0.2);
    border-color: var(--color-orange);
}

.rank-title {
    font-size: 1.3em;
    font-weight: bold;
    color: var(--color-orange);
}

.rank-requirement {
    font-size: 1.1em;
    font-weight: bold;
    color: var(--color-text-light);
    opacity: 0.8;
}

/* === (НОВЫЕ) СТИЛИ ДЛЯ АДМИН-ПАНЕЛИ === */
.admin-container {
    max-width: 800px;
    margin: 0 auto;
    background-color: var(--color-sidebar);
    border-radius: 12px;
    padding: 20px;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
    color: var(--color-text-light);
}

/* === (ИСПРАВЛЕНО) Выравнивание вкладок в админ-панели === */
#admin-tabs {
    gap: 10px; 
    flex-wrap: wrap; /* Разрешаем перенос вкладок */
}

#admin-tabs .ref-tab {
    /* Убираем flex-grow/basis, чтобы вкладки имели естественную ширину */
    /* flex-grow: 1; */
    /* flex-basis: 0; */
    flex-shrink: 0; /* Не сжимаем вкладки */
    
    text-align: center;
    padding: 10px 15px; /* Увеличиваем отступ для лучшего вида */
    margin: 0;
}

/* === (ЗАДАЧА 1 & 4) Выравнивание и стилизация кнопок в админ-панели === */

/* 1. Задаем ячейке "Ранг" layout (Оставляем как было) */
.admin-user-table td:nth-child(4) /* Ранг */
{
    display: grid; 
    grid-template-columns: 1fr; 
    gap: 5px; 
    vertical-align: top; 
}

/* (ЗАДАЧА 1) Выравниваем кнопки "Действия" по горизонтали (ИСПРАВЛЕНО) */
.admin-user-table td:nth-child(5)  /* Действия */
{
    /* ИСПОЛЬЗУЕМ GRID ВМЕСТО FLEX */
    display: grid;
    grid-template-columns: 1fr 1fr; /* 2 колонки */
    
    /* Убираем старые flex-стили */
    /* flex-direction: row; */
    /* flex-wrap: wrap; */
    /* align-items: flex-start; */
    
    gap: 5px;
    vertical-align: top;
}

/* (ЗАДАЧА 1) УДАЛЯЕМ старое правило, которое мешало */
/*
.admin-user-table td:nth-child(5) .button.admin-button {
    flex-grow: 1; 
    flex-basis: 0; 
    width: auto; 
    min-width: 100px; 
}
*/

/* 3. Улучшаем общую кнопку (Task 4) */
.button.admin-button {
    width: 100%; /* Занимает всю ширину ячейки/группы (кроме td 5) */
    padding: 10px 12px; /* Более "пухлая" кнопка */
    font-size: 0.9em;
    font-weight: bold; /* Жирный шрифт */
    border: none; /* Убираем рамку */
    border-radius: 6px; /* Скругление */
    transition: all 0.2s ease;
    cursor: pointer;
}

.button.admin-button:hover {
    transform: translateY(-1px); /* Легкий подъем */
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2); /* Тень при наведении */
}

.button.admin-button:active {
    transform: translateY(0);
    box-shadow: none;
}

/* 4. Стилизуем инпуты и селекты, чтобы они тоже были 100% ширины */
.admin-password-input,
.admin-balance-input,
.admin-rank-select {
    width: 100%;
    margin-bottom: 0; /* 'gap' теперь управляет отступом */
}

/* 5. Переопределяем цвета (Task 4) */

/* Кнопки "Сохранить" (Синие) */
.admin-password-save-btn,
.admin-balance-save-btn,
.admin-rank-save-btn {
    background-color: var(--color-blue);
    color: white;
}
.admin-password-save-btn:hover,
.admin-balance-save-btn:hover,
.admin-rank-save-btn:hover {
    background-color: #3a7bc8;
}

/* Кнопка "Статистика" (Зеленая) */
.admin-stats-btn {
    background-color: var(--color-secondary);
    color: white;
}
.admin-stats-btn:hover {
     background-color: #008f66;
}

/* Кнопка "Заблокировать" (Красная) */
.admin-block-btn {
    background-color: var(--color-mine-bomb);
    color: white;
}
.admin-block-btn:hover {
    background-color: #e04848;
}

/* Стили для таблицы (наследуются от .ref-table) */
.admin-user-table th:nth-child(1),
.admin-user-table td:nth-child(1) {
    width: 20%; /* Ник */
}
.admin-user-table th:nth-child(2),
.admin-user-table td:nth-child(2) {
    width: 25%; /* Пароль */
}
.admin-user-table th:nth-child(3),
.admin-user-table td:nth-child(3) {
    width: 25%; /* Баланс */
}
.admin-user-table th:nth-child(4),
.admin-user-table td:nth-child(4) {
    width: 30%; /* Ранг */
}
.admin-user-table th:nth-child(5),
.admin-user-table td:nth-child(5) {
    width: 30%; /* Действия */
    text-align: center;
}
.admin-user-table td:nth-child(5) {
    /* display: flex; (Переопределено на grid) */
    gap: 5px;
    /* flex-wrap: wrap; (Больше не нужно) */
    justify-content: center;
}

/* Стили для инпутов и селектов в таблице */
.admin-password-input,
.admin-balance-input {
    width: 100%;
    padding: 8px;
    border: 1px solid var(--color-border-dark);
    border-radius: 6px;
    background-color: #FFFFFF;
    color: var(--color-text);
    font-size: 1em;
    text-align: left;
    margin-bottom: 5px; /* Отступ до кнопки */
}
.admin-balance-input {
    text-align: right;
}

.admin-rank-select {
    width: 100%;
    padding: 8px;
    border: 1px solid var(--color-border-dark);
    border-radius: 6px;
    background-color: #FFFFFF;
    color: var(--color-text);
    font-size: 1em;
}

/* Статус создания промокода */
#admin-promo-status.success {
    color: var(--color-secondary);
}
#admin-promo-status.error {
    color: var(--color-mine-bomb);
}

/* (ЗАДАЧА 4) Статус очистки истории */
#admin-clear-history-status {
    text-align: center;
    font-size: 0.9em;
    margin-top: 15px;
    font-weight: bold;
    min-height: 1.2em;
}
#admin-clear-history-status.success {
    color: var(--color-secondary);
}
#admin-clear-history-status.error {
    color: var(--color-mine-bomb);
}


/* === (НОВЫЕ) СТИЛИ ДЛЯ МОДАЛЬНОГО ОКНА СТАТИСТИКИ === */
.admin-stats-modal-content {
    background-color: #3D4654;
    padding: 20px;
    border-radius: 12px;
    box-shadow: 0 5px 20px rgba(0, 0, 0, 0.5);
    width: 95%;
    max-width: 450px;
    color: var(--color-text-light);
}

.admin-stats-body {
    display: flex;
    flex-direction: column;
    gap: 15px; /* Отступ между блоками (наследуем .profile-box) */
    margin-top: 15px;
}
/* Используем стили из .profile-box */
#admin-stats-profit-box {
    border: 2px solid var(--color-border-dark);
}
#admin-stats-profit-box.win {
    border-color: var(--color-secondary);
    box-shadow: 0 0 10px var(--color-secondary);
}
#admin-stats-profit-box.loss {
    border-color: var(--color-mine-bomb);
    box-shadow: 0 0 10px var(--color-mine-bomb);
}
#admin-stats-profit-box.win span:last-child {
    color: var(--color-secondary);
}
#admin-stats-profit-box.loss span:last-child {
    color: var(--color-mine-bomb);
}

/* === (ИСПРАВЛЕНО) Адаптация админ-панели для мобильных === */
@media (max-width: 768px) {
    /* 1. Делаем вкладки поуже на очень маленьких экранах */
    @media (max-width: 450px) {
        #admin-tabs {
            gap: 5px; /* Tighter gap */
        }
        #admin-tabs .ref-tab {
            font-size: 0.9em; /* Smaller text */
            padding: 10px 8px;
            /* Восстанавливаем flex-grow, чтобы они заполнили 2+1 строки */
            flex-grow: 1; 
            flex-basis: 0;
        }
    }
    
    /* 2. Прячем заголовки таблицы */
    .admin-user-table thead {
        display: none;
    }

    /* 3. Превращаем строки в "карточки" */
    .admin-user-table tr {
        display: block;
        border: 1px solid var(--color-border-dark);
        border-radius: 8px;
        margin-bottom: 20px;
        padding: 10px;
        background-color: #2E3035; /* Фон карточки */
    }

    /* 4. Ячейки теперь ведут себя как строки "Label: Content" */
    .admin-user-table td {
        display: grid;
        /* ИЗМЕНЕНО: Уменьшаем левую колонку для мобильных */
        grid-template-columns: 100px 1fr; /* Label (100px) | Content (1fr) */
        gap: 10px;
        align-items: center;
        padding: 12px 0;
        border-bottom: 1px solid var(--color-border-dark);
        width: 100% !important; /* !Важно: перебить десктопный width: 30% */
        text-align: left; /* Сбрасываем text-align: center */
    }
    .admin-user-table tr td:last-child {
        border-bottom: none;
    }
    
    /* 5. Добавляем Label с помощью data-label из admin.js */
    .admin-user-table td::before {
        content: attr(data-label); /* Берем текст из data-label="Ник" */
        font-weight: bold;
        opacity: 0.7;
        font-size: 0.9em;
        padding-right: 5px;
    }
    
    /* 6. Стилизуем контент внутри ячеек */
    
    /* Для 1-й ячейки (Ник) - текст контента */
    .admin-user-table td:nth-child(1) {
        font-weight: bold;
    }
    
    /* Для ячеек с инпутами и кнопками (Пароль, Баланс) */
    .admin-user-table td:nth-child(2),
    .admin-user-table td:nth-child(3) {
        /* Контент (инпут + кнопка) должны быть в колонку */
        display: grid;
        grid-template-columns: 100px 1fr;
    }
    /* Заставляем инпут и кнопку в этих ячейках быть в колонке */
    .admin-user-table td:nth-child(2) > input,
    .admin-user-table td:nth-child(2) > button,
    .admin-user-table td:nth-child(3) > input,
    .admin-user-table td:nth-child(3) > button {
        grid-column: 2 / 3; /* Занимают только правую колонку */
    }
    .admin-password-input,
    .admin-balance-input {
         margin-bottom: 8px; /* Отступ между инпутом и кнопкой */
    }

    /* Для ячейки Ранг */
    .admin-user-table td:nth-child(4) {
        display: grid;
        grid-template-columns: 100px 1fr;
    }
    .admin-user-table td:nth-child(4) > .rank-control-group {
        grid-column: 2 / 3;
    }
    
    /* !!! (ИСПРАВЛЕНО) Для ячейки Действия (Task 1) !!! */
    .admin-user-table td:nth-child(5) {
        /* Переопределяем display: grid с десктопа */
        display: grid; 
        grid-template-columns: 100px 1fr; /* Label | Content */
    }
    /* Складываем кнопки "Статистика" и "Заблокировать" в колонку */
    .admin-user-table td:nth-child(5) > .admin-stats-btn,
    .admin-user-table td:nth-child(5) > .admin-block-btn {
        grid-column: 2 / 3; /* Занимают правую колонку */
        width: 100%; /* На всю ширину контентной колонки */
    }
    .admin-stats-btn {
        margin-bottom: 10px; /* Отступ между кнопками */
    }
}
